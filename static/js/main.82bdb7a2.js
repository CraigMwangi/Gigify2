/*! For license information please see main.82bdb7a2.js.LICENSE.txt */
(()=>{var __webpack_modules__={112:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var o=n(e),s=n(t),a="("===(i=i||"()")[0],l=")"===i[1];return(a?this.isAfter(o,r):!this.isBefore(o,r))&&(l?this.isBefore(s,r):!this.isAfter(s,r))||(a?this.isBefore(o,r):!this.isAfter(o,r))&&(l?this.isAfter(s,r):!this.isBefore(s,r))}}}()},232:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},288:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},912:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var s=e.name?e:e.$locale(),a=i(s[t]),l=i(s[n]),c=a||l.map((function(e){return e.slice(0,r)}));if(!o)return c;var u=s.weekStart;return c.map((function(e,t){return c[(t+(u||0))%7]}))},s=function(){return n.Ls[n.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return l.bind(this)()},n.localeData=function(){var e=s();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(s(),"months")},n.monthsShort=function(){return o(s(),"monthsShort","months",3)},n.weekdays=function(e){return o(s(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(s(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(s(),"weekdaysMin","weekdays",2,e)}}}()},408:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,o=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||n[i]||e[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},296:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var n;1===t.length&&t[0].length>0&&(t=t[0]),n=(t=t.filter((function(e){return e})))[0];for(var r=1;r<t.length;r+=1)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n};n.max=function(){var e=[].slice.call(arguments,0);return r("isAfter",e)},n.min=function(){var e=[].slice.call(arguments,0);return r("isBefore",e)}}}()},620:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var s=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===o?s:-s}(r),null===r))return this;var s=Math.abs(r)<=16?60*r:r,a=this;if(i)return a.$offset=s,a.$u=0===r,a;if(0!==r){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+l,e)).$offset=s,a.$x.$localOffset=l}else a=this.utc();return a};var u=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var d=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=s.diff;s.diff=function(e,t,n){if(e&&this.$u===e.$u)return h.call(this,e,t,n);var r=this.local(),i=o(e).local();return h.call(r,i,t,n)}}}()},452:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>gapi});var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime(),function(){var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},da=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},ea=da(this),fa=function(e,t){if(t)e:{var n=ea;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&aa(n,e,{configurable:!0,writable:!0,value:t})}},ha=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}};fa("Symbol",(function(e){if(e)return e;var t=function(e,t){this.ba=e,aa(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.ba};var n=0,r=function(e){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(e||"")+"_"+n++,e)};return r})),fa("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=ea[t[n]];"function"===typeof r&&"function"!=typeof r.prototype[e]&&aa(r.prototype,e,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return e}));var ia=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},ja=function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i};fa("Array.prototype.keys",(function(e){return e||function(){return ja(this,(function(e){return e}))}}));var m=this||self,ka=function(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"},la=function(e,t,n){return e.call.apply(e.bind,arguments)},ma=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},na=function(e,t,n){return(na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma).apply(null,arguments)},oa=function(e,t){function n(){}n.prototype=t.prototype,e.ma=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.A=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}},pa=function(e){return e},qa=function(e){var t=null,n=m.trustedTypes;if(!n||!n.createPolicy)return t;try{t=n.createPolicy(e,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(r){m.console&&m.console.error(r.message)}return t};function q(e){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}oa(q,Error),q.prototype.name="CustomError";var ra=function(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");q.call(this,n+e[r])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(e,t,n,r){var i="Assertion failed";if(n){i+=": "+n;var o=r}else e&&(i+=": "+e,o=t);throw new ra(""+i,o||[])},ta=function(e,t,n){return e||sa("",null,t,Array.prototype.slice.call(arguments,2)),e},ua=function(e,t){throw new ra("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},va=function(e,t,n){"string"!==typeof e&&sa("Expected string but got %s: %s.",[ka(e),e],t,Array.prototype.slice.call(arguments,2))},xa=function(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||m).Element&&r.Location){var i=r;break e}}catch(s){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if("object"==(i=typeof e)&&null!=e||"function"==i)try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}return e},ya,t=function(e,t){this.P=e===za&&t||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(e){return e instanceof t&&e.constructor===t&&e.ca===Aa?e.P:(ua("expected object of type Const, got '"+e+"'"),"type_error:Const")},Aa={},za={},v=function(e,t){this.N=t===Ca?e:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(e){return e instanceof v&&e.constructor===v?e.N:(ua("expected object of type SafeUrl, got '"+e+"' of type "+ka(e)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(e){return e instanceof v?e:(e="object"==typeof e&&e.J?e.H():String(e),ta(Ea.test(e),"%s does not match the safe URL pattern",e)||(e="about:invalid#zClosurez"),new v(e,Ca))},Ca={},w=function(e,t,n){this.M=n===Ga?e:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(e){return e instanceof w&&e.constructor===w?e.M:(ua("expected object of type SafeHtml, got '"+e+"' of type "+ka(e)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(e){var t,n=!1;return function(){return n||(t=function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Ha(Ia),!t.parentElement)}(),n=!0),t}}(),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(e,t,n){return e[t]=e[t]||n},Oa=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1},Pa=function(e){e=e.sort();for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];i!=n&&t.push(i),n=i}return t},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(e){return String(e).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var e;if((e=Object.create)&&Na.test(e))e=e(null);else for(var t in e={})e[t]=void 0;return e},C=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Xa=function(e){if(Na.test(Object.keys))return Object.keys(e);var t,n=[];for(t in e)C(e,t)&&n.push(t);return n},D=function(e,t){for(var n in e=e||{})C(e,n)&&(t[n]=e[n])},Ya=function(e){return function(){x.setTimeout(e,0)}},E=function(e,t){if(!e)throw Error(t||"")},F=A(x,"gapi",{}),H=function(e,t,n){var r=new RegExp("([#].*&|[#])"+t+"=([^&#]*)","g");if(t=new RegExp("([?#].*&|[?#])"+t+"=([^&#]*)","g"),e=e&&(r.exec(e)||t.exec(e)))try{n=decodeURIComponent(e[2])}catch(i){}return n},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(e){e=(e=(e=String(e)).replace($a,(function(e){try{return encodeURIComponent(e)}catch(t){return encodeURIComponent(e.replace(/^[^%]+$/g,"\ufffd"))}})).replace(ab,(function(e){return e.replace(/%/g,"%25")})).replace(bb,(function(e){return e.toUpperCase()}))).match(Za)||[];var t=B(),n=function(e){return e.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},r=!!(e[1]||"").match(cb);return t.A=n((e[1]||"")+(e[2]||"")+(e[3]||(e[2]&&r?"/":""))),r=function(e){return n(e.replace(/\?/g,"%3F").replace(/#/g,"%23"))},t.query=e[5]?[r(e[5])]:[],t.g=e[7]?[r(e[7])]:[],t},db=function(e){return e.A+(0<e.query.length?"?"+e.query.join("&"):"")+(0<e.g.length?"#"+e.g.join("&"):"")},eb=function(e,t){var n=[];if(e)for(var r in e)if(C(e,r)&&null!=e[r]){var i=t?t(e[r]):e[r];n.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}return n},fb=function(e,t,n,r){return(e=I(e)).query.push.apply(e.query,eb(t,r)),e.g.push.apply(e.g,eb(n,r)),db(e)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(e,n){var r=I(n);n=r.A,r.query.length&&(n+="?"+r.query.join("")),r.g.length&&(n+="#"+r.g.join(""));var i="";2e3<n.length&&(i=n,n=(n=n.substr(0,2e3)).replace(gb,""),i=i.substr(n.length));var o=e.createElement("div");if(e=e.createElement("a"),n=(r=I(n)).A,r.query.length&&(n+="?"+r.query.join("")),r.g.length&&(n+="#"+r.g.join("")),n=new v(n,Ca),xa(e,"HTMLAnchorElement"),n=n instanceof v?n:Fa(n),e.href=Da(n),o.appendChild(e),n=o.innerHTML,r=new t(za,"Assignment to self."),va(Ba(r),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(r)),"must provide non-empty justification"),void 0===ya&&(ya=qa("gapi#html")),n=(r=ya)?r.createHTML(n):n,n=new w(n,null,Ga),o.tagName&&Ja[o.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+o.tagName+".");if(Ka())for(;o.lastChild;)o.removeChild(o.lastChild);return o.innerHTML=Ha(n),n=String(o.firstChild.href),o.parentNode&&o.parentNode.removeChild(o),i=(r=I(n+i)).A,r.query.length&&(i+="?"+r.query.join("")),r.g.length&&(i+="#"+r.g.join("")),i},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(e,t,n,r){x[n+"EventListener"]?x[n+"EventListener"](e,t,!1):x[r+"tachEvent"]&&x[r+"tachEvent"]("on"+e,t)},kb=function(){var e=z.readyState;return"complete"===e||"interactive"===e&&-1==navigator.userAgent.indexOf("MSIE")},nb=function(e){var t=lb;if(!kb())try{t()}catch(n){}mb(e)},mb=function(e){if(kb())e();else{var t=!1,n=function(){if(!t)return t=!0,e.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",n,!1),x.addEventListener("DOMContentLoaded",n,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",(function(){kb()&&n.apply(this,arguments)})),x.attachEvent("onload",n))}},ob=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(e){return K.dpo?K.h:H(e,"jsh",K.h)},rb=function(e){var t=A(K,"sws",[]);t.push.apply(t,e)},sb=function(e){return A(K,"watt",B())[e]},tb=function(e){var t=A(K,"PQ",[]);K.PQ=[];var n=t.length;if(0===n)e();else for(var r=0,i=function(){++r===n&&e()},o=0;o<n;o++)t[o](i)},ub=function(e){return A(A(K,"H",B()),e,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(e,t,n){var r=vb.r;"function"===typeof r?r(e,t,n):r.push([e,t,n])},L=function(e,t,n){wb[e]=!t&&wb[e]||n||(new Date).getTime(),yb(e)},Ab=function(e,t,n){t&&0<t.length&&(t=zb(t),n&&0<n.length&&(t+="___"+zb(n)),28<t.length&&(t=t.substr(0,28)+(t.length-28)),n=t,t=A(xb,"_p",B()),A(t,n,B())[e]=(new Date).getTime(),yb(e,"_p",n))},zb=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(e){throw Error("Bad hint"+(e?": "+e:""))};N.push(["jsl",function(e){for(var t in e)if(C(e,t)){var n=e[t];"object"==typeof n?K[t]=A(K,t,[]).concat(n):A(K,t,n)}(t=e.u)&&((e=A(K,"us",[])).push(t),(t=/^https:(.*)$/.exec(t))&&e.push("http:"+t[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(e,t,n,r){var i=e.split(";"),o=i.shift(),s=Bb[o],a=null;return s?a=s(i,t,n,r):O("no hint processor for: "+o),a||O("failed to generate load url"),n=(t=a).match(Hb),(r=t.match(Ib))&&1===r.length&&Jb.test(t)&&n&&1===n.length||O("failed sanity: "+e),a},Nb=function(e,t,n,r){e=Lb(e),Fb.test(n)||O("invalid_callback"),t=Mb(t),r=r&&r.length?Mb(r):null;var i=function(e){return encodeURIComponent(e).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",i(e.version),"/m=",i(t),r?"/exm="+i(r):"","/rt=j/sv=1/d=1/ed=1",e.S?"/am="+i(e.S):"",e.Z?"/rs="+i(e.Z):"",e.aa?"/t="+i(e.aa):"","/cb=",i(n)].join("")},Lb=function(e){"/"!==e.charAt(0)&&O("relative path");for(var t=e.substring(1).split("/"),n=[];t.length;){if((e=t.shift()).length&&0!=e.indexOf(".")){if(0<e.indexOf("=")){t.unshift(e);break}}else O("empty/relative directory");n.push(e)}e={};for(var r=0,i=t.length;r<i;++r){var o=t[r].split("="),s=decodeURIComponent(o[0]),a=decodeURIComponent(o[1]);2==o.length&&s&&a&&(e[s]=e[s]||a)}for(t="/"+n.join("/"),Cb.test(t)||O("invalid_prefix"),n=0,r=Db.length;n<r;++n)Db[n].test(t)&&O("invalid_prefix");return{pathPrefix:t,version:n=Ob(e,"k",!0),S:r=Ob(e,"am"),Z:i=Ob(e,"rs"),aa:e=Ob(e,"t")}},Mb=function(e){for(var t=[],n=0,r=e.length;n<r;++n){var i=e[n].replace(/\./g,"_").replace(/-/g,"_");Gb.test(i)&&t.push(i)}return t.join(",")},Ob=function(e,t,n){if(!(e=e[t])&&n&&O("missing: "+t),e){if(Eb.test(e))return e;O("invalid: "+t)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var e=qb(La.href);if(!e)throw Error("Bad hint");return e};Bb.m=function(e,t,n,r){return(e=e[0])||O("missing_hint"),"https://apis.google.com"+Nb(e,t,n,r)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(e,t){for(var n=[],r=0;r<e.length;++r){var i=e[r];i&&0>Oa.call(t,i)&&n.push(i)}return n},Tb=function(){var e=K.nonce;return void 0!==e?e&&e===String(e)&&e.match(Rb)?e:K.nonce=null:z.querySelector&&(e=z.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"")&&e===String(e)&&e.match(Rb)?K.nonce=e:K.nonce=null:null},Wb=function(e){if("loading"!=z.readyState)Ub(e);else{var t=Tb(),n="";null!==t&&(n=' nonce="'+t+'"'),e="<"+Qb+' src="'+encodeURI(e)+'"'+n+"></"+Qb+">",z.write(Vb?Vb.createHTML(e):e)}},Ub=function(e){var t=z.createElement(Qb);t.setAttribute("src",Vb?Vb.createScriptURL(e):e),null!==(e=Tb())&&t.setAttribute("nonce",e),t.async="true",(e=z.getElementsByTagName(Qb)[0])?e.parentNode.insertBefore(t,e):(z.head||z.body||z.documentElement).appendChild(t)},Xb=function(e,t){var n=t&&t._c;if(n)for(var r=0;r<N.length;r++){var i=N[r][0],o=N[r][1];o&&C(n,i)&&o(n[i],e,t)}},Zb=function(e,t,n){Yb((function(){var n=t===qb(La.href)?A(F,"_",B()):B();n=A(ub(t),"_",n),e(n)}),n)},ac=function(e,t){var n=t||{};"function"==typeof t&&((n={}).callback=t),Xb(e,n),t=e?e.split(":"):[];var r=n.h||Pb(),i=A(K,"ah",B());if(i["::"]&&t.length){e=[];for(var o=null;o=t.shift();){var s=o.split(".");s=i[o]||i[s[1]&&"ns:"+s[0]||""]||r;var a=e.length&&e[e.length-1]||null,l=a;a&&a.hint==s||(l={hint:s,V:[]},e.push(l)),l.V.push(o)}var c=e.length;if(1<c){var u=n.callback;u&&(n.callback=function(){0==--c&&u()})}for(;t=e.shift();)$b(t.V,n,t.hint)}else $b(t||[],n,r)},$b=function(e,t,n){e=Pa(e)||[];var r=t.callback,i=t.config,o=t.timeout,s=t.ontimeout,a=t.onerror,l=void 0;"function"==typeof a&&(l=a);var c=null,u=!1;if(o&&!s||!o&&s)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";a=A(ub(n),"r",[]).sort();var d=A(ub(n),"L",[]).sort(),h=[].concat(a),f=function(e,t){if(u)return 0;x.clearTimeout(c),d.push.apply(d,p);var r=((F||{}).config||{}).update;if(r?r(i):i&&A(K,"cu",[]).push(i),t){Ab("me0",e,h);try{Zb(t,n,l)}finally{Ab("me1",e,h)}}return 1};0<o&&(c=x.setTimeout((function(){u=!0,s()}),o));var p=Sb(e,d);if(p.length){p=Sb(e,a);var m=A(K,"CP",[]),g=m.length;if(m[g]=function(e){if(!e)return 0;Ab("ml1",p,h);var t=function(t){m[g]=null,f(p,e)&&tb((function(){r&&r(),t()}))},n=function(){var e=m[g+1];e&&e()};0<g&&m[g-1]?m[g]=function(){t(n)}:t(n)},p.length){var v="loaded_"+K.I++;F[v]=function(e){m[g](e),F[v]=null},e=Kb(n,p,"gapi."+v,a),a.push.apply(a,p),Ab("ml0",p,h),t.sync||x.___gapisync?Wb(e):Ub(e)}else m[g](Ma)}else f(p)&&r&&r()},Vb=qa("gapi#gapi"),Yb=function(e,t){if(K.hee&&0<K.hel)try{return e()}catch(n){t&&t(n),K.hel--,ac("debug_error",(function(){try{window.___jsl.hefn(n)}catch(e){throw n}}))}else try{return e()}catch(n){throw t&&t(n),n}};F.load=function(e,t){return Yb((function(){return ac(e,t)}))};var bc=function(e){var t=window.___jsl=window.___jsl||{};return t[e]=t[e]||[],t[e]},cc=function(e){var t=window.___jsl=window.___jsl||{};return t.cfg=!e&&t.cfg||{},t.cfg},dc=function(e){return"object"===typeof e&&/\[native code\]/.test(e.push)},P=function(e,t,n){if(t&&"object"===typeof t)for(var r in t)!Object.prototype.hasOwnProperty.call(t,r)||n&&"___goc"===r&&"undefined"===typeof t[r]||(e[r]&&t[r]&&"object"===typeof e[r]&&"object"===typeof t[r]&&!dc(e[r])&&!dc(t[r])?P(e[r],t[r]):t[r]&&"object"===typeof t[r]?(e[r]=dc(t[r])?[]:{},P(e[r],t[r])):e[r]=t[r])},ec=function(e){if(e&&!/^\s+$/.test(e)){for(;0==e.charCodeAt(e.length-1);)e=e.substring(0,e.length-1);try{var t=window.JSON.parse(e)}catch(n){}if("object"===typeof t)return t;try{t=new Function("return ("+e+"\n)")()}catch(n){}if("object"===typeof t)return t;try{t=new Function("return ({"+e+"\n})")()}catch(n){}return"object"===typeof t?t:{}}},fc=function(e,t){var n={___goc:void 0};e.length&&e[e.length-1]&&Object.hasOwnProperty.call(e[e.length-1],"___goc")&&"undefined"===typeof e[e.length-1].___goc&&(n=e.pop()),P(n,t),e.push(n)},gc=function(e){cc(!0);var t=window.___gcfg,n=bc("cu"),r=window.___gu;t&&t!==r&&(fc(n,t),window.___gu=t),t=bc("cu");var i=document.scripts||document.getElementsByTagName("script")||[];r=[];var o=[];o.push.apply(o,bc("us"));for(var s=0;s<i.length;++s)for(var a=i[s],l=0;l<o.length;++l)a.src&&0==a.src.indexOf(o[l])&&r.push(a);for(0==r.length&&0<i.length&&i[i.length-1].src&&r.push(i[i.length-1]),i=0;i<r.length;++i)r[i].getAttribute("gapi_processed")||(r[i].setAttribute("gapi_processed",!0),(o=r[i])?o=3==(s=o.nodeType)||4==s?o.nodeValue:o.textContent||o.innerText||o.innerHTML||"":o=void 0,(o=ec(o))&&t.push(o));for(e&&fc(n,e),e=0,t=(r=bc("cd")).length;e<t;++e)P(cc(),r[e],!0);for(e=0,t=(r=bc("ci")).length;e<t;++e)P(cc(),r[e],!0);for(e=0,t=n.length;e<t;++e)P(cc(),n[e],!0)},Q=function(e){var t=cc();if(!e)return t;for(var n=0,r=(e=e.split("/")).length;t&&"object"===typeof t&&n<r;++n)t=t[e[n]];return n===e.length&&void 0!==t?t:void 0},hc=function(e,t){var n;if("string"===typeof e){for(var r=n={},i=0,o=(e=e.split("/")).length;i<o-1;++i){r=r[e[i]]={}}r[e[i]]=t}else n=e;gc(n)},ic=function(){var e=window.__GOOGLEAPIS;e&&(e.googleapis&&!e["googleapis.config"]&&(e["googleapis.config"]=e.googleapis),A(K,"ci",[]).push(e),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;++t){var n=e[t].name.toLowerCase();if(0==n.lastIndexOf("google-signin-",0)){n=n.substring(14);var r=e[t].content;jc[n]&&r&&(lc[n]=r)}}if(window.self!==window.top)for(var i in e=document.location.toString(),jc)0<jc[i]&&(t=H(e,i,""))&&(lc[i]=t);kc=!0}return i=B(),D(lc,i),i},nc=function(e){return!!(e.clientid&&e.scope&&e.callback)},oc=window.console,pc=function(e){oc&&oc.log&&oc.log(e)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(e){for(var t in R)e(R[t])},tc=function(e,t){(e=R[e])&&e.state<t&&(e.state=t)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(e){var t=Q("googleapis.config/sessionIndex");if("string"===typeof t&&254<t.length&&(t=null),null==t&&(t=window.__X_GOOG_AUTHUSER),"string"===typeof t&&254<t.length&&(t=null),null==t){var n=window.google;n&&(t=n.authuser)}return"string"===typeof t&&254<t.length&&(t=null),null==t&&(e=e||window.location.href,null==(t=H(e,"authuser")||null)&&(t=(t=e.match(vc))?t[1]:null)),null==t?null:(254<(t=String(t)).length&&(t=null),t)},yc=function(e){var t=Q("googleapis.config/sessionDelegate");return"string"===typeof t&&21<t.length&&(t=null),null==t&&(t=(e=(e||window.location.href).match(wc))?e[1]:null),null==t?null:(21<(t=String(t)).length&&(t=null),t)},zc,S,T=void 0,U=function(e){try{return m.JSON.parse.call(m.JSON,e)}catch(t){return!1}},V=function(e){return Object.prototype.toString.call(e)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(e,t){if(t)for(var n=0,r=t.length;n<r;++n)if(e===t[n])throw new TypeError("Converting circular structure to JSON");if("undefined"!==(r=typeof e)){(n=Array.prototype.slice.call(t||[],0))[n.length]=e,t=[];var i=V(e);if(null!=e&&"function"===typeof e.toJSON&&(Object.prototype.hasOwnProperty.call(e,"toJSON")||(i!==Fc||e.constructor!==Array&&e.constructor!==Object)&&(i!==Ec||e.constructor!==Array&&e.constructor!==Object)&&i!==Dc&&i!==Ac&&i!==Cc&&i!==Bc))return W(e.toJSON.call(e),n);if(null==e)t[t.length]="null";else if(i===Ac)e=Number(e),isNaN(e)||isNaN(e-e)?e="null":-0===e&&0>1/e&&(e="-0"),t[t.length]=String(e);else if(i===Cc)t[t.length]=String(!!Number(e));else{if(i===Bc)return W(e.toISOString.call(e),n);if(i===Fc&&V(e.length)===Ac){t[t.length]="[";var o=0;for(r=Number(e.length)>>0;o<r;++o)o&&(t[t.length]=","),t[t.length]=W(e[o],n)||"null";t[t.length]="]"}else if(i==Dc&&V(e.length)===Ac){for(t[t.length]='"',o=0,n=Number(e.length)>>0;o<n;++o)r=String.prototype.charAt.call(e,o),i=String.prototype.charCodeAt.call(e,o),t[t.length]="\b"===r?"\\b":"\f"===r?"\\f":"\n"===r?"\\n":"\r"===r?"\\r":"\t"===r?"\\t":"\\"===r||'"'===r?"\\"+r:31>=i?"\\u"+(i+65536).toString(16).substr(1):32<=i&&65535>=i?r:"\ufffd";t[t.length]='"'}else{if("object"!==r)return;for(o in t[t.length]="{",r=0,e)Object.prototype.hasOwnProperty.call(e,o)&&(void 0!==(i=W(e[o],n))&&(r++&&(t[t.length]=","),t[t.length]=W(o),t[t.length]=":",t[t.length]=i));t[t.length]="}"}}return t.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b))return!1;if(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,"")))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+a+"\n)")}catch(c){return!1}return!(!b||1!==b.length)&&b[0]},Yc=function(){var e=((m.document||{}).scripts||[]).length;if((void 0===zc||void 0===T||S!==e)&&-1!==S){zc=T=!1,S=-1;try{try{T=!!m.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===U("true")&&3===U('[{"a":3}]')[0].a}catch(t){}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=e}}},Zc=function(e){return-1!==S&&(Yc(),(zc?U:Xc)(e))},$c=function(e){if(-1!==S)return Yc(),T?m.JSON.stringify.call(m.JSON,e):W(e)},ad=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==new Date(0).toISOString(),bd=function(){var e=Date.prototype.getUTCFullYear.call(this);return[0>e?"-"+String(1e6-e).substr(1):9999>=e?String(1e4+e).substr(1):"+"+String(1e6+e).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var e=1;e<this.j;++e)this.C[e]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(e,t,n){n||(n=0);var r=e.da;if("string"===typeof t)for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.b[0],n=e.b[1];var s=e.b[2],a=e.b[3],l=e.b[4];for(i=0;80>i;i++){if(40>i)if(20>i){o=a^n&(s^a);var c=1518500249}else o=n^s^a,c=1859775393;else 60>i?(o=n&s|a&(n|s),c=2400959708):(o=n^s^a,c=3395469782);o=(t<<5|t>>>27)+o+l+c+r[i]&4294967295,l=a,a=s,s=4294967295&(n<<30|n>>>2),n=t,t=o}e.b[0]=e.b[0]+t&4294967295,e.b[1]=e.b[1]+n&4294967295,e.b[2]=e.b[2]+s&4294967295,e.b[3]=e.b[3]+a&4294967295,e.b[4]=e.b[4]+l&4294967295};dd.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.j,r=0,i=this.G,o=this.o;r<t;){if(0==o)for(;r<=n;)ed(this,e,r),r+=this.j;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.j){ed(this,i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.j){ed(this,i),o=0;break}}this.o=o,this.D+=t}},dd.prototype.digest=function(){var e=[],t=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var n=this.j-1;56<=n;n--)this.G[n]=255&t,t/=256;for(ed(this,this.G),n=t=0;5>n;n++)for(var r=24;0<=r;r-=8)e[t]=this.b[n]>>r&255,++t;return e};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(e){var t=(e=e||x.event).screenX+e.clientX<<16;t+=e.screenY+e.clientY,t*=(new Date).getTime()%1e6,kd=kd*t%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(e){for(var t=new fd,n=[],r=0,i=(e=unescape(encodeURIComponent(e))).length;r<i;++r)n.push(e.charCodeAt(r));for(t.O.update(n),t=t.O.digest(),e="",n=0;n<t.length;n++)e+="0123456789ABCDEF".charAt(Math.floor(t[n]/16))+"0123456789ABCDEF".charAt(t[n]%16);return e};hd=!!gd&&"function"==typeof gd.getRandomValues,hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+(new Date).getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,0!=id&&jb("mousemove",nd,"add","at"));var pd=function(){var e=kd;return e+=parseInt(md.substr(0,20),16),md=od(md),e/(ld+Math.pow(16,20))},qd=function(){var e=new x.Uint32Array(1);return gd.getRandomValues(e),Number("0."+e[0])},rd=function(){var e=K.onl;if(!e){e=B(),K.onl=e;var t=B();e.e=function(e){var n=t[e];n&&(delete t[e],n())},e.a=function(e,n){t[e]=n},e.r=function(e){delete t[e]}}return e},sd=function(e,t){return"function"===typeof(t=t.onload)?(rd().a(e,t),t):null},td=function(e){return E(/^\w+$/.test(e),"Unsupported id - "+e),rd(),'onload="window.___jsl.onl.e(&#34;'+e+'&#34;)"'},ud=function(e){rd().r(e)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(e){E(!e||ib.test(e),"Illegal url for new iframe - "+e)},zd=function(e,t,n,r,i){yd(n.src);var o,s=sd(r,n),a=s?td(r):"";try{document.all&&(o=e.createElement('<iframe frameborder="'+Wa(String(n.frameborder))+'" scrolling="'+Wa(String(n.scrolling))+'" '+a+' name="'+Wa(String(n.name))+'"/>'))}catch(c){}finally{o||(o=e.createElement("iframe"),s&&(o.onload=function(){o.onload=null,s.call(this)},ud(r)))}for(var l in o.setAttribute("ng-non-bindable",""),n)e=n[l],"style"===l&&"object"===typeof e?D(e,o.style):wd[l]||o.setAttribute(l,String(e));return(l=i&&i.beforeNode||null)||i&&i.dontclear||ob(t),t.insertBefore(o,l),o=l?l.previousSibling:t.lastChild,n.allowtransparency&&(o.allowTransparency=!0),o},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var e=xc()||"0",t=yc(),n=xc(void 0)||e,r=yc(void 0),i="";n&&(i+="u/"+encodeURIComponent(String(n))+"/"),r&&(i+="b/"+encodeURIComponent(String(r))+"/"),n=i||null,(i=(r=!1===Q("isLoggedIn"))?"_/im/":"")&&(n="");var o=Q("iframes/:socialhost:"),s=Q("iframes/:im_socialhost:");return uc={socialhost:o,ctx_socialhost:r?s:o,session_index:e,session_delegate:t,session_prefix:n,im_prefix:i}},Dd=function(e,t){return Cd()[t]||""},Ed=function(e){return function(t,n){return e?Cd()[n]||e[n]||"":Cd()[n]||""}},Fd=function(e){var t;return e.match(/^https?%3A/i)&&(t=decodeURIComponent(e)),hb(document,t||e)},Gd=function(e){e=e||"canonical";for(var t=document.getElementsByTagName("link"),n=0,r=t.length;n<r;n++){var i=t[n],o=i.getAttribute("rel");if(o&&o.toLowerCase()==e&&(i=i.getAttribute("href"))&&(i=Fd(i))&&null!=i.match(/^https?:\/\/[\w\-_\.]+/i))return i}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(e,t,n){var r,i={},o=r=e;for(var s in"plus"==e&&t.action&&(r=e+"_"+t.action,o=e+"/"+t.action),(r=Q("iframes/"+r+"/url"))||(r=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+o+"?usegapi=1"),Hd)i[s]=s+"/"+(t[s]||Hd[s])+"/";if(i=hb(z,r.replace(Bd,Ed(i))),s="iframes/"+e+"/params/",D(t,o={}),(r=Q("lang")||Q("gwidget/lang"))&&(o.hl=r),Id[e]||(o.origin=window.location.origin||window.location.protocol+"//"+window.location.host),o.exp=Q(s+"exp"),s=Q(s+"location"))for(r=0;r<s.length;r++){var a=s[r];o[a]=x.location[a]}switch(e){case"plus":case"follow":s=o.href,r=t.action?void 0:"publisher",s=(s="string"==typeof s?s:void 0)?Fd(s):Gd(r),o.url=s,delete o.href;break;case"plusone":s=(s=t.href)?Fd(s):Gd(),o.url=s,s=t.db,r=Q(),null==s&&r&&(null==(s=r.db)&&(s=r.gwidget&&r.gwidget.db)),o.db=s||void 0,s=t.ecp,r=Q(),null==s&&r&&(null==(s=r.ecp)&&(s=r.gwidget&&r.gwidget.ecp)),o.ecp=s||void 0,delete o.href;break;case"signin":o.url=Gd()}for(var l in K.ILI&&(o.iloader="1"),delete o["data-onload"],delete o.rd,Hd)o[l]&&delete o[l];for(var c in o.gsrc=Q("iframes/:source:"),"undefined"!==typeof(l=Q("inline/css"))&&0<n&&l>=n&&(o.ic="1"),l=/^#|^fr-/,n={},o)C(o,c)&&l.test(c)&&(n[c.replace(l,"")]=o[c],delete o[c]);for(var u in c="q"==Q("iframes/"+e+"/params/si")?o:n,l=mc())!C(l,u)||C(o,u)||C(n,u)||(c[u]=l[u]);for(var d in u=[].concat(Kd),(c=Q("iframes/"+e+"/methods"))&&"object"===typeof c&&Na.test(c.push)&&(u=u.concat(c)),t)C(t,d)&&/^on/.test(d)&&("plus"!=e||"onconnect"!=d)&&(u.push(d),delete o[d]);return delete o.callback,n._methods=u.join(","),fb(i,o,n)},Nd=["style","data-gapiscan"],Pd=function(e){for(var t=B(),n=0!=e.nodeName.toLowerCase().indexOf("g:"),r=0,i=e.attributes.length;r<i;r++){var o=e.attributes[r],s=o.name,a=o.value;0<=Oa.call(Nd,s)||n&&0!=s.indexOf("data-")||"null"===a||"specified"in o&&!o.specified||(n&&(s=s.substr(5)),t[s.toLowerCase()]=a)}return e=e.style,(n=Od(e&&e.height))&&(t.height=String(n)),(e=Od(e&&e.width))&&(t.width=String(e)),t},Od=function(e){var t=void 0;return"number"===typeof e?t=e:"string"===typeof e&&(t=parseInt(e,10)),t},Rd=function(){var e=K.drw;sc((function(t){if(e!==t.id&&4!=t.state&&"share"!=t.type){var n=t.id,r=t.type,i=t.url;t=t.userParams;var o=z.getElementById(n);if(o){var s=Md(r,t,0);s?(o=o.parentNode,i.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==s.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(t.dontclear=!0,t.rd=!0,t.ri=!0,t.type=r,Qd(o,t),(r=R[o.lastChild.id])&&(r.oid=n),tc(n,4))):delete R[n]}else delete R[n]}}))},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(e,t){Yd(void 0,!1,e,t)},Yd=function(e,t,n,r){L("ps0",!0),n=("string"===typeof n?document.getElementById(n):n)||z;var i=z.documentMode;if(n.querySelectorAll&&(!i||8<i)){i=r?[r]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var o=[],s=0;s<i.length;s++){var a=i[s];o.push(".g-"+a,"g\\:"+a)}i=n.querySelectorAll(o.join(","))}else i=n.getElementsByTagName("*");for(n=B(),o=0;o<i.length;o++){var l=s=i[o];a=r;var c=l.nodeName.toLowerCase(),u=void 0;if(l.getAttribute("data-gapiscan"))a=null;else{var d=c.indexOf("g:");0==d?u=c.substr(2):(d=(d=String(l.className||l.getAttribute("class")))&&Wd.exec(d))&&(u=d[1]),a=!u||!(Sd[u]||Td[u]||X[u])||a&&u!==a?null:u}a&&(Xd[a]||0==s.nodeName.toLowerCase().indexOf("g:")||0!=Xa(Pd(s)).length)&&(s.setAttribute("data-gapiscan",!0),A(n,a,[]).push(s))}if(t)for(var h in n)for(t=n[h],r=0;r<t.length;r++)t[r].setAttribute("data-onload",!0);for(var f in n)Ud.push(f);if(L("ps1",!0),(h=Ud.join(":"))||e)try{F.load(h,e)}catch(m){return void pc(m)}if($d(Vd||{}))for(var p in n){for(f=0,t=(e=n[p]).length;f<t;f++)e[f].removeAttribute("data-gapiscan");ae(p)}else{for(p in r=[],n)for(f=0,t=(e=n[p]).length;f<t;f++)i=e[f],be(p,i,Pd(i),r,t);ce(h,r)}},de=function(e){var t=A(F,e,{});t.go||(t.go=function(t){return Zd(t,e)},t.render=function(t,n){return(n=n||{}).type=e,Qd(t,n)})},ee=function(e){Sd[e]=!0},fe=function(e){Td[e]=!0},ge=function(e){X[e]=!0},ae=function(e,t){var n=sb(e);t&&n?(n(t),(n=t.iframeNode)&&n.setAttribute("data-gapiattached",!0)):F.load(e,(function(){var n=sb(e),r=t&&t.iframeNode,i=t&&t.userParams;r&&n?(n(t),r.setAttribute("data-gapiattached",!0)):(n=F[e].go)("signin2"==e?r:r&&r.parentNode,i)}))},$d=function(){return!1},ce=function(){},be=function(e,t,n,r,i,o,s){switch(he(t,e,o)){case 0:e=X[e]?e+"_annotation":e,(r={}).iframeNode=t,r.userParams=n,ae(e,r);break;case 1:if(t.parentNode){for(var a in n)if((o=C(n,a))&&(o=!!(o=n[a])&&"object"===typeof o&&(!o.toString||o.toString===Object.prototype.toString||o.toString===Array.prototype.toString)),o)try{n[a]=$c(n[a])}catch(p){delete n[a]}if(o=!0,n.dontclear&&(o=!1),delete n.dontclear,rc(),a=Md(e,n,i),(i=s||{}).allowPost=1,i.attributes=Jd,i.dontclear=!o,(s={}).userParams=n,s.url=a,s.type=e,n.rd)var l=t;else l=document.createElement("div"),t.setAttribute("data-gapistub",!0),l.style.cssText="position:absolute;width:450px;left:-10000px;",t.parentNode.insertBefore(l,t);s.siteElement=l,l.id||(t=l,A(Ld,e,0),o="___"+e+"_"+Ld[e]++,t.id=o),(t=B())[">type"]=e,D(n,t),o=a,n=l,t=(a=i||{}).attributes||{},E(!(a.allowPost||a.forcePost)||!t.onload,"onload is not supported by post iframe (allowPost or forcePost)"),i=t=o,Ad.test(t)&&(i=Q("iframes/"+i.substring(1)+"/url"),E(!!i,"Unknown iframe url config for - "+t)),o=hb(z,i.replace(Bd,Dd)),t=n.ownerDocument||z,l=0;do{i=a.id||["I",xd++,"_",(new Date).getTime()].join("")}while(t.getElementById(i)&&5>++l);E(5>l,"Error creating iframe id"),l={};var c={};t.documentMode&&9>t.documentMode&&(l.hostiemode=t.documentMode),D(a.queryParams||{},l),D(a.fragmentParams||{},c);var u=a.pfname,d=B();Q("iframes/dropLegacyIdParam")||(d.id=i),d._gfid=i,d.parent=t.location.protocol+"//"+t.location.host;var h=H(t.location.href,"parent");if(!(u=u||"")&&h&&(h=H(t.location.href,"_gfid","")||H(t.location.href,"id",""),u=H(t.location.href,"pfname",""),u=h?u+"/"+h:""),u||(h=Zc(H(t.location.href,"jcp","")))&&"object"==typeof h&&(u=(u=h.id)?h.pfname+"/"+u:""),d.pfname=u,a.connectWithJsonParam&&((h={}).jcp=$c(d),d=h),(h=H(o,"rpctoken")||l.rpctoken||c.rpctoken)||(h=a.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),d.rpctoken=h),a.rpctoken=h,D(d,a.connectWithQueryParams?l:c),h=t.location.href,d=B(),(u=H(h,"_bsh",K.bsh))&&(d._bsh=u),(h=qb(h))&&(d.jsh=h),a.hintInFragment?D(d,c):D(d,l),o=fb(o,l,c,a.paramsSerializer),c=B(),D(vd,c),D(a.attributes,c),c.name=c.id=i,c.src=o,a.eurl=o,d=!!(l=a||{}).allowPost,l.forcePost||d&&2e3<o.length){if(l=I(o),c.src="",a.dropDataPostorigin||(c["data-postorigin"]=o),o=zd(t,n,c,i),-1!=navigator.userAgent.indexOf("WebKit")){var f=o.contentWindow.document;f.open(),c=f.createElement("div"),(d={}).name=h=i+"_inner",d.src="",d.style="display:none",zd(t,c,d,h,a)}for(c=(a=l.query[0])?a.split("&"):[],a=[],d=0;d<c.length;d++)h=c[d].split("=",2),a.push([decodeURIComponent(h[0]),decodeURIComponent(h[1])]);for(l.query=[],c=db(l),E(ib.test(c),"Invalid URL: "+c),(l=t.createElement("form")).method="POST",l.target=i,l.style.display="none",i=c instanceof v?c:Fa(c),xa(l,"HTMLFormElement").action=Da(i),i=0;i<a.length;i++)(c=t.createElement("input")).type="hidden",c.name=a[i][0],c.value=a[i][1],l.appendChild(c);n.appendChild(l),l.submit(),l.parentNode.removeChild(l),f&&f.close(),f=o}else f=zd(t,n,c,i,a);s.iframeNode=f,s.id=f.getAttribute("id"),f=s.id,(n=B()).id=f,n.userParams=s.userParams,n.url=s.url,n.type=s.type,n.state=1,R[f]=n,f=s}else f=null;f&&((s=f.id)&&r.push(s),ae(e,f))}},he=function(e,t,n){if(e&&1===e.nodeType&&t){if(n)return 1;if(X[t]){if(pb[e.nodeName.toLowerCase()])return(e=e.innerHTML)&&e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[t])return 0;if(Sd[t])return 1}}return null},Qd=function(e,t){var n=t.type;delete t.type;var r=("string"===typeof e?document.getElementById(e):e)||void 0;if(r){for(var i in e={},t)C(t,i)&&(e[i.toLowerCase()]=t[i]);e.rd=1,(t=!!e.ri)&&delete e.ri,be(n,r,e,i=[],0,t,void 0),ce(n,i)}else pc("string"==="gapi."+n+".render: missing element "+typeof e?e:"")};A(F,"platform",{}).go=Zd,$d=function(e){for(var t=["_c","jsl","h"],n=0;n<t.length&&e;n++)e=e[t[n]];return t=qb(La.href),!e||0!=e.indexOf("n;")&&0!=t.indexOf("n;")&&e!==t},ce=function(e,t){ie(e,t)};var lb=function(e){Yd(e,!0)},je=function(e,t){t=t||[];for(var n=0;n<t.length;++n)e(t[n]);for(e=0;e<t.length;e++)de(t[e])};N.push(["platform",function(e,t,n){if(Vd=n,t&&Ud.push(t),je(ee,e),je(fe,n._c.annotation),je(ge,n._c.bimodal),ic(),gc(),"explicit"!=Q("parsetags")){if(rb(e),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),n&&(e=n.callback)){var r=Ya(e);delete n.callback}nb((function(){lb(r)}))}}]),F._pl=!0;var ke=function(e){if(e=(e=R[e])?e.oid:void 0){var t=z.getElementById(e);t&&t.parentNode.removeChild(t),delete R[e],ke(e)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(e,t){function n(){jb("message",r,"remove","de")}function r(r){var o=r.data,s=r.origin;if(oe(o,t)){var a=i;i=!1,a&&L("rqe"),pe(e,(function(){a&&L("rqd"),n();for(var e=A(K,"RPMQ",[]),t=0;t<e.length;t++)e[t]({data:o,origin:s})}))}}if(0!==t.length){ne=H(La.href,"pfname","");var i=!0;jb("message",r,"add","at"),ac(e,n)}},oe=function(e,t){if(e=String(e),le.test(e))return!0;var n=!1;if(me.test(e)&&(n=!0,e=e.substr(2)),!/^\{/.test(e))return!1;var r=Zc(e);if(!r)return!1;if(e=r.f,r.s&&e&&-1!=Oa.call(t,e)){if(("_renderstart"===r.s||r.s===ne+"/"+e+"::_renderstart")&&(r=r.a&&r.a[n?0:1],t=z.getElementById(e),tc(e,2),r&&t&&r.width&&r.height)){e:{if(n=t.parentNode,e=r||{},qc()){var i=t.id;if(i){if(1===(r=(r=R[i])?r.state:void 0)||4===r)break e;ke(i)}}(r=n.nextSibling)&&r.getAttribute&&r.getAttribute("data-gapistub")&&(n.parentNode.removeChild(r),n.style.cssText=""),r=e.width;var o=e.height,s=n.style;s.textIndent="0",s.margin="0",s.padding="0",s.background="transparent",s.borderStyle="none",s.cssFloat="none",s.styleFloat="none",s.lineHeight="normal",s.fontSize="1px",s.verticalAlign="baseline",(n=n.style).display="inline-block",(s=t.style).position="static",s.left="0",s.top="0",s.visibility="visible",r&&(n.width=s.width=r+"px"),o&&(n.height=s.height=o+"px"),e.verticalAlign&&(n.verticalAlign=e.verticalAlign),i&&tc(i,3)}t["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},pe=function(e,t){ac(e,t)},qe=function(e,t){this.L=e,e=t||{},this.fa=Number(e.maxAge)||0,this.U=e.domain,this.X=e.path,this.ga=!!e.secure};qe.prototype.read=function(){for(var e=this.L+"=",t=document.cookie.split(/;\s*/),n=0;n<t.length;++n){var r=t[n];if(0==r.indexOf(e))return r.substr(e.length)}},qe.prototype.write=function(e,t){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(e))throw"Invalid cookie value";if(e=this.L+"="+e,this.U&&(e+=";domain="+this.U),this.X&&(e+=";path="+this.X),0<=(t="number"===typeof t?t:this.fa)){var n=new Date;n.setSeconds(n.getSeconds()+t),e+=";expires="+n.toUTCString()}return this.ga&&(e+=";secure"),document.cookie=e,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(e){for(var t=document.cookie.split(/;\s*/),n=0;n<t.length;++n){var r=t[n].split("=");e(r.shift(),r.join("="))}};var te=function(e){this.B=e};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(e){return Y[this.B]=e,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(e){for(var t in Y)Y.hasOwnProperty(t)&&e(t,Y[t])};var ue="https:"===window.location.protocol,ve=ue||"http:"===window.location.protocol?qe:te,we=function(e){var t=e.substr(1),n="",r=window.location.hostname;if(""!==t){if(n=parseInt(t,10),isNaN(n))return null;if((t=r.split(".")).length<n-1)return null;t.length==n-1&&(r="."+r)}else r="";return{i:"S"==e.charAt(0),domain:r,l:n}},xe=function(){var e,t=null;return ve.iterate((function(n,r){0===n.indexOf("G_AUTHUSER_")&&(n=we(n.substring(11)),!e||n.i&&!e.i||n.i==e.i&&n.l>e.l)&&(e=n,t=r)})),{ea:e,F:t}},ye=function(e){if(0!==e.indexOf("GCSC"))return null;var t={W:!1};if(!(e=e.substr(4)))return t;var n=e.charAt(0),r=(e=e.substr(1)).lastIndexOf("_");if(-1==r)return t;var i=we(e.substr(r+1));return null==i||"_"!==(e=e.substring(0,r)).charAt(0)||!(r="E"===n&&i.i)&&("U"!==n||i.i)||r&&!ue?t:{W:!0,i:r,ja:e.substr(1),domain:i.domain,l:i.l}},ze=function(e){return e&&(e=e.split("="))[1]?e[1].split("|"):[]},Ae=function(e){return{clientId:(e=e.split(":"))[0].split("=")[1],ia:ze(e[1]),la:ze(e[2]),ka:ze(e[3])}},Be=function(){var e,t=xe(),n=t.ea;if(null!==(t=t.F)&&(ve.iterate((function(t,r){(t=ye(t))&&t.W&&t.i==n.i&&t.l==n.l&&(e=r)})),e)){var r=Ae(e),i=r&&r.ia[Number(t)];if(r=r&&r.clientId,i)return{F:t,ha:i,clientId:r}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var e=Be();(e=e&&e.F)&&hc("googleapis.config/sessionIndex",e),Ee||(Ee=A(K,"ss",new Z)),(e=Ee).$&&e.$()};var Ce=function(){var e=Be(),t=e&&e.ha||null,n=e&&e.clientId;return ac("auth",{callback:function(){var e=x.gapi.auth,r={client_id:n,session_state:t};e.checkSessionState(r,(function(t){var n=r.session_state,i=Q("isLoggedIn");(i=i!=(t=!Q("debug/forceIm")&&(n&&t||!n&&!t)))&&(hc("isLoggedIn",t),rc(),Rd(),t||((t=e.signOut)?t():(t=e.setToken)&&t(null))),t=mc();var o=Q("savedUserState");o=o!=(n=e._guss(t.cookiepolicy))&&"undefined"!=typeof o,hc("savedUserState",n),(i||o)&&nc(t)&&!Q("disableRealtimeCallback")&&e._pimf(t,!0)}))}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}.call(void 0);var gapiComplete=gapi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}})},992:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},380:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function y(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],w=!1;function _(e,t){var n,r,i,o=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(i=t[r=b[n]])||(e[r]=i);return e}function E(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function S(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function x(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,s,l=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"===typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,T={};function D(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(x(t),T[e]=!0)}function L(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e){var t,n;for(n in e)a(e,n)&&(L(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=f({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(r[n]=f({},r[n]));return r}function N(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var M={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function A(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return L(r)?r.call(t,n):r}function P(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},F={};function z(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(R);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=V(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=L(r[i])?r[i].call(t,e):r[i];return o}}function W(e,t){return e.isValid()?(t=q(t,e.localeData()),U[t]=U[t]||B(t),U[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(R).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function K(){return this._invalidDate}var Q="%d",$=/\d{1,2}/;function Z(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var i=this._relativeTime[n];return L(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return L(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)a(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var ie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function oe(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var se,ae=/\d/,le=/\d\d/,ce=/\d{3}/,ue=/\d{4}/,de=/[+-]?\d{6}/,he=/\d\d?/,fe=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,me=/\d{1,3}/,ge=/\d{1,4}/,ve=/[+-]?\d{1,6}/,ye=/\d+/,be=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,_e=/Z|[+-]\d\d(?::?\d\d)?/gi,Ee=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,xe=/^[1-9]\d?/,ke=/^([1-9]\d|\d)/;function Ce(e,t,n){se[e]=L(t)?t:function(e,r){return e&&n?n:t}}function Te(e,t){return a(se,e)?se[e](t._strict,t._locale):new RegExp(De(e))}function De(e){return Le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ie(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Oe(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ie(t)),n}se={};var Ne={};function Me(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=Oe(e)}),r=e.length,n=0;n<r;n++)Ne[e[n]]=i}function Ae(e,t){Me(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Pe(e,t,n){null!=t&&a(Ne,e)&&Ne[e](t,n._a,n,e)}function Re(e){return e%4===0&&e%100!==0||e%400===0}var je=0,Ue=1,Fe=2,ze=3,Ve=4,Be=5,We=6,qe=7,He=8;function Ye(e){return Re(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?P(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),Ce("Y",be),Ce("YY",he,le),Ce("YYYY",ge,ue),Ce("YYYYY",ve,de),Ce("YYYYYY",ve,de),Me(["YYYYY","YYYYYY"],je),Me("YYYY",(function(e,t){t[je]=2===e.length?r.parseTwoDigitYear(e):Oe(e)})),Me("YY",(function(e,t){t[je]=r.parseTwoDigitYear(e)})),Me("Y",(function(e,t){t[je]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return Oe(e)+(Oe(e)>68?1900:2e3)};var Ge,Ke=$e("FullYear",!0);function Qe(){return Re(this.year())}function $e(e,t){return function(n){return null!=n?(Xe(this,e,n),r.updateOffset(this,t),this):Ze(this,e)}}function Ze(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Xe(e,t,n){var r,i,o,s,a;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=e.month(),a=29!==(a=e.date())||1!==s||Re(o)?a:28,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function Je(e){return L(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,r=oe(e=re(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(L(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Re(e)?29:28:31-n%7%2}Ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Ce("M",he,xe),Ce("MM",he,le),Ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ce("MMMM",(function(e,t){return t.monthsRegex(e)})),Me(["M","MM"],(function(e,t){t[Ue]=Oe(e)-1})),Me(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ue]=i:g(n).invalidMonth=e}));var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),it="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=Se,at=Se;function lt(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ot).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function ct(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ot.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,s))?i:null:-1!==(i=Ge.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,s))||-1!==(i=Ge.call(this._longMonthsParse,s))?i:null:-1!==(i=Ge.call(this._longMonthsParse,s))||-1!==(i=Ge.call(this._shortMonthsParse,s))?i:null}function dt(e,t,n){var r,i,o;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Oe(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function ft(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):Ze(this,"Month")}function pt(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vt(){function e(e,t){return t.length-e.length}var t,n,r,i,o=[],s=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r=Le(this.monthsShort(n,"")),i=Le(this.months(n,"")),o.push(r),s.push(i),a.push(i),a.push(r);o.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function yt(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return a<=0?s=Ye(o=e-1)+a:a>Ye(e)?(o=e+1,s=a-Ye(e)):(o=e,s=a),{year:o,dayOfYear:s}}function Et(e,t,n){var r,i,o=wt(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+St(i=e.year()-1,t,n):s>St(e.year(),t,n)?(r=s-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function St(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(Ye(e)-r+i)/7}function xt(e){return Et(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),Ce("w",he,xe),Ce("ww",he,le),Ce("W",he,xe),Ce("WW",he,le),Ae(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=Oe(e)}));var kt={dow:0,doy:6};function Ct(){return this._week.dow}function Tt(){return this._week.doy}function Dt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Lt(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function It(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Nt(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),Ce("d",he),Ce("e",he),Ce("E",he),Ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ae(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Ae(["d","e","E"],(function(e,t,n,r){t[r]=Oe(e)}));var Mt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),At="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rt=Se,jt=Se,Ut=Se;function Ft(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Nt(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Nt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Vt(e){return!0===e?Nt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,s))||-1!==(i=Ge.call(this._shortWeekdaysParse,s))||-1!==(i=Ge.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,s))||-1!==(i=Ge.call(this._weekdaysParse,s))||-1!==(i=Ge.call(this._minWeekdaysParse,s))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,s))||-1!==(i=Ge.call(this._weekdaysParse,s))||-1!==(i=Ge.call(this._shortWeekdaysParse,s))?i:null}function Wt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=Ze(this,"Day");return null!=e?(e=It(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Rt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Le(this.weekdaysMin(n,"")),i=Le(this.weekdaysShort(n,"")),o=Le(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Jt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Zt),z("k",["kk",2],0,Xt),z("hmm",0,0,(function(){return""+Zt.apply(this)+P(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Zt.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+P(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),Ce("a",en),Ce("A",en),Ce("H",he,ke),Ce("h",he,xe),Ce("k",he,xe),Ce("HH",he,le),Ce("hh",he,le),Ce("kk",he,le),Ce("hmm",fe),Ce("hmmss",pe),Ce("Hmm",fe),Ce("Hmmss",pe),Me(["H","HH"],ze),Me(["k","kk"],(function(e,t,n){var r=Oe(e);t[ze]=24===r?0:r})),Me(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Me(["h","hh"],(function(e,t,n){t[ze]=Oe(e),g(n).bigHour=!0})),Me("hmm",(function(e,t,n){var r=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ve]=Oe(e.substr(r)),g(n).bigHour=!0})),Me("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ve]=Oe(e.substr(r,2)),t[Be]=Oe(e.substr(i)),g(n).bigHour=!0})),Me("Hmm",(function(e,t,n){var r=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ve]=Oe(e.substr(r))})),Me("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ve]=Oe(e.substr(r,2)),t[Be]=Oe(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=$e("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,an={calendar:M,longDateFormat:H,invalidDate:G,ordinal:Q,dayOfMonthOrdinalParse:$,relativeTime:X,months:rt,monthsShort:it,week:kt,weekdays:Mt,weekdaysMin:Pt,weekdaysShort:At,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}o++}return sn}function fn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=sn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):gn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function gn(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=ln[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new N(O(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function vn(e,t){if(null!=t){var n,r,i=an;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(O(ln[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),(n=new N(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!o(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function bn(){return C(ln)}function wn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Ue]<0||n[Ue]>11?Ue:n[Fe]<1||n[Fe]>nt(n[je],n[Ue])?Fe:n[ze]<0||n[ze]>24||24===n[ze]&&(0!==n[Ve]||0!==n[Be]||0!==n[We])?ze:n[Ve]<0||n[Ve]>59?Ve:n[Be]<0||n[Be]>59?Be:n[We]<0||n[We]>999?We:-1,g(e)._overflowDayOfYear&&(t<je||t>Fe)&&(t=Fe),g(e)._overflowWeeks&&-1===t&&(t=qe),g(e)._overflowWeekday&&-1===t&&(t=He),g(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cn=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ln(e){var t,n,r,i,o,s,a=e._i,l=_n.exec(a)||En.exec(a),c=xn.length,u=kn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(xn[t][1].exec(l[1])){i=xn[t][0],r=!1!==xn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(kn[t][1].exec(l[3])){o=(l[2]||" ")+kn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Sn.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Vn(e)}else e._isValid=!1}function In(e,t,n,r,i,o){var s=[On(e),it.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Nn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mn(e,t,n){return!e||At.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function An(e,t,n){if(e)return Dn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Pn(e){var t,n=Tn.exec(Nn(e._i));if(n){if(t=In(n[4],n[3],n[2],n[5],n[6],n[7]),!Mn(n[1],t,e))return;e._a=t,e._tzm=An(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Rn(e){var t=Cn.exec(e._i);null===t?(Ln(e),!1===e._isValid&&(delete e._isValid,Pn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function jn(e,t,n){return null!=e?e:null!=t?t:n}function Un(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,i,o,s=[];if(!e._d){for(r=Un(e),e._w&&null==e._a[Fe]&&null==e._a[Ue]&&zn(e),null!=e._dayOfYear&&(o=jn(e._a[je],r[je]),(e._dayOfYear>Ye(o)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[Ue]=n.getUTCMonth(),e._a[Fe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ze]&&0===e._a[Ve]&&0===e._a[Be]&&0===e._a[We]&&(e._nextDay=!0,e._a[ze]=0),e._d=(e._useUTC?bt:yt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function zn(e){var t,n,r,i,o,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=jn(t.GG,e._a[je],Et(Qn(),1,4).year),r=jn(t.W,1),((i=jn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=Et(Qn(),o,s),n=jn(t.gg,e._a[je],c.year),r=jn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>St(n,o,s)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(a=_t(n,r,i,o,s),e._a[je]=a.year,e._dayOfYear=a.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,o,s,a,l,c=""+e._i,u=c.length,d=0;for(l=(i=q(e._f,e._locale).match(R)||[]).length,t=0;t<l;t++)o=i[t],(n=(c.match(Te(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),d+=n.length),F[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Pe(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=u-d,c.length>0&&g(e).unusedInput.push(c),e._a[ze]<=12&&!0===g(e).bigHour&&e._a[ze]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ze]=Bn(e._locale,e._a[ze],e._meridiem),null!==(a=g(e).era)&&(e._a[je]=e._locale.erasConvertYear(a,e._a[je])),Fn(e),wn(e)}else Pn(e);else Ln(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Wn(e){var t,n,r,i,o,s,a=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,s=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),v(t)&&(s=!0),o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));f(e,n||t)}function qn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function Hn(e){var t=new E(wn(Yn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Yn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new E(wn(t)):(d(t)?e._d=t:o(n)?Wn(e):n?Vn(e):Gn(e),v(e)||(e._d=null),e))}function Gn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Rn(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):s(t)?qn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Hn(a)}function Qn(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var $n=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Zn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Xn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(a(e,t)&&(-1===Ge.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Oe(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Dr(NaN)}function sr(e){var t=re(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function ar(e){return e instanceof sr}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Oe(e[r])!==Oe(t[r]))&&s++;return s+o}function ur(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Ce("Z",_e),Ce("ZZ",_e),Me(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(_e,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+Oe(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||d(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(_e,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Mr(this,Dr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Er(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Yn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Cr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Dr(e,t){var n,r,i,o=e,s=null;return ar(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Cr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:Oe(s[Fe])*n,h:Oe(s[ze])*n,m:Oe(s[Ve])*n,s:Oe(s[Be])*n,ms:Oe(lr(1e3*s[We]))*n}):(s=Tr.exec(e))?(n="-"===s[1]?-1:1,o={y:Lr(s[2],n),M:Lr(s[3],n),w:Lr(s[4],n),d:Lr(s[5],n),h:Lr(s[6],n),m:Lr(s[7],n),s:Lr(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Or(Qn(o.from),Qn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new sr(o),ar(e)&&a(e,"_locale")&&(r._locale=e._locale),ar(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Lr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ir(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Ir(e,t):((n=Ir(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Nr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Mr(this,Dr(n,r),e),this}}function Mr(e,t,n,i){var o=t._milliseconds,s=lr(t._days),a=lr(t._months);e.isValid()&&(i=null==i||i,a&&ht(e,Ze(e,"Month")+a*n),s&&Xe(e,"Date",Ze(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Dr.fn=sr.prototype,Dr.invalid=or;var Ar=Nr(1,"add"),Pr=Nr(-1,"subtract");function Rr(e){return"string"===typeof e||e instanceof String}function jr(e){return S(e)||d(e)||Rr(e)||u(e)||Fr(e)||Ur(e)||null===e||void 0===e}function Ur(e){var t,n,r=s(e)&&!l(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Fr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Rr(e)})).length),t&&n}function zr(e){var t,n,r=s(e)&&!l(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?jr(arguments[0])?(e=arguments[0],t=void 0):zr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=fr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",s=t&&(L(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Qn(n)))}function Wr(){return new E(this)}function qr(e,t){var n=S(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=S(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Yr(e,t,n,r){var i=S(e)?e:Qn(e),o=S(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Gr(e,t){var n,r=S(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $r(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case"year":o=Zr(this,r)/12;break;case"month":o=Zr(this,r);break;case"quarter":o=Zr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Ie(o)}function Zr(e,t){if(e.date()<t.date())return-Zr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(S(e)&&e.isValid()||Qn(e).isValid())?Dr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(S(e)&&e.isValid()||Qn(e).isValid())?Dr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(Qn(),e)}function si(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,hi=3506328*di;function fi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case"minute":t=this._d.valueOf(),t-=fi(t,ui);break;case"second":t=this._d.valueOf(),t-=fi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-fi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case"minute":t=this._d.valueOf(),t+=ui-fi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-fi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ei(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function xi(){return v(this)}function ki(){return f({},g(this))}function Ci(){return g(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Di(e,t){var n,i,o,s=this._eras||yn("en")._eras;for(n=0,i=s.length;n<i;++n)switch("string"===typeof s[n].since&&(o=r(s[n].since).startOf("day"),s[n].since=o.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=r(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}return s}function Li(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([o,s,a].indexOf(e)>=0)return l[r]}function Ii(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Mi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ai(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Pi(e){return a(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Ri(e){return a(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function ji(e){return a(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ui(e,t){return t.erasAbbrRegex(e)}function Fi(e,t){return t.erasNameRegex(e)}function zi(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||ye}function Bi(){var e,t,n,r,i,o=[],s=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Le(c[e].name),r=Le(c[e].abbr),i=Le(c[e].narrow),s.push(n),o.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Wi(e,t){z(0,[e,e.length],0,t)}function qi(e){return $i.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return $i.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yi(){return St(this.year(),1,4)}function Gi(){return St(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function $i(e,t,n,r,i){var o;return null==e?Et(this,r,i).year:(t>(o=St(e,r,i))&&(t=o),Zi.call(this,e,t,n,r,i))}function Zi(e,t,n,r,i){var o=_t(e,t,n,r,i),s=bt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),Ce("N",Ui),Ce("NN",Ui),Ce("NNN",Ui),Ce("NNNN",Fi),Ce("NNNNN",zi),Me(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Ce("y",ye),Ce("yy",ye),Ce("yyy",ye),Ce("yyyy",ye),Ce("yo",Vi),Me(["y","yy","yyy","yyyy"],je),Me(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[je]=n._locale.eraYearOrdinalParse(e,i):t[je]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Wi("gggg","weekYear"),Wi("ggggg","weekYear"),Wi("GGGG","isoWeekYear"),Wi("GGGGG","isoWeekYear"),Ce("G",be),Ce("g",be),Ce("GG",he,le),Ce("gg",he,le),Ce("GGGG",ge,ue),Ce("gggg",ge,ue),Ce("GGGGG",ve,de),Ce("ggggg",ve,de),Ae(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=Oe(e)})),Ae(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),Ce("Q",ae),Me("Q",(function(e,t){t[Ue]=3*(Oe(e)-1)})),z("D",["DD",2],"Do","date"),Ce("D",he,xe),Ce("DD",he,le),Ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Me(["D","DD"],Fe),Me("Do",(function(e,t){t[Fe]=Oe(e.match(he)[0])}));var Ji=$e("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),Ce("DDD",me),Ce("DDDD",ce),Me(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Oe(e)})),z("m",["mm",2],0,"minute"),Ce("m",he,ke),Ce("mm",he,le),Me(["m","mm"],Ve);var to=$e("Minutes",!1);z("s",["ss",2],0,"second"),Ce("s",he,ke),Ce("ss",he,le),Me(["s","ss"],Be);var no,ro,io=$e("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Ce("S",me,ae),Ce("SS",me,le),Ce("SSS",me,ce),no="SSSS";no.length<=9;no+="S")Ce(no,ye);function oo(e,t){t[We]=Oe(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")Me(no,oo);function so(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}ro=$e("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var lo=E.prototype;function co(e){return Qn(1e3*e)}function uo(){return Qn.apply(null,arguments).parseZone()}function ho(e){return e}lo.add=Ar,lo.calendar=Br,lo.clone=Wr,lo.diff=$r,lo.endOf=vi,lo.format=ti,lo.from=ni,lo.fromNow=ri,lo.to=ii,lo.toNow=oi,lo.get=Je,lo.invalidAt=Ci,lo.isAfter=qr,lo.isBefore=Hr,lo.isBetween=Yr,lo.isSame=Gr,lo.isSameOrAfter=Kr,lo.isSameOrBefore=Qr,lo.isValid=xi,lo.lang=ai,lo.locale=si,lo.localeData=li,lo.max=Zn,lo.min=$n,lo.parsingFlags=ki,lo.set=et,lo.startOf=gi,lo.subtract=Pr,lo.toArray=_i,lo.toObject=Ei,lo.toDate=wi,lo.toISOString=Jr,lo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=Si,lo.toString=Xr,lo.unix=bi,lo.valueOf=yi,lo.creationData=Ti,lo.eraName=Oi,lo.eraNarrow=Ni,lo.eraAbbr=Mi,lo.eraYear=Ai,lo.year=Ke,lo.isLeapYear=Qe,lo.weekYear=qi,lo.isoWeekYear=Hi,lo.quarter=lo.quarters=Xi,lo.month=ft,lo.daysInMonth=pt,lo.week=lo.weeks=Dt,lo.isoWeek=lo.isoWeeks=Lt,lo.weeksInYear=Ki,lo.weeksInWeekYear=Qi,lo.isoWeeksInYear=Yi,lo.isoWeeksInISOWeekYear=Gi,lo.date=Ji,lo.day=lo.days=qt,lo.weekday=Ht,lo.isoWeekday=Yt,lo.dayOfYear=eo,lo.hour=lo.hours=rn,lo.minute=lo.minutes=to,lo.second=lo.seconds=io,lo.millisecond=lo.milliseconds=ro,lo.utcOffset=mr,lo.utc=vr,lo.local=yr,lo.parseZone=br,lo.hasAlignedHourOffset=wr,lo.isDST=_r,lo.isLocal=Sr,lo.isUtcOffset=xr,lo.isUtc=kr,lo.isUTC=kr,lo.zoneAbbr=so,lo.zoneName=ao,lo.dates=k("dates accessor is deprecated. Use date instead.",Ji),lo.months=k("months accessor is deprecated. Use month instead",ft),lo.years=k("years accessor is deprecated. Use year instead",Ke),lo.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),lo.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Er);var fo=N.prototype;function po(e,t,n,r){var i=yn(),o=p().set(r,t);return i[n](o,e)}function mo(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,o=yn(),s=e?o._week.dow:0,a=[];if(null!=n)return po(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=po(t,(i+s)%7,r,"day");return a}function vo(e,t){return mo(e,t,"months")}function yo(e,t){return mo(e,t,"monthsShort")}function bo(e,t,n){return go(e,t,n,"weekdays")}function wo(e,t,n){return go(e,t,n,"weekdaysShort")}function _o(e,t,n){return go(e,t,n,"weekdaysMin")}fo.calendar=A,fo.longDateFormat=Y,fo.invalidDate=K,fo.ordinal=Z,fo.preparse=ho,fo.postformat=ho,fo.relativeTime=J,fo.pastFuture=ee,fo.set=I,fo.eras=Di,fo.erasParse=Li,fo.erasConvertYear=Ii,fo.erasAbbrRegex=Ri,fo.erasNameRegex=Pi,fo.erasNarrowRegex=ji,fo.months=lt,fo.monthsShort=ct,fo.monthsParse=dt,fo.monthsRegex=gt,fo.monthsShortRegex=mt,fo.week=xt,fo.firstDayOfYear=Tt,fo.firstDayOfWeek=Ct,fo.weekdays=Ft,fo.weekdaysMin=Vt,fo.weekdaysShort=zt,fo.weekdaysParse=Wt,fo.weekdaysRegex=Gt,fo.weekdaysShortRegex=Kt,fo.weekdaysMinRegex=Qt,fo.isPM=tn,fo.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Oe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",yn);var Eo=Math.abs;function So(){var e=this._data;return this._milliseconds=Eo(this._milliseconds),this._days=Eo(this._days),this._months=Eo(this._months),e.milliseconds=Eo(e.milliseconds),e.seconds=Eo(e.seconds),e.minutes=Eo(e.minutes),e.hours=Eo(e.hours),e.months=Eo(e.months),e.years=Eo(e.years),this}function xo(e,t,n,r){var i=Dr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ko(e,t){return xo(this,e,t,1)}function Co(e,t){return xo(this,e,t,-1)}function To(e){return e<0?Math.floor(e):Math.ceil(e)}function Do(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*To(Io(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=Ie(o/1e3),l.seconds=e%60,t=Ie(e/60),l.minutes=t%60,n=Ie(t/60),l.hours=n%24,s+=Ie(n/24),a+=i=Ie(Lo(s)),s-=To(Io(i)),r=Ie(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function Lo(e){return 4800*e/146097}function Io(e){return 146097*e/4800}function Oo(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Lo(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Io(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function No(e){return function(){return this.as(e)}}var Mo=No("ms"),Ao=No("s"),Po=No("m"),Ro=No("h"),jo=No("d"),Uo=No("w"),Fo=No("M"),zo=No("Q"),Vo=No("y"),Bo=Mo;function Wo(){return Dr(this)}function qo(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Ho(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yo=Ho("milliseconds"),Go=Ho("seconds"),Ko=Ho("minutes"),Qo=Ho("hours"),$o=Ho("days"),Zo=Ho("months"),Xo=Ho("years");function Jo(){return Ie(this.days()/7)}var es=Math.round,ts={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ns(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function rs(e,t,n,r){var i=Dr(e).abs(),o=es(i.as("s")),s=es(i.as("m")),a=es(i.as("h")),l=es(i.as("d")),c=es(i.as("M")),u=es(i.as("w")),d=es(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,ns.apply(null,h)}function is(e){return void 0===e?es:"function"===typeof e&&(es=e,!0)}function os(e,t){return void 0!==ts[e]&&(void 0===t?ts[e]:(ts[e]=t,"s"===e&&(ts.ss=t-1),!0))}function ss(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ts;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ts,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=rs(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var as=Math.abs;function ls(e){return(e>0)-(e<0)||+e}function cs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=as(this._milliseconds)/1e3,c=as(this._days),u=as(this._months),d=this.asSeconds();return d?(e=Ie(l/60),t=Ie(e/60),l%=60,e%=60,n=Ie(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=ls(this._months)!==ls(d)?"-":"",s=ls(this._days)!==ls(d)?"-":"",a=ls(this._milliseconds)!==ls(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var us=sr.prototype;return us.isValid=ir,us.abs=So,us.add=ko,us.subtract=Co,us.as=Oo,us.asMilliseconds=Mo,us.asSeconds=Ao,us.asMinutes=Po,us.asHours=Ro,us.asDays=jo,us.asWeeks=Uo,us.asMonths=Fo,us.asQuarters=zo,us.asYears=Vo,us.valueOf=Bo,us._bubble=Do,us.clone=Wo,us.get=qo,us.milliseconds=Yo,us.seconds=Go,us.minutes=Ko,us.hours=Qo,us.days=$o,us.weeks=Jo,us.months=Zo,us.years=Xo,us.humanize=ss,us.toISOString=cs,us.toString=cs,us.toJSON=cs,us.locale=si,us.localeData=li,us.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),us.lang=ai,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Ce("x",be),Ce("X",Ee),Me("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Me("x",(function(e,t,n){n._d=new Date(Oe(e))})),r.version="2.30.1",i(Qn),r.fn=lo,r.min=Jn,r.max=er,r.now=tr,r.utc=p,r.unix=co,r.months=vo,r.isDate=d,r.locale=mn,r.invalid=y,r.duration=Dr,r.isMoment=S,r.weekdays=bo,r.parseZone=uo,r.localeData=yn,r.isDuration=ar,r.monthsShort=yo,r.weekdaysMin=_o,r.defineLocale=gn,r.updateLocale=vn,r.locales=bn,r.weekdaysShort=wo,r.normalizeUnits=ne,r.relativeTimeRounding=is,r.relativeTimeThreshold=os,r.calendarFormat=Vr,r.prototype=lo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},532:(e,t,n)=>{"use strict";var r=n(552);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},840:(e,t,n)=>{e.exports=n(532)()},552:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},144:(e,t,n)=>{"use strict";var r=n(60),i=n(724);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R,j=Object.assign;function U(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,xe=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function Ce(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Te(){if(Se){var e=Se,t=xe;if(xe=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function De(e,t){return e(t)}function Le(){}var Ie=!1;function Oe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return De(e,t,n)}finally{Ie=!1,(null!==Se||null!==xe)&&(Le(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Me=!1}function Pe(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,je=null,Ue=!1,Fe=null,ze={onError:function(e){Re=!0,je=e}};function Ve(e,t,n,r,i,o,s,a,l){Re=!1,je=null,Pe.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ze=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,St,xt,kt,Ct=!1,Tt=[],Dt=null,Lt=null,It=null,Ot=new Map,Nt=new Map,Mt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Ct=!1,null!==Dt&&Ut(Dt)&&(Dt=null),null!==Lt&&Ut(Lt)&&(Lt=null),null!==It&&Ut(It)&&(It=null),Ot.forEach(Ft),Nt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&Vt(Dt,e),null!==Lt&&Vt(Lt,e),null!==It&&Vt(It,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)jt(n),null===n.blockedOn&&Mt.shift()}var Wt=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Yt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Dt=Rt(Dt,e,t,n,r,i),!0;case"dragenter":return Lt=Rt(Lt,e,t,n,r,i),!0;case"mouseover":return It=Rt(It,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Rt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Rt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(j({},fn,{dataTransfer:0})),gn=on(j({},dn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return xn}var Cn=j({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(Cn),Dn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),In=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(On),Mn=[9,13,27,32],An=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Pn,jn=u&&(!An||Pn&&8<Pn&&11>=Pn),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function Kn(e){Ur(e,0)}function Qn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Yr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},xr={};function kr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=kr("animationend"),Tr=kr("animationiteration"),Dr=kr("animationstart"),Lr=kr("transitionend"),Ir=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ir.set(e,t),l(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var Ar=Or[Mr];Nr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Nr(Cr,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Dr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=je;Re=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Yt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=o,i=_e(n),s=[];e:{var a=Ir.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Cr:case Tr:case Dr:l=vn;break;case Lr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ne(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Dn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(qn(a))if(Zn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Zt=i)?Zt.value:Zt.textContent,Bn=!0)),0<(v=Yr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&zn(e,t)?(e=en(),Jt=Xt=Zt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ur(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Ne(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Ei=[],Si=-1;function xi(e){return{current:e}}function ki(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ci(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ti={},Di=xi(Ti),Li=xi(!1),Ii=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){ki(Li),ki(Di)}function Ai(e,t,n){if(Di.current!==Ti)throw Error(o(168));Ci(Di,t),Ci(Li,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return j({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ii=Di.current,Ci(Di,e),Ci(Li,Li.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,ki(Li),ki(Di),Ci(Di,e)):ki(Li),Ci(Li,n)}var Ui=null,Fi=!1,zi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Je,Bi),i}finally{bt=t,zi=!1}}return null}var Wi=[],qi=0,Hi=null,Yi=0,Gi=[],Ki=0,Qi=null,$i=1,Zi="";function Xi(e,t){Wi[qi++]=Yi,Wi[qi++]=Hi,Hi=e,Yi=t}function Ji(e,t,n){Gi[Ki++]=$i,Gi[Ki++]=Zi,Gi[Ki++]=Qi,Qi=e;var r=$i;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Zi=o+e}else $i=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--qi],Wi[qi]=null,Yi=Wi[--qi],Wi[qi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Zi=Gi[--Ki],Gi[Ki]=null,$i=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=xi(null),bo=null,wo=null,_o=null;function Eo(){_o=wo=bo=null}function So(e){var t=yo.current;ki(yo),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var To=null;function Do(e){null===To?To=[e]:To.push(e)}function Lo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Do(t)):(n.next=i.next,i.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ll)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Io(e,n)}return null===(i=r.interleaved)?(t.next=t,Do(r)):(t.next=i.next,i.next=t),r.interleaved=t,Io(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=s,e.lanes=s,e.memoizedState=d}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ao(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(rc(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ao(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(rc(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ao(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Po(e,i,r))&&(rc(t,e,r,n),Ro(t,e,r))}};function Wo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ni(t)?Ii:Di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ni(t)?Ii:Di.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,l,c){var u=P(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Rc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Pc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(P(s))return g(r,o,s,l);Ko(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Uc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Zo=$o(!0),Xo=$o(!1),Jo={},es=xi(Jo),ts=xi(Jo),ns=xi(Jo);function rs(e){if(e===Jo)throw Error(o(174));return e}function is(e,t){switch(Ci(ns,t),Ci(ts,e),Ci(es,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ci(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ci(ts,e),Ci(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=xi(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,_s=0;function Es(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function xs(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Ts(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Ds(e,t){return"function"===typeof t?t(e):t}function Ls(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,jl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Is(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function Ns(e,t){var n=ms,r=Ts(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,qs(Ps.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Fs(9,As.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ps)||Ms(n,t,i)}return i}function Ms(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&js(e)}function Ps(e,t,n){return n((function(){Rs(t)&&js(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function js(e){var t=Io(e,1);null!==t&&rc(t,e,1,-1)}function Us(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return Ts().memoizedState}function Vs(e,t,n,r){var i=Cs();ms.flags|=e,i.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Ts();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=Fs(t,n,o,r))}ms.flags|=e,i.memoizedState=Fs(1|t,n,o,r)}function Ws(e,t){return Vs(8390656,8,e,t)}function qs(e,t){return Bs(2048,8,e,t)}function Hs(e,t){return Bs(4,2,e,t)}function Ys(e,t){return Bs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Gs.bind(null,t,e),n)}function Qs(){}function $s(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,jl|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Ts().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Lo(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Do(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Lo(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Co,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},aa={readContext:Co,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Us,useDebugValue:Qs,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Us(!1),t=e[0];return e=Js.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Cs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ps)||Ms(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ws(Ps.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=Il.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Co,useCallback:$s,useContext:Co,useEffect:qs,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:Ys,useMemo:Zs,useReducer:Ls,useRef:zs,useState:function(){return Ls(Ds)},useDebugValue:Qs,useDeferredValue:function(e){return Xs(Ts(),gs.memoizedState,e)},useTransition:function(){return[Ls(Ds)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Co,useCallback:$s,useContext:Co,useEffect:qs,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:Ys,useMemo:Zs,useReducer:Is,useRef:zs,useState:function(){return Is(Ds)},useDebugValue:Qs,useDeferredValue:function(e){var t=Ts();return null===gs?t.memoizedState=e:Xs(t,gs.memoizedState,e)},useTransition:function(){return[Is(Ds)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Yl=r),ha(0,t)},n}function ma(e,t,n){(n=Ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ao(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Zo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=xs(e,t,n,r,o,i),n=ks(),null===e||wa?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Al,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Al,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Al,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Al,Ml),Ml|=r;return _a(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Ni(n)?Ii:Di.current;return o=Oi(t,o),ko(t,i),n=xs(e,t,n,r,o,i),r=ks(),null===e||wa?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Da(e,t,n,r,i){if(Ni(n)){var o=!0;Ri(t)}else o=!1;if(ko(t,i),null===t.stateNode)qa(e,t),qo(t,n,r),Yo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Oi(t,c=Ni(n)?Ii:Di.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Ho(t,s,r,c),Oo=!1;var h=t.memoizedState;s.state=h,Uo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Li.current||Oo?("function"===typeof u&&(Vo(t,n,u,r),l=t.memoizedState),(a=Oo||Wo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Mo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Oi(t,l=Ni(n)?Ii:Di.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ho(t,s,r,l),Oo=!1,h=t.memoizedState,s.state=h,Uo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Li.current||Oo?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(c=Oo||Wo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return La(e,t,n,r,o,i)}function La(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&ji(t,n,!1),Ha(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),is(e,t.containerInfo)}function Oa(e,t,n,r,i){return po(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Na,Ma,Aa,Pa,Ra={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ci(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ra,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(s=Rc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Zo(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Io(e,i),rc(r,e,i,-1))}return gc(),za(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ki++]=$i,Gi[Ki++]=Zi,Gi[Ki++]=Qi,$i=e.id,Zi=e.overflow,Qi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ac(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Ac(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mo(r),Zo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ni(t.type)&&Mi(),Ga(t),null;case 3:return r=t.stateNode,os(),ki(Li),ki(Di),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ma(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":Y(r),J(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Pa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Ma(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return So(t.type._context),Ga(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ya(s,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ya(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Wl&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ya(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Ze()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=ls.current,Ci(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Li),ki(Di),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return So(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Pa=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Za=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Za||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Za&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,fl(e,t,n),Za=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ze())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(u=Za)||d,gl(t,e),Za=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,Ja=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Za;a=$a;var c=Za;if($a=s,(Za=l)&&!c)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Ja=l):Sl(i);for(;null!==o;)Ja=o,wl(o,t,n),o=o.sibling;Ja=i,$a=a,Za=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):_l(e)}}function _l(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Za||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var xl,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Dl=w.ReactCurrentBatchConfig,Ll=0,Il=null,Ol=null,Nl=0,Ml=0,Al=xi(0),Pl=0,Rl=null,jl=0,Ul=0,Fl=0,zl=null,Vl=null,Bl=0,Wl=1/0,ql=null,Hl=!1,Yl=null,Gl=null,Kl=!1,Ql=null,$l=0,Zl=0,Xl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Ll)?Ze():-1!==Jl?Jl:Jl=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Zl)throw Zl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Ll)&&e===Il||(e===Il&&(0===(2&Ll)&&(Ul|=n),4===Pl&&lc(e,Nl)),ic(e,r),1===n&&0===Ll&&0===(1&t.mode)&&(Wl=Ze()+500,Fi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Il?Nl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),si((function(){0===(6&Ll)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,ec=0,0!==(6&Ll))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Ll;Ll|=2;var s=mc();for(Il===e&&Nl===t||(ql=null,Wl=Ze()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}Eo(),Cl.current=s,Ll=i,null!==Ol?t=0:(Il=null,Nl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Rl,fc(e,0),lc(e,r),ic(e,Ze()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Rl,fc(e,0),lc(e,r),ic(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,Vl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Vl,ql),t);break}Ec(e,Vl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Vl,ql),r);break}Ec(e,Vl,ql);break;default:throw Error(o(329))}}}return ic(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ll))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,Ze()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Rl,fc(e,0),lc(e,t),ic(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,ql),ic(e,Ze()),null}function uc(e,t){var n=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=n)&&(Wl=Ze()+500,Fi&&Bi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Ll)&&Sc();var t=Ll;Ll|=1;var n=Dl.transition,r=bt;try{if(Dl.transition=null,bt=1,e)return e()}finally{bt=r,Dl.transition=n,0===(6&(Ll=t))&&Bi()}}function hc(){Ml=Al.current,ki(Al)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:os(),ki(Li),ki(Di),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:So(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Ol=e=Ac(e.current,null),Nl=Ml=t,Pl=0,Rl=null,Fl=Ul=jl=0,Vl=zl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Ol;try{if(Eo(),hs.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,Tl.current=null,null===n||null===n.return){Pl=1,Rl=t,Ol=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Pl&&(Pl=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=sa,null===e?sa:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Il||0===(268435455&jl)&&0===(268435455&Ul)||lc(Il,Nl)}function vc(e,t){var n=Ll;Ll|=2;var r=mc();for(Il===e&&Nl===t||(ql=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Eo(),Ll=n,Cl.current=r,null!==Ol)throw Error(o(261));return Il=null,Nl=0,Pl}function yc(){for(;null!==Ol;)wc(Ol)}function bc(){for(;null!==Ol&&!Qe();)wc(Ol)}function wc(e){var t=xl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?_c(e):Ol=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Ml)))return void(Ol=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Pl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Pl&&(Pl=5)}function Ec(e,t,n){var r=bt,i=Dl.transition;try{Dl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Ll))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Il&&(Ol=Il=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Dl.transition,Dl.transition=null;var a=bt;bt=1;var l=Ll;Ll|=4,Tl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Ll=l,bt=a,Dl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Ql=e,$l=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Yl,Yl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Zl++:(Zl=0,Xl=e):Zl=0,Bi()}(e,t,n,r)}finally{Dl.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=wt($l),t=Dl.transition,n=bt;try{if(Dl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&Ll))throw Error(o(331));var i=Ll;for(Ll|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(sl(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===a){Ja=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Ja=_;break e}Ja=l.return}}if(Ll=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Dl.transition=t}}return!1}function xc(e,t,n){e=Po(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Po(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Nl&n)===n&&(4===Pl||3===Pl&&(130023424&Nl)===Nl&&500>Ze()-Bl?fc(e,0):Fl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Io(e,t))&&(vt(e,t,n),ic(e,n))}function Dc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Ic(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Oc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Mc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Rc(n.children,i,s,t);case x:a=8,i|=8;break;case k:return(e=Nc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case L:return(e=Nc(13,n,t,i)).elementType=L,e.lanes=s,e;case I:return(e=Nc(19,n,t,i)).elementType=I,e.lanes=s,e;case M:return jc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case T:a=9;break e;case D:a=11;break e;case O:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Pi(e,n,t)}return t}function Wc(e,t,n,r,i,o,s,a,l){return(e=Vc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Ao(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Po(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(i,t,s))&&(rc(e,i,s,o),Ro(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Li.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),po();break;case 5:ss(t);break;case 1:Ni(t.type)&&Ri(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(Ci(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ci(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Ji(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Oi(t,Di.current);ko(t,n),i=xs(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Ri(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Yo(t,r,e,n),t=La(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===O)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Da(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Mo(e,t),Uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ua(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ci(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Li.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ao(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),xo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Co(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Sa(e,t,r,i=vo(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),qa(e,t),t.tag=1,Ni(r)?(e=!0,Ri(t)):e=!1,ko(t,n),qo(t,r,i),Yo(t,r,i,n),La(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ze()),0===(6&Ll)&&(Wl=Ze()+500,Bi()))}break;case 13:dc((function(){var t=Io(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Io(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},xt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},De=uc,Le=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ce,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},180:(e,t,n)=>{"use strict";var r=n(292);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},292:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(144)},36:(e,t,n)=>{"use strict";var r=n(60),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},564:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+D(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),L(s,t,i,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+D(a=e[c],c);l+=L(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=L(a=a.value,t,i,u=o+D(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},M={transition:null},A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},60:(e,t,n)=>{"use strict";e.exports=n(564)},496:(e,t,n)=>{"use strict";e.exports=n(36)},692:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,M(E);else{var t=r(u);null!==t&&A(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!L());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&A(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,k=null,C=-1,T=5,D=-1;function L(){return!(t.unstable_now()-D<T)}function I(){if(null!==k){var e=t.unstable_now();D=e;var n=!0;try{n=k(!0,e)}finally{n?S():(x=!1,k=null)}}else x=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=I,S=function(){N.postMessage(null)}}else S=function(){v(I,0)};function M(e){k=e,x||(x=!0,S())}function A(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,A(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,M(E))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},724:(e,t,n)=>{"use strict";e.exports=n(692)},568:e=>{"use strict";var t=function(){};e.exports=t}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,__webpack_require__.d(i,o),i}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".44dc0451.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="gigify:";__webpack_require__.l=(n,r,i,o)=>{if(e[n])e[n].push(r);else{var s,a;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var d=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),a&&document.head.appendChild(s)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/Gigify2/",(()=>{var e={590:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,o=n[0],s=n[1],a=n[2],l=0;if(o.some((t=>0!==e[t]))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(a)a(__webpack_require__)}for(t&&t(n);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkgigify=self.webpackChunkgigify||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{hasBrowserEnv:()=>YA,hasStandardBrowserEnv:()=>GA,hasStandardBrowserWebWorkerEnv:()=>QA});var t,n=__webpack_require__(60),r=__webpack_require__.t(n,2),i=__webpack_require__(180),o=__webpack_require__(292),s=__webpack_require__.t(o,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,u=o.history,p=t.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return e(o,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,y),m=e,()=>{o.removeEventListener(l,y),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=h(w.location,e,n);r&&r(i,e),g=v()+1;let a=d(i,g),l=w.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}s&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=h(w.location,e,n);r&&r(i,e),g=v();let o=d(i,g),a=w.createHref(i);u.replaceState(o,"",a),s&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=O(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=D(i[s],I(r));return o}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=R([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,_=3,E=2,S=1,x=10,k=-2,C=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=E),n.filter((e=>!C(e))).reduce(((e,t)=>e+(w.test(t)?_:""===t?S:x)),r)}function D(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:R([i,c.pathname]),pathnameBase:j(R([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=R([i,c.pathnameBase]))}return o}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function I(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function A(e,t){let n=M(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function P(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),N("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),N("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),N("#","search","hash",i)));let o,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:F(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],B=(new Set(V),["get",...V]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const q=n.createContext(null);const H=n.createContext(null);const Y=n.createContext(null);const G=n.createContext(null);const K=n.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=n.createContext(null);function $(){return null!=n.useContext(G)}function Z(){return $()||c(!1),n.useContext(G).location}function X(e){n.useContext(Y).static||n.useLayoutEffect(e)}function J(){let{isDataRoute:e}=n.useContext(K);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=he(ce.UseNavigateStable),r=n.useRef(!1);X((()=>{r.current=!0}));let i=n.useCallback((function(n,i){void 0===i&&(i={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,W({fromRouteId:t},i)))}),[e,t]);return i}():function(){$()||c(!1);let e=n.useContext(q),{basename:t,future:r,navigator:i}=n.useContext(Y),{matches:o}=n.useContext(K),{pathname:s}=Z(),a=JSON.stringify(A(o,r.v7_relativeSplatPath)),l=n.useRef(!1);X((()=>{l.current=!0}));let u=n.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let o=P(n,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:R([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,a,s,e]);return u}()}function ee(){let{matches:e}=n.useContext(K),t=e[e.length-1];return t?t.params:{}}function te(e,t){let{relative:r}=void 0===t?{}:t,{future:i}=n.useContext(Y),{matches:o}=n.useContext(K),{pathname:s}=Z(),a=JSON.stringify(A(o,i.v7_relativeSplatPath));return n.useMemo((()=>P(e,JSON.parse(a),s,"path"===r)),[e,a,s,r])}function ne(e,r,i,o){$()||c(!1);let{navigator:s}=n.useContext(Y),{matches:a}=n.useContext(K),l=a[a.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=Z();if(r){var m;let e="string"===typeof r?p(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=v(e,{pathname:"/"===d?g:g.slice(d.length)||"/"});let b=ae(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,o);return r&&b?n.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},b):b}function re(){let e=function(){var e;let t=n.useContext(Q),r=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[i]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:o},r):null,null)}const ie=n.createElement(re,null);class oe extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(K.Provider,{value:this.props.routeContext},n.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:r,children:i}=e,o=n.useContext(q);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(K.Provider,{value:t},i)}function ae(e,t,r,i){var o;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let n=0;n<a.length;n++){let e=a[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=n),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,c=!1,h=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===o?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):d===o&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?h:c?f:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:e,n.createElement(se,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?n.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=n.useContext(q);return t||c(!1),t}function de(e){let t=n.useContext(H);return t||c(!1),t}function he(e){let t=function(e){let t=n.useContext(K);return t||c(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};r.startTransition;function pe(e){c(!1)}function me(e){let{basename:r="/",children:i=null,location:o,navigationType:s=t.Pop,navigator:a,static:l=!1,future:u}=e;$()&&c(!1);let d=r.replace(/^\/*/,"/"),h=n.useMemo((()=>({basename:d,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},u)})),[d,u,a,l]);"string"===typeof o&&(o=p(o));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=o,b=n.useMemo((()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[d,f,m,g,v,y,s]);return null==b?null:n.createElement(Y.Provider,{value:h},n.createElement(G.Provider,{children:i,value:b}))}function ge(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise((()=>{}));n.Component;function ve(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,((e,i)=>{if(!n.isValidElement(e))return;let o=[...t,i];if(e.type===n.Fragment)return void r.push.apply(r,ve(e.props.children,o));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ve(e.props.children,o)),r.push(s)})),r}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(KP){}new Map;const _e=r.startTransition;s.flushSync,r.useId;function Ee(e){let{basename:t,children:r,future:i,window:o}=e,s=n.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,e)}({window:o,v5Compat:!0}));let a=s.current,[l,c]=n.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},d=n.useCallback((e=>{u&&_e?_e((()=>c(e))):c(e)}),[c,u]);return n.useLayoutEffect((()=>a.listen(d)),[a,d]),n.createElement(me,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:i})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=n.forwardRef((function(e,t){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,unstable_viewTransition:p}=e,m=be(e,we),{basename:g}=n.useContext(Y),v=!1;if("string"===typeof d&&xe.test(d)&&(r=d,Se))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(KP){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;$()||c(!1);let{basename:i,navigator:o}=n.useContext(Y),{hash:s,pathname:a,search:l}=te(e,{relative:r}),u=a;return"/"!==i&&(u="/"===a?i:R([i,a])),o.createHref({pathname:u,search:l,hash:s})}(d,{relative:o}),b=function(e,t){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=J(),u=Z(),d=te(e,{relative:a});return n.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,d,i,o,r,e,s,a,l])}(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:o,unstable_viewTransition:p});return n.createElement("a",ye({},m,{href:r||y,onClick:v||s?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Ce,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));const De=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(De(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ie;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(e){return function(e){const t=De(e);return Le.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ne=function(e){try{return Le.decodeString(e,!0)}catch(KP){console.error("base64Decode failed: ",KP)}return null};const Me=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ae=()=>{try{return Me()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Gigify2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_API_KEY:"AIzaSyDfNCiZBEE0pxF-7O8Tb7U7HWSPefje50Q",REACT_APP_GOOGLE_CLIENT_ID:"556828166349-jjodibfl9b6g3djt6r0hq93go56qjprr.apps.googleusercontent.com",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAJP4EUYo_UsOFFPFHiIjcwU_OI77GQhIQ"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(KP){return}const t=e&&Ne(e[1]);return t&&JSON.parse(t)})()}catch(KP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(KP))}},Pe=e=>{var t,n;return null===(n=null===(t=Ae())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Re=e=>{const t=Pe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},je=()=>{var e;return null===(e=Ae())||void 0===e?void 0:e.config},Ue=e=>{var t;return null===(t=Ae())||void 0===t?void 0:t["_".concat(e)]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ze(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(o)),""].join(".")}function Ve(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Be(){return!function(){var e;const t=null===(e=Ae())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(KP){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"===typeof indexedDB}catch(KP){return!1}}class qe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ye,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qe(n,o,t)}}const Ye=/\{\$([^}]+)}/g;function Ge(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ke(n)&&Ke(o)){if(!Ge(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ke(e){return null!==e&&"object"===typeof e}function Qe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $e(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ze(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Xe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Je),void 0===r.error&&(r.error=Je),void 0===r.complete&&(r.complete=Je);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(KP){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(KP){"undefined"!==typeof console&&console.error&&console.error(KP)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Je(){}function et(e){return e&&e._delegate?e._delegate:e}class tt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nt="[DEFAULT]";class rt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Fe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(KP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(KP){if(r)return null;throw KP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch(KP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(KP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===nt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.component?this.component.multipleInstances?e:nt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class it{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ot=[];var st;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(st||(st={}));const at={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},lt=st.INFO,ct={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},ut=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ct[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class dt{constructor(e){this.name=e,this._logLevel=lt,this._logHandler=ut,this._userLogHandler=null,ot.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?at[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const ht=(e,t)=>t.some((t=>e instanceof t));let ft,pt;const mt=new WeakMap,gt=new WeakMap,vt=new WeakMap,yt=new WeakMap,bt=new WeakMap;let wt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return St(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pt||(pt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xt(this),n),St(mt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return St(e.apply(xt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(xt(this),t,...r);return vt.set(o,t.sort?t.sort():[t]),St(o)}}function Et(e){return"function"===typeof e?_t(e):(e instanceof IDBTransaction&&function(e){if(gt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));gt.set(e,t)}(e),ht(e,ft||(ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,wt):e)}function St(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(St(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&mt.set(t,e)})).catch((()=>{})),bt.set(t,e),t}(e);if(yt.has(e))return yt.get(e);const t=Et(e);return t!==e&&(yt.set(e,t),bt.set(t,e)),t}const xt=e=>bt.get(e);const kt=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Tt=new Map;function Dt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Tt.get(t))return Tt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ct.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Tt.set(t,o),o}wt=(e=>({...e,get:(t,n,r)=>Dt(t,n)||e.get(t,n,r),has:(t,n)=>!!Dt(t,n)||e.has(t,n)}))(wt);class Lt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const It="@firebase/app",Ot="0.9.27",Nt=new dt("@firebase/app"),Mt="[DEFAULT]",At={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pt=new Map,Rt=new Map;function jt(e,t){try{e.container.addComponent(t)}catch(KP){Nt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),KP)}}function Ut(e){const t=e.name;if(Rt.has(t))return Nt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Rt.set(t,e);for(const n of Pt.values())jt(n,e);return!0}function Ft(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const zt=new He("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Bt="10.8.0";function Wt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zt.create("bad-app-name",{appName:String(i)});if(n||(n=je()),!n)throw zt.create("no-options");const o=Pt.get(i);if(o){if(Ge(n,o.options)&&Ge(r,o.config))return o;throw zt.create("duplicate-app",{appName:i})}const s=new it(i);for(const l of Rt.values())s.addComponent(l);const a=new Vt(n,r,s);return Pt.set(i,a),a}function qt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;const t=Pt.get(e);if(!t&&e===Mt&&je())return Wt();if(!t)throw zt.create("no-app",{appName:e});return t}function Ht(e,t,n){var r;let i=null!==(r=At[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Nt.warn(e.join(" "))}Ut(new tt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Yt="firebase-heartbeat-database",Gt=1,Kt="firebase-heartbeat-store";let Qt=null;function $t(){return Qt||(Qt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=St(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(St(s.result),e.oldVersion,e.newVersion,St(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Yt,Gt,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Kt)}catch(KP){console.warn(KP)}}}).catch((e=>{throw zt.create("idb-open",{originalErrorMessage:e.message})}))),Qt}async function Zt(e,t){try{const n=(await $t()).transaction(Kt,"readwrite"),r=n.objectStore(Kt);await r.put(t,Xt(e)),await n.done}catch(KP){if(KP instanceof qe)Nt.warn(KP.message);else{const t=zt.create("idb-set",{originalErrorMessage:null===KP||void 0===KP?void 0:KP.message});Nt.warn(t.message)}}}function Xt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Jt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=en();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=en(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),nn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Oe(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function en(){return(new Date).toISOString().substring(0,10)}class tn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!We()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await $t()).transaction(Kt),n=await t.objectStore(Kt).get(Xt(e));return await t.done,n}catch(KP){if(KP instanceof qe)Nt.warn(KP.message);else{const t=zt.create("idb-get",{originalErrorMessage:null===KP||void 0===KP?void 0:KP.message});Nt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nn(e){return Oe(JSON.stringify({version:2,heartbeats:e})).length}var rn;rn="",Ut(new tt("platform-logger",(e=>new Lt(e)),"PRIVATE")),Ut(new tt("heartbeat",(e=>new Jt(e)),"PRIVATE")),Ht(It,Ot,rn),Ht(It,Ot,"esm2017"),Ht("fire-js","");Ht("firebase","10.8.0","app");var on,sn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},an={},ln=ln||{},cn=sn||self;function un(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function dn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hn="closure_uid_"+(1e9*Math.random()>>>0),fn=0;function pn(e,t,n){return e.call.apply(e.bind,arguments)}function mn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function gn(e,t,n){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pn:mn).apply(null,arguments)}function vn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function bn(){this.s=this.s,this.o=this.o}bn.prototype.s=!1,bn.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,hn)&&e[hn]||(e[hn]=++fn))},bn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _n(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function En(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(un(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Sn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Sn.prototype.h=function(){this.defaultPrevented=!0};var xn=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};cn.addEventListener("test",e,t),cn.removeEventListener("test",e,t)}catch(n){}return e}();function kn(e){return/^[\s\xa0]*$/.test(e)}function Cn(){var e=cn.navigator;return e&&(e=e.userAgent)?e:""}function Tn(e){return-1!=Cn().indexOf(e)}function Dn(e){return Dn[" "](e),e}Dn[" "]=function(){};var Ln,In,On=Tn("Opera"),Nn=Tn("Trident")||Tn("MSIE"),Mn=Tn("Edge"),An=Mn||Nn,Pn=Tn("Gecko")&&!(-1!=Cn().toLowerCase().indexOf("webkit")&&!Tn("Edge"))&&!(Tn("Trident")||Tn("MSIE"))&&!Tn("Edge"),Rn=-1!=Cn().toLowerCase().indexOf("webkit")&&!Tn("Edge");function jn(){var e=cn.document;return e?e.documentMode:void 0}e:{var Un="",Fn=function(){var e=Cn();return Pn?/rv:([^\);]+)(\)|;)/.exec(e):Mn?/Edge\/([\d\.]+)/.exec(e):Nn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rn?/WebKit\/(\S+)/.exec(e):On?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Fn&&(Un=Fn?Fn[1]:""),Nn){var zn=jn();if(null!=zn&&zn>parseFloat(Un)){Ln=String(zn);break e}}Ln=Un}if(cn.document&&Nn){var Vn=jn();In=Vn||(parseInt(Ln,10)||void 0)}else In=void 0;var Bn=In;function Wn(e,t){if(Sn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Pn){e:{try{Dn(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:qn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wn.$.h.call(this)}}yn(Wn,Sn);var qn={2:"touch",3:"pen",4:"mouse"};Wn.prototype.h=function(){Wn.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Yn=0;function Gn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Yn,this.fa=this.ia=!1}function Kn(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Qn(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function $n(e){const t={};for(const n in e)t[n]=e[n];return t}const Zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xn(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Zn.length;t++)n=Zn[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Jn(e){this.src=e,this.g={},this.h=0}function er(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=wn(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Kn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Jn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=tr(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Gn(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var nr="closure_lm_"+(1e6*Math.random()|0),rr={};function ir(e,t,n,r,i){if(r&&r.once)return sr(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ir(e,t[o],n,r,i);return null}return n=fr(n),e&&e[Hn]?e.O(t,n,dn(r)?!!r.capture:!!r,i):or(e,t,n,!1,r,i)}function or(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=dn(i)?!!i.capture:!!i,a=dr(e);if(a||(e[nr]=a=new Jn(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ur;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xn||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function sr(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)sr(e,t[o],n,r,i);return null}return n=fr(n),e&&e[Hn]?e.P(t,n,dn(r)?!!r.capture:!!r,i):or(e,t,n,!0,r,i)}function ar(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ar(e,t[o],n,r,i);else r=dn(r)?!!r.capture:!!r,n=fr(n),e&&e[Hn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tr(o=e.g[t],n,r,i))&&(Kn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=dr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tr(t,n,r,i)),(n=-1<e?t[e]:null)&&lr(n))}function lr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Hn])er(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dr(t))?(er(n,e),0==n.h&&(n.src=null,t[nr]=null)):Kn(e)}}}function cr(e){return e in rr?rr[e]:rr[e]="on"+e}function ur(e,t){if(e.fa)e=!0;else{t=new Wn(t,this);var n=e.listener,r=e.la||e.src;e.ia&&lr(e),e=n.call(r,t)}return e}function dr(e){return(e=e[nr])instanceof Jn?e:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(e){return"function"===typeof e?e:(e[hr]||(e[hr]=function(t){return e.handleEvent(t)}),e[hr])}function pr(){bn.call(this),this.i=new Jn(this),this.S=this,this.J=null}function mr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Sn(t,e);else if(t instanceof Sn)t.target=t.target||e;else{var i=t;Xn(t=new Sn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=gr(s,r,!0,t)&&i}if(i=gr(s=t.g=e,r,!0,t)&&i,i=gr(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=gr(s=t.g=n[o],r,!1,t)&&i}function gr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&er(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}yn(pr,bn),pr.prototype[Hn]=!0,pr.prototype.removeEventListener=function(e,t,n,r){ar(this,e,t,n,r)},pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kn(n[r]);delete t.g[e],t.h--}}this.J=null},pr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var vr=cn.JSON.stringify;function yr(){var e=kr;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var br=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new wr),(e=>e.reset()));class wr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _r(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Er(e){cn.setTimeout((()=>{throw e}),0)}let Sr,xr=!1,kr=new class{constructor(){this.h=this.g=null}add(e,t){const n=br.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Cr=()=>{const e=cn.Promise.resolve(void 0);Sr=()=>{e.then(Tr)}};var Tr=()=>{for(var e;e=yr();){try{e.h.call(e.g)}catch(n){Er(n)}var t=br;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xr=!1};function Dr(e,t){pr.call(this),this.h=e||1,this.g=t||cn,this.j=gn(this.qb,this),this.l=Date.now()}function Lr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ir(e,t,n){if("function"===typeof e)n&&(e=gn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=gn(e.handleEvent,e)}return 2147483647<Number(t)?-1:cn.setTimeout(e,t||0)}function Or(e){e.g=Ir((()=>{e.g=null,e.i&&(e.i=!1,Or(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}yn(Dr,pr),(on=Dr.prototype).ga=!1,on.T=null,on.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mr(this,"tick"),this.ga&&(Lr(this),this.start()))}},on.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},on.N=function(){Dr.$.N.call(this),Lr(this),delete this.g};class Nr extends bn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Or(this)}N(){super.N(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(e){bn.call(this),this.h=e,this.g={}}yn(Mr,bn);var Ar=[];function Pr(e,t,n,r){Array.isArray(n)||(n&&(Ar[0]=n.toString()),n=Ar);for(var i=0;i<n.length;i++){var o=ir(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Rr(e){Qn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&lr(e)}),e),e.g={}}function jr(){this.g=!0}function Ur(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return vr(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Mr.prototype.N=function(){Mr.$.N.call(this),Rr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jr.prototype.Ea=function(){this.g=!1},jr.prototype.info=function(){};var Fr={},zr=null;function Vr(){return zr=zr||new pr}function Br(e){Sn.call(this,Fr.Ta,e)}function Wr(e){const t=Vr();mr(t,new Br(t))}function qr(e,t){Sn.call(this,Fr.STAT_EVENT,e),this.stat=t}function Hr(e){const t=Vr();mr(t,new qr(t,e))}function Yr(e,t){Sn.call(this,Fr.Ua,e),this.size=t}function Gr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return cn.setTimeout((function(){e()}),t)}Fr.Ta="serverreachability",yn(Br,Sn),Fr.STAT_EVENT="statevent",yn(qr,Sn),Fr.Ua="timingevent",yn(Yr,Sn);var Kr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $r(){}function Zr(e){return e.h||(e.h=e.i())}function Xr(){}$r.prototype.h=null;var Jr,ei={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ti(){Sn.call(this,"d")}function ni(){Sn.call(this,"c")}function ri(){}function ii(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Mr(this),this.P=si,e=An?125:void 0,this.V=new Dr(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}yn(ti,Sn),yn(ni,Sn),yn(ri,$r),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},Jr=new ri;var si=45e3,ai={},li={};function ci(e,t,n){e.L=1,e.A=Di(Si(t)),e.u=n,e.S=!0,ui(e,null)}function ui(e,t){e.G=Date.now(),pi(e),e.B=Si(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Vi(n.i,"t",r),e.o=0,n=e.l.J,e.h=new oi,e.g=Wo(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Nr(gn(e.Pa,e,e.g),e.O)),Pr(e.U,e.g,"readystatechange",e.nb),t=e.I?$n(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Wr(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function di(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function hi(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=fi(e,n),r==li){4==t&&(e.s=4,Hr(14),i=!1),Ur(e.j,e.m,null,"[Incomplete Response]");break}if(r==ai){e.s=4,Hr(15),Ur(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ur(e.j,e.m,r,null),bi(e,r)}di(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Hr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Po(t),t.M=!0,Hr(11))):(Ur(e.j,e.m,n,"[Invalid Chunked Response]"),yi(e),vi(e))}function fi(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?li:(n=Number(t.substring(n,r)),isNaN(n)?ai:(r+=1)+n>t.length?li:(t=t.slice(r,r+n),e.o=r+n,t))}function pi(e){e.Y=Date.now()+e.P,mi(e,e.P)}function mi(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Gr(gn(e.lb,e),t)}function gi(e){e.C&&(cn.clearTimeout(e.C),e.C=null)}function vi(e){0==e.l.H||e.J||Uo(e.l,e)}function yi(e){gi(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Lr(e.V),Rr(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function bi(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ki(n.i,e)))if(!e.K&&Ki(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;jo(n),To(n)}Ao(n),Hr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gr(gn(n.ib,n),6e3));if(1>=Gi(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else zo(n,11)}else if((e.K||n.g==e)&&jo(n),!kn(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qi(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ti(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Bo(r,r.J?r.pa:null,r.Y),s.K){$i(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(gi(a),pi(a)),r.g=s}else Mo(r);0<n.j.length&&Lo(n)}else"stop"!=c[0]&&"close"!=c[0]||zo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zo(n,7):Co(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Wr()}catch(c){}}function wi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(un(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(un(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(un(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(on=ii.prototype).setTimeout=function(e){this.P=e},on.nb=function(e){e=e.target;const t=this.M;t&&3==wo(e)?t.l():this.Pa(e)},on.Pa=function(e){try{if(e==this.g)e:{const u=wo(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||An||this.g&&(this.h.h||this.g.ja()||_o(this.g)))){this.J||4!=u||7==t||Wr(),gi(this);var n=this.g.da();this.ca=n;t:if(di(this)){var r=_o(this.g);e="";var i=r.length,o=4==wo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yi(this),vi(this);var s="";break t}this.h.i=new cn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kn(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Hr(12),yi(this),vi(this);break e}Ur(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bi(this,n)}this.S?(hi(this,u,s),An&&this.i&&3==u&&(Pr(this.U,this.V,"tick",this.mb),this.V.start())):(Ur(this.j,this.m,s,null),bi(this,s)),4==u&&yi(this),this.i&&!this.J&&(4==u?Uo(this.l,this):(this.i=!1,pi(this)))}else(function(e){const t={};e=(e.g&&2<=wo(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(kn(e[r]))continue;var n=_r(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Hr(12)):(this.s=0,Hr(13)),yi(this),vi(this)}}}catch(u){}},on.mb=function(){if(this.g){var e=wo(this.g),t=this.g.ja();this.o<t.length&&(gi(this),hi(this,e,t),this.i&&4!=e&&pi(this))}},on.cancel=function(){this.J=!0,yi(this)},on.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Wr(),Hr(17)),yi(this),this.s=2,vi(this)):mi(this,this.Y-e)};var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ei(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ei){this.h=e.h,xi(this,e.j),this.s=e.s,this.g=e.g,ki(this,e.m),this.l=e.l;var t=e.i,n=new ji;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ci(this,n),this.o=e.o}else e&&(t=String(e).match(_i))?(this.h=!1,xi(this,t[1]||"",!0),this.s=Li(t[2]||""),this.g=Li(t[3]||"",!0),ki(this,t[4]),this.l=Li(t[5]||"",!0),Ci(this,t[6]||"",!0),this.o=Li(t[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}function Si(e){return new Ei(e)}function xi(e,t,n){e.j=n?Li(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ki(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ci(e,t,n){t instanceof ji?(e.i=t,function(e,t){t&&!e.j&&(Ui(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fi(this,t),Vi(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ii(t,Pi)),e.i=new ji(t,e.h))}function Ti(e,t,n){e.i.set(t,n)}function Di(e){return Ti(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Li(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ii(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Oi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Oi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ei.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ii(t,Ni,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ii(t,Ni,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ii(n,"/"==n.charAt(0)?Ai:Mi,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ii(n,Ri)),e.join("")};var Ni=/[#\/\?@]/g,Mi=/[#\?:]/g,Ai=/[#\?]/g,Pi=/[#\?@]/g,Ri=/#/g;function ji(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ui(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Fi(e,t){Ui(e),t=Bi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zi(e,t){return Ui(e),t=Bi(e,t),e.g.has(t)}function Vi(e,t,n){Fi(e,t),0<n.length&&(e.i=null,e.g.set(Bi(e,t),_n(n)),e.h+=n.length)}function Bi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(on=ji.prototype).add=function(e,t){Ui(this),this.i=null,e=Bi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},on.forEach=function(e,t){Ui(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},on.ta=function(){Ui(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},on.Z=function(e){Ui(this);let t=[];if("string"===typeof e)zi(this,e)&&(t=t.concat(this.g.get(Bi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},on.set=function(e,t){return Ui(this),this.i=null,zi(this,e=Bi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},on.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},on.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Wi=class{constructor(e,t){this.g=e,this.map=t}};function qi(e){this.l=e||Hi,cn.PerformanceNavigationTiming?e=0<(e=cn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(cn.g&&cn.g.Ka&&cn.g.Ka()&&cn.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hi=10;function Yi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Gi(e){return e.h?1:e.g?e.g.size:0}function Ki(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qi(e,t){e.g?e.g.add(t):e.h=t}function $i(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Zi(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _n(e.i)}qi.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xi,Ji=class{stringify(e){return cn.JSON.stringify(e,void 0)}parse(e){return cn.JSON.parse(e,void 0)}};function eo(){this.g=new Ji}function to(e,t,n){const r=n||"";try{wi(e,(function(e,n){let i=e;dn(e)&&(i=vr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(KP){throw t.push(r+"type="+encodeURIComponent("_badmap")),KP}}function no(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function ro(e){this.l=e.ec||null,this.j=e.ob||!1}function io(e,t){pr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn(ro,$r),ro.prototype.g=function(){return new io(this.l,this.j)},ro.prototype.i=(Xi={},function(){return Xi}),yn(io,pr);var oo=0;function so(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ao(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lo(e)}function lo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(on=io.prototype).open=function(e,t){if(this.readyState!=oo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lo(this)},on.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||cn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},on.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ao(this)),this.readyState=oo},on.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof cn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;so(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},on.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ao(this):lo(this),3==this.readyState&&so(this)}},on.Za=function(e){this.g&&(this.response=this.responseText=e,ao(this))},on.Ya=function(e){this.g&&(this.response=e,ao(this))},on.ka=function(){this.g&&ao(this)},on.setRequestHeader=function(e,t){this.v.append(e,t)},on.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},on.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(io.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var co=cn.JSON.parse;function uo(e){pr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ho,this.L=this.M=!1}yn(uo,pr);var ho="",fo=/^https?$/i,po=["POST","PUT"];function mo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,go(e),yo(e)}function go(e){e.F||(e.F=!0,mr(e,"complete"),mr(e,"error"))}function vo(e){if(e.h&&"undefined"!=typeof ln&&(!e.C[1]||4!=wo(e)||2!=e.da()))if(e.v&&4==wo(e))Ir(e.La,0,e);else if(mr(e,"readystatechange"),4==wo(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(_i)[1]||null;!i&&cn.self&&cn.self.location&&(i=cn.self.location.protocol.slice(0,-1)),r=!fo.test(i?i.toLowerCase():"")}n=r}if(n)mr(e,"complete"),mr(e,"success");else{e.m=6;try{var o=2<wo(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",go(e)}}finally{yo(e)}}}function yo(e,t){if(e.g){bo(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||mr(e,"ready");try{n.onreadystatechange=r}catch(KP){}}}function bo(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(cn.clearTimeout(e.A),e.A=null)}function wo(e){return e.g?e.g.readyState:0}function _o(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ho:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ds){return null}}function Eo(e){let t="";return Qn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function So(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Eo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ti(e,t,n))}function xo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ko(e){this.Ga=0,this.j=[],this.l=new jr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xo("baseRetryDelayMs",5e3,e),this.hb=xo("retryDelaySeedMs",1e4,e),this.eb=xo("forwardChannelMaxRetries",2,e),this.xa=xo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qi(e&&e.concurrentRequestLimit),this.Ja=new eo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Co(e){if(Do(e),3==e.H){var t=e.W++,n=Si(e.I);if(Ti(n,"SID",e.K),Ti(n,"RID",t),Ti(n,"TYPE","terminate"),Oo(e,n),(t=new ii(e,e.l,t)).L=2,t.A=Di(Si(n)),n=!1,cn.navigator&&cn.navigator.sendBeacon)try{n=cn.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&cn.Image&&((new Image).src=t.A,n=!0),n||(t.g=Wo(t.l,null),t.g.ha(t.A)),t.G=Date.now(),pi(t)}Vo(e)}function To(e){e.g&&(Po(e),e.g.cancel(),e.g=null)}function Do(e){To(e),e.u&&(cn.clearTimeout(e.u),e.u=null),jo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&cn.clearTimeout(e.m),e.m=null)}function Lo(e){if(!Yi(e.i)&&!e.m){e.m=!0;var t=e.Na;Sr||Cr(),xr||(Sr(),xr=!0),kr.add(t,e),e.C=0}}function Io(e,t){var n;n=t?t.m:e.W++;const r=Si(e.I);Ti(r,"SID",e.K),Ti(r,"RID",n),Ti(r,"AID",e.V),Oo(e,r),e.o&&e.s&&So(r,e.o,e.s),n=new ii(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=No(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Qi(e.i,n),ci(n,r,t)}function Oo(e,t){e.na&&Qn(e.na,(function(e,n){Ti(t,n,e)})),e.h&&wi({},(function(e,n){Ti(t,n,e)}))}function No(e,t,n){n=Math.min(e.j.length,n);var r=e.h?gn(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{to(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Mo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Sr||Cr(),xr||(Sr(),xr=!0),kr.add(t,e),e.A=0}}function Ao(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Gr(gn(e.Ma,e),Fo(e,e.A)),e.A++,!0)}function Po(e){null!=e.B&&(cn.clearTimeout(e.B),e.B=null)}function Ro(e){e.g=new ii(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Si(e.wa);Ti(t,"RID","rpc"),Ti(t,"SID",e.K),Ti(t,"AID",e.V),Ti(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ti(t,"TO",e.qa),Ti(t,"TYPE","xmlhttp"),Oo(e,t),e.o&&e.s&&So(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Di(Si(t)),n.u=null,n.S=!0,ui(n,e)}function jo(e){null!=e.v&&(cn.clearTimeout(e.v),e.v=null)}function Uo(e,t){var n=null;if(e.g==t){jo(e),Po(e),e.g=null;var r=2}else{if(!Ki(e.i,t))return;n=t.F,$i(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;mr(r=Vr(),new Yr(r,n)),Lo(e)}else Mo(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Gi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Gr(gn(e.Na,e,t),Fo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ao(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zo(e,5);break;case 4:zo(e,10);break;case 3:zo(e,6);break;default:zo(e,2)}}function Fo(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function zo(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=gn(e.pb,e);n||(n=new Ei("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||xi(n,"https"),Di(n)),function(e,t){const n=new jr;if(cn.Image){const r=new Image;r.onload=vn(no,n,r,"TestLoadImage: loaded",!0,t),r.onerror=vn(no,n,r,"TestLoadImage: error",!1,t),r.onabort=vn(no,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=vn(no,n,r,"TestLoadImage: timeout",!1,t),cn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hr(2);e.H=0,e.h&&e.h.za(t),Vo(e),Do(e)}function Vo(e){if(e.H=0,e.ma=[],e.h){const t=Zi(e.i);0==t.length&&0==e.j.length||(En(e.ma,t),En(e.ma,e.j),e.i.i.length=0,_n(e.j),e.j.length=0),e.h.ya()}}function Bo(e,t,n){var r=n instanceof Ei?Si(n):new Ei(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ki(r,r.m);else{var i=cn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Ei(null);r&&xi(o,r),t&&(o.g=t),i&&ki(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ti(r,n,t),Ti(r,"VER",e.ra),Oo(e,r),r}function Wo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new uo(new ro({ob:n})):new uo(e.va)).Oa(e.J),t}function qo(){}function Ho(){if(Nn&&!(10<=Number(Bn)))throw Error("Environmental error: no available transport.")}function Yo(e,t){pr.call(this),this.g=new ko(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!kn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kn(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qo(this)}function Go(e){ti.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ko(){ni.call(this),this.status=1}function Qo(e){this.g=e}function $o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Zo(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Xo(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(on=uo.prototype).Oa=function(e){this.M=e},on.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jr.g(),this.C=this.u?Zr(this.u):Zr(Jr),this.g.onreadystatechange=gn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void mo(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=cn.FormData&&e instanceof cn.FormData,!(0<=wn(po,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bo(this),0<this.B&&((this.L=function(e){return Nn&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.ua,this)):this.A=Ir(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){mo(this,o)}},on.ua=function(){"undefined"!=typeof ln&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mr(this,"timeout"),this.abort(8))},on.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mr(this,"complete"),mr(this,"abort"),yo(this))},on.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yo(this,!0)),uo.$.N.call(this)},on.La=function(){this.s||(this.G||this.v||this.l?vo(this):this.kb())},on.kb=function(){vo(this)},on.isActive=function(){return!!this.g},on.da=function(){try{return 2<wo(this)?this.g.status:-1}catch(Xi){return-1}},on.ja=function(){try{return this.g?this.g.responseText:""}catch(Xi){return""}},on.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),co(t)}},on.Ia=function(){return this.m},on.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(on=ko.prototype).ra=8,on.H=1,on.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ii(this,this.l,e);let o=this.s;if(this.U&&(o?(o=$n(o),Xn(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=No(this,i,t),Ti(n=Si(this.I),"RID",e),Ti(n,"CVER",22),this.F&&Ti(n,"X-HTTP-Session-Id",this.F),Oo(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Eo(o)))+"&"+t:this.o&&So(n,this.o,o)),Qi(this.i,i),this.bb&&Ti(n,"TYPE","init"),this.P?(Ti(n,"$req",t),Ti(n,"SID","null"),i.aa=!0,ci(i,n,null)):ci(i,n,t),this.H=2}}else 3==this.H&&(e?Io(this,e):0==this.j.length||Yi(this.i)||Io(this))},on.Ma=function(){if(this.u=null,Ro(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Gr(gn(this.jb,this),e)}},on.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hr(10),To(this),Ro(this))},on.ib=function(){null!=this.v&&(this.v=null,To(this),Ao(this),Hr(19))},on.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Hr(2)):(this.l.info("Failed to ping google.com"),Hr(1))},on.isActive=function(){return!!this.h&&this.h.isActive(this)},(on=qo.prototype).Ba=function(){},on.Aa=function(){},on.za=function(){},on.ya=function(){},on.isActive=function(){return!0},on.Va=function(){},Ho.prototype.g=function(e,t){return new Yo(e,t)},yn(Yo,pr),Yo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Hr(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Bo(e,null,e.Y),Lo(e)},Yo.prototype.close=function(){Co(this.g)},Yo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=vr(e),e=n);t.j.push(new Wi(t.fb++,e)),3==t.H&&Lo(t)},Yo.prototype.N=function(){this.g.h=null,delete this.j,Co(this.g),delete this.g,Yo.$.N.call(this)},yn(Go,ti),yn(Ko,ni),yn(Qo,qo),Qo.prototype.Ba=function(){mr(this.g,"a")},Qo.prototype.Aa=function(e){mr(this.g,new Go(e))},Qo.prototype.za=function(e){mr(this.g,new Ko)},Qo.prototype.ya=function(){mr(this.g,"b")},yn($o,(function(){this.blockSize=-1})),$o.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$o.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Zo(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Zo(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Zo(this,r),i=0;break}}this.h=i,this.i+=t},$o.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Jo={};function es(e){return-128<=e&&128>e?function(e,t){var n=Jo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Xo([0|e],0>e?-1:0)})):new Xo([0|e],0>e?-1:0)}function ts(e){if(isNaN(e)||!isFinite(e))return rs;if(0>e)return ls(ts(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ns;return new Xo(t,0)}var ns=4294967296,rs=es(0),is=es(1),os=es(16777216);function ss(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function as(e){return-1==e.h}function ls(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Xo(n,~e.h).add(is)}function cs(e,t){return e.add(ls(t))}function us(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ds(e,t){this.g=e,this.h=t}function hs(e,t){if(ss(t))throw Error("division by zero");if(ss(e))return new ds(rs,rs);if(as(e))return t=hs(ls(e),t),new ds(ls(t.g),ls(t.h));if(as(t))return t=hs(e,ls(t)),new ds(ls(t.g),t.h);if(30<e.g.length){if(as(e)||as(t))throw Error("slowDivide_ only works with positive integers.");for(var n=is,r=t;0>=r.X(e);)n=fs(n),r=fs(r);var i=ps(n,1),o=ps(r,1);for(r=ps(r,2),n=ps(n,2);!ss(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=ps(r,1),n=ps(n,1)}return t=cs(e,i.R(t)),new ds(i,t)}for(i=rs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ts(n)).R(t);as(s)||0<s.X(e);)s=(o=ts(n-=r)).R(t);ss(o)&&(o=is),i=i.add(o),e=cs(e,s)}return new ds(i,e)}function fs(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Xo(n,e.h)}function ps(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Xo(i,e.h)}(on=Xo.prototype).ea=function(){if(as(this))return-ls(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ns+r)*t,t*=ns}return e},on.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ss(this))return"0";if(as(this))return"-"+ls(this).toString(e);for(var t=ts(Math.pow(e,6)),n=this,r="";;){var i=hs(n,t).g,o=((0<(n=cs(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ss(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},on.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},on.X=function(e){return as(e=cs(this,e))?-1:ss(e)?0:1},on.abs=function(){return as(this)?ls(this):this},on.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Xo(n,-2147483648&n[n.length-1]?-1:0)},on.R=function(e){if(ss(this)||ss(e))return rs;if(as(this))return as(e)?ls(this).R(ls(e)):ls(ls(this).R(e));if(as(e))return ls(this.R(ls(e)));if(0>this.X(os)&&0>e.X(os))return ts(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,us(n,2*r+2*i),n[2*r+2*i+1]+=o*l,us(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,us(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,us(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Xo(n,0)},on.gb=function(e){return hs(this,e).h},on.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Xo(n,this.h&e.h)},on.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Xo(n,this.h|e.h)},on.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Xo(n,this.h^e.h)},Ho.prototype.createWebChannel=Ho.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Qr.COMPLETE="complete",Xr.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",pr.prototype.listen=pr.prototype.O,uo.prototype.listenOnce=uo.prototype.P,uo.prototype.getLastError=uo.prototype.Sa,uo.prototype.getLastErrorCode=uo.prototype.Ia,uo.prototype.getStatus=uo.prototype.da,uo.prototype.getResponseJson=uo.prototype.Wa,uo.prototype.getResponseText=uo.prototype.ja,uo.prototype.send=uo.prototype.ha,uo.prototype.setWithCredentials=uo.prototype.Oa,$o.prototype.digest=$o.prototype.l,$o.prototype.reset=$o.prototype.reset,$o.prototype.update=$o.prototype.j,Xo.prototype.add=Xo.prototype.add,Xo.prototype.multiply=Xo.prototype.R,Xo.prototype.modulo=Xo.prototype.gb,Xo.prototype.compare=Xo.prototype.X,Xo.prototype.toNumber=Xo.prototype.ea,Xo.prototype.toString=Xo.prototype.toString,Xo.prototype.getBits=Xo.prototype.D,Xo.fromNumber=ts,Xo.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ls(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ts(Math.pow(n,8)),i=rs,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=ts(Math.pow(n,s)),i=i.R(s).add(ts(a))):i=(i=i.R(r)).add(ts(a))}return i};var ms=an.createWebChannelTransport=function(){return new Ho},gs=an.getStatEventTarget=function(){return Vr()},vs=an.ErrorCode=Kr,ys=an.EventType=Qr,bs=an.Event=Fr,ws=an.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_s=(an.FetchXmlHttpFactory=ro,an.WebChannel=Xr),Es=an.XhrIo=uo,Ss=an.Md5=$o,xs=an.Integer=Xo;const ks="@firebase/firestore";class Cs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cs.UNAUTHENTICATED=new Cs(null),Cs.GOOGLE_CREDENTIALS=new Cs("google-credentials-uid"),Cs.FIRST_PARTY=new Cs("first-party-uid"),Cs.MOCK_USER=new Cs("mock-user");let Ts="10.8.0";const Ds=new dt("@firebase/firestore");function Ls(){return Ds.logLevel}function Is(e){if(Ds.logLevel<=st.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ms);Ds.debug("Firestore (".concat(Ts,"): ").concat(e),...i)}}function Os(e){if(Ds.logLevel<=st.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ms);Ds.error("Firestore (".concat(Ts,"): ").concat(e),...i)}}function Ns(e){if(Ds.logLevel<=st.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ms);Ds.warn("Firestore (".concat(Ts,"): ").concat(e),...i)}}function Ms(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function As(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ts,") INTERNAL ASSERTION FAILED: ")+e;throw Os(t),new Error(t)}function Ps(e,t){e||As()}function Rs(e,t){return e}const js={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Us extends qe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Fs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class zs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Vs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Cs.UNAUTHENTICATED)))}shutdown(){}}class Bs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ws{constructor(e){this.t=e,this.currentUser=Cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Is("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Is("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Is("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ps("string"==typeof t.accessToken),new zs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ps(null===e||"string"==typeof e),new Cs(e)}}class qs{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Cs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hs{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qs(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ys{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gs{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Is("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Is("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Is("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Is("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ps("string"==typeof e.token),this.R=e.token,new Ys(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ks(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Qs{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ks(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function $s(e,t){return e<t?-1:e>t?1:0}function Zs(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Xs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Us(js.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Us(js.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Us(js.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Us(js.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xs.fromMillis(Date.now())}static fromDate(e){return Xs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Xs(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$s(this.nanoseconds,e.nanoseconds):$s(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Js{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Js(e)}static min(){return new Js(new Xs(0,0))}static max(){return new Js(new Xs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ea{constructor(e,t,n){void 0===t?t=0:t>e.length&&As(),void 0===n?n=e.length-t:n>e.length-t&&As(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ea.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ta extends ea{construct(e,t,n){return new ta(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Us(js.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ta(e)}static emptyPath(){return new ta([])}}const na=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ra extends ea{construct(e,t,n){return new ra(e,t,n)}static isValidIdentifier(e){return na.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ra.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ra(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Us(js.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Us(js.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Us(js.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Us(js.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ra(t)}static emptyPath(){return new ra([])}}class ia{constructor(e){this.path=e}static fromPath(e){return new ia(ta.fromString(e))}static fromName(e){return new ia(ta.fromString(e).popFirst(5))}static empty(){return new ia(ta.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ta.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ta.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ia(new ta(e.slice()))}}class oa{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}oa.UNKNOWN_ID=-1;function sa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Js.fromTimestamp(1e9===r?new Xs(n+1,0):new Xs(n,r));return new la(i,ia.empty(),t)}function aa(e){return new la(e.readTime,e.key,-1)}class la{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new la(Js.min(),ia.empty(),-1)}static max(){return new la(Js.max(),ia.empty(),-1)}}function ca(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ia.comparator(e.documentKey,t.documentKey),0!==n?n:$s(e.largestBatchId,t.largestBatchId))}const ua="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class da{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ha(e){if(e.code!==js.FAILED_PRECONDITION||e.message!==ua)throw e;Is("LocalStore","Unexpectedly lost primary lease")}class fa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&As(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fa?t:fa.resolve(t)}catch(e){return fa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fa.reject(t)}static resolve(e){return new fa(((t,n)=>{t(e)}))}static reject(e){return new fa(((t,n)=>{n(e)}))}static waitFor(e){return new fa(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=fa.resolve(!1);for(const n of e)t=t.next((e=>e?fa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new fa(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new fa(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class pa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Fs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new va(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ea(t.target.error);this.V.reject(new va(e,n))}}static open(e,t,n,r){try{return new pa(t,e.transaction(r,n))}catch(e){throw new va(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Is("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ba(t)}}class ma{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===ma.S(Ve())&&Os("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Is("SimpleDb","Removing database:",e),wa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!We())return!1;if(ma.C())return!0;const e=Ve(),t=ma.S(e),n=0<t&&t<10,r=ma.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Is("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new va(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Us(js.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Us(js.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new va(e,r))},r.onupgradeneeded=e=>{Is("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Is("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=pa.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),fa.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Is("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ga{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return wa(this.k.delete())}}class va extends Us{constructor(e,t){super(js.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function ya(e){return"IndexedDbTransactionError"===e.name}class ba{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Is("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Is("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wa(n)}add(e){return Is("SimpleDb","ADD",this.store.name,e,e),wa(this.store.add(e))}get(e){return wa(this.store.get(e)).next((t=>(void 0===t&&(t=null),Is("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Is("SimpleDb","DELETE",this.store.name,e),wa(this.store.delete(e))}count(){return Is("SimpleDb","COUNT",this.store.name),wa(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new fa(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new fa(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Is("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new fa(((n,r)=>{t.onerror=e=>{const t=Ea(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new fa(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new ga(i),s=t(i.primaryKey,i.value,o);if(s instanceof fa){const e=s.catch((e=>(o.done(),fa.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>fa.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wa(e){return new fa(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ea(e.target.error);n(t)}}))}let _a=!1;function Ea(e){const t=ma.S(Ve());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Us("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _a||(_a=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Sa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function xa(e){return null==e}function ka(e){return 0===e&&1/e==-1/0}function Ca(e){return"number"==typeof e&&Number.isInteger(e)&&!ka(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Sa._e=-1;const Ta=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Da=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],La=Da;function Ia(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Na(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ma{constructor(e,t){this.comparator=e,this.root=t||Pa.EMPTY}insert(e,t){return new Ma(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pa.BLACK,null,null))}remove(e){return new Ma(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Aa(this.root,e,this.comparator,!0)}}class Aa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Pa.RED,this.left=null!=r?r:Pa.EMPTY,this.right=null!=i?i:Pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Pa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw As();if(this.right.isRed())throw As();const e=this.left.check();if(e!==this.right.check())throw As();return e+(this.isRed()?0:1)}}Pa.EMPTY=null,Pa.RED=!0,Pa.BLACK=!1,Pa.EMPTY=new class{constructor(){this.size=0}get key(){throw As()}get value(){throw As()}get color(){throw As()}get left(){throw As()}get right(){throw As()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ra{constructor(e){this.comparator=e,this.data=new Ma(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ja(this.data.getIterator())}getIteratorFrom(e){return new ja(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ra))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ra(this.comparator);return t.data=e,t}}class ja{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ua{constructor(e){this.fields=e,e.sort(ra.comparator)}static empty(){return new Ua([])}unionWith(e){let t=new Ra(ra.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ua(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Fa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class za{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fa("Invalid base64 string: "+e):e}}(e);return new za(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new za(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $s(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}za.EMPTY_BYTE_STRING=new za("");const Va=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(e){if(Ps(!!e),"string"==typeof e){let t=0;const n=Va.exec(e);if(Ps(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wa(e.seconds),nanos:Wa(e.nanos)}}function Wa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function qa(e){return"string"==typeof e?za.fromBase64String(e):za.fromUint8Array(e)}function Ha(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ya(e){const t=e.mapValue.fields.__previous_value__;return Ha(t)?Ya(t):t}function Ga(e){const t=Ba(e.mapValue.fields.__local_write_time__.timestampValue);return new Xs(t.seconds,t.nanos)}class Ka{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}const $a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Za(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ha(e)?4:dl(e)?9007199254740991:10:As()}function Xa(e,t){if(e===t)return!0;const n=Za(e);if(n!==Za(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ga(e).isEqual(Ga(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ba(e.timestampValue),r=Ba(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qa(e.bytesValue).isEqual(qa(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wa(e.geoPointValue.latitude)===Wa(t.geoPointValue.latitude)&&Wa(e.geoPointValue.longitude)===Wa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wa(e.integerValue)===Wa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wa(e.doubleValue),r=Wa(t.doubleValue);return n===r?ka(n)===ka(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zs(e.arrayValue.values||[],t.arrayValue.values||[],Xa);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ia(n)!==Ia(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xa(n[i],r[i])))return!1;return!0}(e,t);default:return As()}}function Ja(e,t){return void 0!==(e.values||[]).find((e=>Xa(e,t)))}function el(e,t){if(e===t)return 0;const n=Za(e),r=Za(t);if(n!==r)return $s(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $s(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wa(e.integerValue||e.doubleValue),r=Wa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tl(e.timestampValue,t.timestampValue);case 4:return tl(Ga(e),Ga(t));case 5:return $s(e.stringValue,t.stringValue);case 6:return function(e,t){const n=qa(e),r=qa(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$s(n[i],r[i]);if(0!==e)return e}return $s(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$s(Wa(e.latitude),Wa(t.latitude));return 0!==n?n:$s(Wa(e.longitude),Wa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=el(n[i],r[i]);if(e)return e}return $s(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$a.mapValue&&t===$a.mapValue)return 0;if(e===$a.mapValue)return 1;if(t===$a.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=$s(r[s],o[s]);if(0!==e)return e;const t=el(n[r[s]],i[o[s]]);if(0!==t)return t}return $s(r.length,o.length)}(e.mapValue,t.mapValue);default:throw As()}}function tl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $s(e,t);const n=Ba(e),r=Ba(t),i=$s(n.seconds,r.seconds);return 0!==i?i:$s(n.nanos,r.nanos)}function nl(e){return rl(e)}function rl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ba(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return qa(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ia.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=rl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(rl(e.fields[i]));return n+"}"}(e.mapValue):As()}function il(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ol(e){return!!e&&"integerValue"in e}function sl(e){return!!e&&"arrayValue"in e}function al(e){return!!e&&"nullValue"in e}function ll(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cl(e){return!!e&&"mapValue"in e}function ul(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Oa(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ul(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ul(e.arrayValue.values[n]);return t}return Object.assign({},e)}function dl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class hl{constructor(e){this.value=e}static empty(){return new hl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!cl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=ra.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ul(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());cl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];cl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Oa(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new hl(ul(this.value))}}function fl(e){const t=[];return Oa(e.fields,((e,n)=>{const r=new ra([e]);if(cl(n)){const e=fl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ua(t)}class pl{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new pl(e,0,Js.min(),Js.min(),Js.min(),hl.empty(),0)}static newFoundDocument(e,t,n,r){return new pl(e,1,t,Js.min(),n,r,0)}static newNoDocument(e,t){return new pl(e,2,t,Js.min(),Js.min(),hl.empty(),0)}static newUnknownDocument(e,t){return new pl(e,3,t,Js.min(),Js.min(),hl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Js.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Js.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ml{constructor(e,t){this.position=e,this.inclusive=t}}function gl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ia.comparator(ia.fromName(s.referenceValue),n.key):el(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function vl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Xa(e.position[n],t.position[n]))return!1;return!0}class yl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function bl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wl{}class _l extends wl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ll(e,t,n):"array-contains"===t?new Ml(e,n):"in"===t?new Al(e,n):"not-in"===t?new Pl(e,n):"array-contains-any"===t?new Rl(e,n):new _l(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Il(e,n):new Ol(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(el(t,this.value)):null!==t&&Za(this.value)===Za(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return As()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class El extends wl{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new El(e,t)}matches(e){return Sl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sl(e){return"and"===e.op}function xl(e){return kl(e)&&Sl(e)}function kl(e){for(const t of e.filters)if(t instanceof El)return!1;return!0}function Cl(e){if(e instanceof _l)return e.field.canonicalString()+e.op.toString()+nl(e.value);if(xl(e))return e.filters.map((e=>Cl(e))).join(",");{const t=e.filters.map((e=>Cl(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Tl(e,t){return e instanceof _l?function(e,t){return t instanceof _l&&e.op===t.op&&e.field.isEqual(t.field)&&Xa(e.value,t.value)}(e,t):e instanceof El?function(e,t){return t instanceof El&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Tl(n,t.filters[r])),!0)}(e,t):void As()}function Dl(e){return e instanceof _l?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(nl(e.value))}(e):e instanceof El?function(e){return e.op.toString()+" {"+e.getFilters().map(Dl).join(" ,")+"}"}(e):"Filter"}class Ll extends _l{constructor(e,t,n){super(e,t,n),this.key=ia.fromName(n.referenceValue)}matches(e){const t=ia.comparator(e.key,this.key);return this.matchesComparison(t)}}class Il extends _l{constructor(e,t){super(e,"in",t),this.keys=Nl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ol extends _l{constructor(e,t){super(e,"not-in",t),this.keys=Nl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Nl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ia.fromName(e.referenceValue)))}class Ml extends _l{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sl(t)&&Ja(t.arrayValue,this.value)}}class Al extends _l{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ja(this.value.arrayValue,t)}}class Pl extends _l{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ja(this.value.arrayValue,t)}}class Rl extends _l{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ja(this.value.arrayValue,e)))}}class jl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Ul(e){return new jl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fl(e){const t=Rs(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Cl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),xa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>nl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>nl(e))).join(",")),t.ce=e}return t.ce}function zl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vl(e.startAt,t.startAt)&&vl(e.endAt,t.endAt)}function Vl(e){return ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Wl(e,t,n,r,i,o,s,a){return new Bl(e,t,n,r,i,o,s,a)}function ql(e){return new Bl(e)}function Hl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Yl(e){return null!==e.collectionGroup}function Gl(e){const t=Rs(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ra(ra.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new yl(r,n))})),e.has(ra.keyField().canonicalString())||t.le.push(new yl(ra.keyField(),n))}return t.le}function Kl(e){const t=Rs(e);return t.he||(t.he=Ql(t,Gl(e))),t.he}function Ql(e,t){if("F"===e.limitType)return Ul(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new yl(e.field,t)}));const n=e.endAt?new ml(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ml(e.startAt.position,e.startAt.inclusive):null;return Ul(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $l(e,t){const n=e.filters.concat([t]);return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zl(e,t,n){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xl(e,t){return zl(Kl(e),Kl(t))&&e.limitType===t.limitType}function Jl(e){return"".concat(Fl(Kl(e)),"|lt:").concat(e.limitType)}function ec(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Dl(e))).join(", "),"]")),xa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>nl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>nl(e))).join(",")),"Target(".concat(t,")")}(Kl(e)),"; limitType=").concat(e.limitType,")")}function tc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ia.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Gl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=gl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gl(e),t))&&!(e.endAt&&!function(e,t,n){const r=gl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gl(e),t))}(e,t)}function nc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rc(e){return(t,n)=>{let r=!1;for(const i of Gl(e)){const e=ic(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ic(e,t,n){const r=e.field.isKeyField()?ia.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?el(r,i):As()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return As()}}class oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Na(this.inner)}size(){return this.innerSize}}const sc=new Ma(ia.comparator);function ac(){return sc}const lc=new Ma(ia.comparator);function cc(){let e=lc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function uc(e){let t=lc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function dc(){return fc()}function hc(){return fc()}function fc(){return new oc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const pc=new Ma(ia.comparator),mc=new Ra(ia.comparator);function gc(){let e=mc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const vc=new Ra($s);function yc(){return vc}function bc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ka(t)?"-0":t}}function wc(e){return{integerValue:""+e}}function _c(e,t){return Ca(t)?wc(t):bc(e,t)}class Ec{constructor(){this._=void 0}}function Sc(e,t,n){return e instanceof Cc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ha(t)&&(t=Ya(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tc?Dc(e,t):e instanceof Lc?Ic(e,t):function(e,t){const n=kc(e,t),r=Nc(n)+Nc(e.Ie);return ol(n)&&ol(e.Ie)?wc(r):bc(e.serializer,r)}(e,t)}function xc(e,t,n){return e instanceof Tc?Dc(e,t):e instanceof Lc?Ic(e,t):n}function kc(e,t){return e instanceof Oc?function(e){return ol(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Cc extends Ec{}class Tc extends Ec{constructor(e){super(),this.elements=e}}function Dc(e,t){const n=Mc(t);for(const r of e.elements)n.some((e=>Xa(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Lc extends Ec{constructor(e){super(),this.elements=e}}function Ic(e,t){let n=Mc(t);for(const r of e.elements)n=n.filter((e=>!Xa(e,r)));return{arrayValue:{values:n}}}class Oc extends Ec{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Nc(e){return Wa(e.integerValue||e.doubleValue)}function Mc(e){return sl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ac{constructor(e,t){this.field=e,this.transform=t}}class Pc{constructor(e,t){this.version=e,this.transformResults=t}}class Rc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rc}static exists(e){return new Rc(void 0,e)}static updateTime(e){return new Rc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Uc{}function Fc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qc(e.key,Rc.none()):new qc(e.key,e.data,Rc.none());{const n=e.data,r=hl.empty();let i=new Ra(ra.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Hc(e.key,r,new Ua(i.toArray()),Rc.none())}}function zc(e,t,n){e instanceof qc?function(e,t,n){const r=e.value.clone(),i=Gc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hc?function(e,t,n){if(!jc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Gc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vc(e,t,n,r){return e instanceof qc?function(e,t,n,r){if(!jc(e.precondition,t))return n;const i=e.value.clone(),o=Kc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Hc?function(e,t,n,r){if(!jc(e.precondition,t))return n;const i=Kc(e.fieldTransforms,r,t),o=t.data;return o.setAll(Yc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return jc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=kc(r.transform,e||null);null!=i&&(null===n&&(n=hl.empty()),n.set(r.field,i))}return n||null}function Wc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zs(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tc&&t instanceof Tc||e instanceof Lc&&t instanceof Lc?Zs(e.elements,t.elements,Xa):e instanceof Oc&&t instanceof Oc?Xa(e.Ie,t.Ie):e instanceof Cc&&t instanceof Cc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qc extends Uc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hc extends Uc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Gc(e,t,n){const r=new Map;Ps(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,xc(s,a,n[i]))}return r}function Kc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Sc(e,o,t))}return r}class Qc extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $c extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Vc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Vc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=hc();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Fc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Js.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gc())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,((e,t)=>Wc(e,t)))&&Zs(this.baseMutations,e.baseMutations,((e,t)=>Wc(e,t)))}}class Xc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ps(e.mutations.length===n.length);let r=pc;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Xc(e,t,n,r)}}class Jc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class eu{constructor(e,t){this.count=e,this.unchangedNames=t}}var tu,nu;function ru(e){switch(e){default:return As();case js.CANCELLED:case js.UNKNOWN:case js.DEADLINE_EXCEEDED:case js.RESOURCE_EXHAUSTED:case js.INTERNAL:case js.UNAVAILABLE:case js.UNAUTHENTICATED:return!1;case js.INVALID_ARGUMENT:case js.NOT_FOUND:case js.ALREADY_EXISTS:case js.PERMISSION_DENIED:case js.FAILED_PRECONDITION:case js.ABORTED:case js.OUT_OF_RANGE:case js.UNIMPLEMENTED:case js.DATA_LOSS:return!0}}function iu(e){if(void 0===e)return Os("GRPC error has no .code"),js.UNKNOWN;switch(e){case tu.OK:return js.OK;case tu.CANCELLED:return js.CANCELLED;case tu.UNKNOWN:return js.UNKNOWN;case tu.DEADLINE_EXCEEDED:return js.DEADLINE_EXCEEDED;case tu.RESOURCE_EXHAUSTED:return js.RESOURCE_EXHAUSTED;case tu.INTERNAL:return js.INTERNAL;case tu.UNAVAILABLE:return js.UNAVAILABLE;case tu.UNAUTHENTICATED:return js.UNAUTHENTICATED;case tu.INVALID_ARGUMENT:return js.INVALID_ARGUMENT;case tu.NOT_FOUND:return js.NOT_FOUND;case tu.ALREADY_EXISTS:return js.ALREADY_EXISTS;case tu.PERMISSION_DENIED:return js.PERMISSION_DENIED;case tu.FAILED_PRECONDITION:return js.FAILED_PRECONDITION;case tu.ABORTED:return js.ABORTED;case tu.OUT_OF_RANGE:return js.OUT_OF_RANGE;case tu.UNIMPLEMENTED:return js.UNIMPLEMENTED;case tu.DATA_LOSS:return js.DATA_LOSS;default:return As()}}(nu=tu||(tu={}))[nu.OK=0]="OK",nu[nu.CANCELLED=1]="CANCELLED",nu[nu.UNKNOWN=2]="UNKNOWN",nu[nu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nu[nu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nu[nu.NOT_FOUND=5]="NOT_FOUND",nu[nu.ALREADY_EXISTS=6]="ALREADY_EXISTS",nu[nu.PERMISSION_DENIED=7]="PERMISSION_DENIED",nu[nu.UNAUTHENTICATED=16]="UNAUTHENTICATED",nu[nu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nu[nu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nu[nu.ABORTED=10]="ABORTED",nu[nu.OUT_OF_RANGE=11]="OUT_OF_RANGE",nu[nu.UNIMPLEMENTED=12]="UNIMPLEMENTED",nu[nu.INTERNAL=13]="INTERNAL",nu[nu.UNAVAILABLE=14]="UNAVAILABLE",nu[nu.DATA_LOSS=15]="DATA_LOSS";let ou=null;function su(){return new TextEncoder}const au=new xs([4294967295,4294967295],0);function lu(e){const t=su().encode(e),n=new Ss;return n.update(t),new Uint8Array(n.digest())}function cu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new xs([n,r],0),new xs([i,o],0)]}class uu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new du("Invalid padding: ".concat(t));if(n<0)throw new du("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new du("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new du("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=xs.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(xs.fromNumber(n)));return 1===r.compare(au)&&(r=new xs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=lu(e),[n,r]=cu(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new uu(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=lu(e),[n,r]=cu(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hu(Js.min(),r,new Ma($s),ac(),gc())}}class fu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fu(n,t,gc(),gc(),gc())}}class pu{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class mu{constructor(e,t){this.targetId=e,this.fe=t}}class gu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:za.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vu{constructor(){this.ge=0,this.pe=wu(),this.ye=za.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=gc(),t=gc(),n=gc();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:As()}})),new fu(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=wu()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ps(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yu{constructor(e){this.Le=e,this.ke=new Map,this.qe=ac(),this.Qe=bu(),this.Ke=new Ma($s)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:As()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Vl(i))if(0===n){const e=new ia(i.path);this.We(t,e,pl.newNoDocument(e,Js.min()))}else Ps(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==ou||ou.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=qa(n).toUint8Array()}catch(e){if(e instanceof Fa)return Ns("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new uu(o,r,i)}catch(e){return Ns(e instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Vl(i.target)){const t=new ia(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,pl.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=gc();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new hu(e,t,this.Ke,this.qe,n);return this.qe=ac(),this.Qe=bu(),this.Ke=new Ma($s),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new vu,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ra($s),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Is("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new vu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function bu(){return new Ma(ia.comparator)}function wu(){return new Ma(ia.comparator)}const _u={asc:"ASCENDING",desc:"DESCENDING"},Eu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Su={and:"AND",or:"OR"};class xu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ku(e,t){return e.useProto3Json||xa(t)?t:{value:t}}function Cu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Du(e,t){return Cu(e,t.toTimestamp())}function Lu(e){return Ps(!!e),Js.fromTimestamp(function(e){const t=Ba(e);return new Xs(t.seconds,t.nanos)}(e))}function Iu(e,t){return Ou(e,t).canonicalString()}function Ou(e,t){const n=function(e){return new ta(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nu(e){const t=ta.fromString(e);return Ps(Xu(t)),t}function Mu(e,t){return Iu(e.databaseId,t.path)}function Au(e,t){const n=Nu(t);if(n.get(1)!==e.databaseId.projectId)throw new Us(js.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Us(js.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ia(Uu(n))}function Pu(e,t){return Iu(e.databaseId,t)}function Ru(e){const t=Nu(e);return 4===t.length?ta.emptyPath():Uu(t)}function ju(e){return new ta(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uu(e){return Ps(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fu(e,t,n){return{name:Mu(e,t),fields:n.value.mapValue.fields}}function zu(e,t){let n;if(t instanceof qc)n={update:Fu(e,t.key,t.value)};else if(t instanceof Qc)n={delete:Mu(e,t.key)};else if(t instanceof Hc)n={update:Fu(e,t.key,t.data),updateMask:Zu(t.fieldMask)};else{if(!(t instanceof $c))return As();n={verify:Mu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Cc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw As()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Du(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:As()}(e,t.precondition)),n}function Vu(e,t){return{documents:[Pu(e,t.path)]}}function Bu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Pu(e,i);const o=function(e){if(0!==e.length)return $u(El.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ku(e.field),direction:Hu(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ku(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Wu(e){let t=Ru(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ps(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=qu(e);return t instanceof El&&xl(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new yl(Qu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,xa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ml(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ml(n,t)}(n.endAt)),Wl(t,i,s,o,a,"F",l,c)}function qu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qu(e.unaryFilter.field);return _l.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Qu(e.unaryFilter.field);return _l.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qu(e.unaryFilter.field);return _l.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Qu(e.unaryFilter.field);return _l.create(i,"!=",{nullValue:"NULL_VALUE"});default:return As()}}(e):void 0!==e.fieldFilter?function(e){return _l.create(Qu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return As()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return El.create(e.compositeFilter.filters.map((e=>qu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return As()}}(e.compositeFilter.op))}(e):As()}function Hu(e){return _u[e]}function Yu(e){return Eu[e]}function Gu(e){return Su[e]}function Ku(e){return{fieldPath:e.canonicalString()}}function Qu(e){return ra.fromServerFormat(e.fieldPath)}function $u(e){return e instanceof _l?function(e){if("=="===e.op){if(ll(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NAN"}};if(al(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ll(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NAN"}};if(al(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(e.field),op:Yu(e.op),value:e.value}}}(e):e instanceof El?function(e){const t=e.getFilters().map((e=>$u(e)));return 1===t.length?t[0]:{compositeFilter:{op:Gu(e.op),filters:t}}}(e):As()}function Zu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Xu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ju{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Js.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Js.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:za.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ed{constructor(e){this.ct=e}}function td(e){const t=Wu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zl(t,t.limit,"L"):t}class nd{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Wa(e.integerValue));else if("doubleValue"in e){const n=Wa(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ka(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(qa(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?dl(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):As()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),ia.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}nd.bt=new nd;class rd{constructor(){this._n=new id}addToCollectionParentIndex(e,t){return this._n.add(t),fa.resolve()}getCollectionParents(e,t){return fa.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return fa.resolve()}deleteFieldIndex(e,t){return fa.resolve()}deleteAllFieldIndexes(e){return fa.resolve()}createTargetIndexes(e,t){return fa.resolve()}getDocumentsMatchingTarget(e,t){return fa.resolve(null)}getIndexType(e,t){return fa.resolve(0)}getFieldIndexes(e,t){return fa.resolve([])}getNextCollectionGroupToUpdate(e){return fa.resolve(null)}getMinOffset(e,t){return fa.resolve(la.min())}getMinOffsetFromCollectionGroup(e,t){return fa.resolve(la.min())}updateCollectionGroup(e,t,n){return fa.resolve()}updateIndexEntries(e,t){return fa.resolve()}}class id{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ra(ta.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ra(ta.comparator)).toArray()}}new Uint8Array(0);class od{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new od(e,od.DEFAULT_COLLECTION_PERCENTILE,od.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}od.DEFAULT_COLLECTION_PERCENTILE=10,od.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,od.DEFAULT=new od(41943040,od.DEFAULT_COLLECTION_PERCENTILE,od.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),od.DISABLED=new od(-1,0,0);class sd{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new sd(0)}static Bn(){return new sd(-1)}}class ad{constructor(){this.changes=new oc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ld{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Vc(n.mutation,e,Ua.empty(),Xs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,gc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gc();const r=dc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=cc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=dc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,gc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ac();const o=fc(),s=fc();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Hc)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Vc(s.mutation,t,s.mutation.getFieldMask(),Xs.now())):o.set(t.key,Ua.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ld(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=fc();let r=new Ma(((e,t)=>e-t)),i=gc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ua.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||gc()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=hc();l.forEach((e=>{if(!i.has(e)){const r=Fc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return fa.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):fa.resolve(dc());let s=-1,a=i;return o.next((t=>fa.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?fa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,gc()))).next((e=>({batchId:s,changes:uc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ia(t)).next((e=>{let t=cc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=cc();return this.indexManager.getCollectionParents(e,i).next((s=>fa.forEach(s,(s=>{const a=function(e,t){return new Bl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pl.newInvalidDocument(r)))}));let n=cc();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Vc(o.mutation,r,Ua.empty(),Xs.now()),tc(t,r)&&(n=n.insert(e,r))})),n}))}}class ud{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return fa.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Lu(e.createTime)}}(t)),fa.resolve()}getNamedQuery(e,t){return fa.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:td(e.bundledQuery),readTime:Lu(e.readTime)}}(t)),fa.resolve()}}class dd{constructor(){this.overlays=new Ma(ia.comparator),this.hr=new Map}getOverlay(e,t){return fa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=dc();return fa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),fa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),fa.resolve()}getOverlaysForCollection(e,t,n){const r=dc(),i=t.length+1,o=new ia(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return fa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ma(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=dc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=dc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return fa.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Jc(t,n));let i=this.hr.get(t);void 0===i&&(i=gc(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class hd{constructor(){this.Pr=new Ra(fd.Ir),this.Tr=new Ra(fd.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new fd(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new fd(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new ia(new ta([])),n=new fd(t,e),r=new fd(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new ia(new ta([])),n=new fd(t,e),r=new fd(t,e+1);let i=gc();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new fd(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fd{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return ia.comparator(e.key,t.key)||$s(e.pr,t.pr)}static Er(e,t){return $s(e.pr,t.pr)||ia.comparator(e.key,t.key)}}class pd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Ra(fd.Ir)}checkEmpty(e){return fa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Zc(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new fd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return fa.resolve(o)}lookupMutationBatch(e,t){return fa.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return fa.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fa.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return fa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fd(t,0),r=new fd(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),fa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ra($s);return t.forEach((e=>{const t=new fd(e,0),r=new fd(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),fa.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ia.isDocumentKey(i)||(i=i.child(""));const o=new fd(new ia(i),0);let s=new Ra($s);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),fa.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ps(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return fa.forEach(t.mutations,(r=>{const i=new fd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new fd(t,0),r=this.wr.firstAfterOrEqual(n);return fa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fa.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class md{constructor(e){this.vr=e,this.docs=new Ma(ia.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fa.resolve(n?n.document.mutableCopy():pl.newInvalidDocument(t))}getEntries(e,t){let n=ac();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pl.newInvalidDocument(e))})),fa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ac();const o=t.path,s=new ia(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ca(aa(s),n)<=0||(r.has(s.key)||tc(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return fa.resolve(i)}getAllFromCollectionGroup(e,t,n,r){As()}Fr(e,t){return fa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new gd(this)}getSize(e){return fa.resolve(this.size)}}class gd extends ad{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),fa.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class vd{constructor(e){this.persistence=e,this.Mr=new oc((e=>Fl(e)),zl),this.lastRemoteSnapshotVersion=Js.min(),this.highestTargetId=0,this.Or=0,this.Nr=new hd,this.targetCount=0,this.Br=sd.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),fa.resolve()}getLastRemoteSnapshotVersion(e){return fa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fa.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),fa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),fa.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,fa.resolve()}updateTargetData(e,t){return this.qn(t),fa.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,fa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),fa.waitFor(i).next((()=>r))}getTargetCount(e){return fa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return fa.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),fa.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),fa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),fa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return fa.resolve(n)}containsKey(e,t){return fa.resolve(this.Nr.containsKey(t))}}class yd{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Sa(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vd(this),this.indexManager=new rd,this.remoteDocumentCache=function(e){return new md(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new ed(t),this.$r=new ud(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new pd(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Is("MemoryPersistence","Starting transaction:",e);const r=new bd(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return fa.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class bd extends da{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.zr=new hd,this.jr=null}static Hr(e){return new wd(e)}get Jr(){if(this.jr)return this.jr;throw As()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),fa.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),fa.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),fa.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fa.forEach(this.Jr,(n=>{const r=ia.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Js.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return fa.or([()=>fa.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class _d{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=gc(),r=gc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _d(e,t.fromCache,n,r)}}class Ed{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Be()?8:ma.v(Ve())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ed;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Ls()<=st.DEBUG&&Is("QueryEngine","SDK will not create cache indexes for query:",ec(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),fa.resolve()):(Ls()<=st.DEBUG&&Is("QueryEngine","Query:",ec(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Ls()<=st.DEBUG&&Is("QueryEngine","The SDK decides to create cache indexes for query:",ec(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kl(t))):fa.resolve())}ji(e,t){if(Hl(t))return fa.resolve(null);let n=Kl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Zl(t,null,"F"),n=Kl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=gc(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Zl(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Hl(t)||r.isEqual(Js.min())?fa.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?fa.resolve(null):(Ls()<=st.DEBUG&&Is("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ec(t)),this.es(e,o,t,sa(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Ra(rc(e));return t.forEach(((t,r)=>{tc(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Ls()<=st.DEBUG&&Is("QueryEngine","Using full collection scan to execute query:",ec(t)),this.zi.getDocumentsMatchingQuery(e,t,la.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class xd{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Ma($s),this.rs=new oc((e=>Fl(e)),zl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cd(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function kd(e,t,n,r){return new xd(e,t,n,r)}async function Cd(e,t){const n=Rs(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=gc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Td(e){const t=Rs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Dd(e,t,n){let r=gc(),i=gc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ac();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Js.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Is("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function Ld(e,t){const n=Rs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Id(e,t){const n=Rs(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,fa.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Ju(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Od(e,t,n){const r=Rs(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ya(e))throw e;Is("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Nd(e,t,n){const r=Rs(e);let i=Js.min(),o=gc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Rs(e),i=r.rs.get(n);return void 0!==i?fa.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Kl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Js.min(),n?o:gc()))).next((e=>(Md(r,nc(t),e),{documents:e,hs:o})))))}function Md(e,t,n){let r=e.ss.get(t)||Js.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Ad{constructor(){this.activeTargetIds=yc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pd{constructor(){this.no=new Ad,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ad,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rd{io(e){}shutdown(){}}class jd{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Is("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Is("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ud=null;function Fd(){return null===Ud?Ud=268435456+Math.round(2147483648*Math.random()):Ud++,"0x"+Ud.toString(16)}const zd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vd{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Bd="WebChannelConnection";class Wd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=Fd(),s=this.bo(e,t.toUriEncodedString());Is("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Is("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Ns("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ts,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=zd[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Fd();return new Promise(((o,s)=>{const a=new Es;a.setWithCredentials(!0),a.listenOnce(ys.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case vs.NO_ERROR:const t=a.getResponseJson();Is(Bd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case vs.TIMEOUT:Is(Bd,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Us(js.DEADLINE_EXCEEDED,"Request time out"));break;case vs.HTTP_ERROR:const n=a.getStatus();if(Is(Bd,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(js).indexOf(t)>=0?t:js.UNKNOWN}(t.status);s(new Us(e,t.message))}else s(new Us(js.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Us(js.UNAVAILABLE,"Connection failed."));break;default:As()}}finally{Is(Bd,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Is(Bd,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Fd(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ms(),s=gs(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Is(Bd,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new Vd({lo:t=>{h?Is(Bd,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Is(Bd,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Is(Bd,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,_s.EventType.OPEN,(()=>{h||Is(Bd,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,_s.EventType.CLOSE,(()=>{h||(h=!0,Is(Bd,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,_s.EventType.ERROR,(t=>{h||(h=!0,Ns(Bd,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Us(js.UNAVAILABLE,"The operation could not be completed")))})),p(u,_s.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Ps(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Is(Bd,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=tu[e];if(void 0!==t)return iu(t)}(t),i=s.message;void 0===n&&(n=js.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Vo(new Us(n,i)),u.close()}else Is(Bd,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,bs.STAT_EVENT,(t=>{t.stat===ws.PROXY?Is(Bd,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ws.NOPROXY&&Is(Bd,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function qd(){return"undefined"!=typeof document?document:null}function Hd(e){return new xu(e,!0)}class Yd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Is("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Gd{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Yd(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===js.RESOURCE_EXHAUSTED?(Os(t.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===js.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Us(js.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Is("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Is("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kd extends Gd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:As()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ps(void 0===t||"string"==typeof t),za.fromBase64String(t||"")):(Ps(void 0===t||t instanceof Uint8Array),za.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?js.UNKNOWN:iu(e.code);return new Us(t,e.message||"")}(s);n=new gu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Au(e,r.document.name),o=Lu(r.document.updateTime),s=r.document.createTime?Lu(r.document.createTime):Js.min(),a=new hl({mapValue:{fields:r.document.fields}}),l=pl.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new pu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Au(e,r.document),o=r.readTime?Lu(r.readTime):Js.min(),s=pl.newNoDocument(i,o),a=r.removedTargetIds||[];n=new pu([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Au(e,r.document),o=r.removedTargetIds||[];n=new pu([],o,i,null)}else{if(!("filter"in t))return As();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new eu(r,i),s=e.targetId;n=new mu(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Js.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Js.min():t.readTime?Lu(t.readTime):Js.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=ju(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vl(r)?{documents:Vu(e,r)}:{query:Bu(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tu(e,t.resumeToken);const r=ku(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Js.min())>0){n.readTime=Cu(e,t.snapshotVersion.toTimestamp());const r=ku(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return As()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=ju(this.serializer),t.removeTarget=e,this.t_(t)}}class Qd extends Gd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Ps(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Ps(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Lu(e.updateTime):Lu(t);return n.isEqual(Js.min())&&(n=Lu(t)),new Pc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Lu(e.commitTime);return this.listener.T_(n,t)}return Ps(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ju(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>zu(this.serializer,e)))};this.t_(t)}}class $d extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Us(js.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,Ou(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===js.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Us(js.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,Ou(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===js.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Us(js.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Zd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Os(t),this.g_=!1):Is("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Xd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{ah(this)&&(Is("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Rs(e);t.v_.add(4),await eh(t),t.x_.set("Unknown"),t.v_.delete(4),await Jd(t)}(this))}))})),this.x_=new Zd(n,r)}}async function Jd(e){if(ah(e))for(const t of e.F_)await t(!0)}async function eh(e){for(const t of e.F_)await t(!1)}function th(e,t){const n=Rs(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),sh(n)?oh(n):kh(n).Jo()&&rh(n,t))}function nh(e,t){const n=Rs(e),r=kh(n);n.C_.delete(t),r.Jo()&&ih(n,t),0===n.C_.size&&(r.Jo()?r.Xo():ah(n)&&n.x_.set("Unknown"))}function rh(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Js.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kh(e).c_(t)}function ih(e,t){e.O_.Oe(t),kh(e).l_(t)}function oh(e){e.O_=new yu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),kh(e).start(),e.x_.p_()}function sh(e){return ah(e)&&!kh(e).Ho()&&e.C_.size>0}function ah(e){return 0===Rs(e).v_.size}function lh(e){e.O_=void 0}async function ch(e){e.C_.forEach(((t,n)=>{rh(e,t)}))}async function uh(e,t){lh(e),sh(e)?(e.x_.S_(t),oh(e)):e.x_.set("Unknown")}async function dh(e,t,n){if(e.x_.set("Online"),t instanceof gu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Is("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hh(e,n)}else if(t instanceof pu?e.O_.$e(t):t instanceof mu?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Js.min()))try{const t=await Td(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(za.EMPTY_BYTE_STRING,r.snapshotVersion)),ih(e,t);const i=new Ju(r.target,t,n,r.sequenceNumber);rh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Is("RemoteStore","Failed to raise snapshot:",t),await hh(e,t)}}async function hh(e,t,n){if(!ya(t))throw t;e.v_.add(1),await eh(e),e.x_.set("Offline"),n||(n=()=>Td(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Is("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Jd(e)}))}function fh(e,t){return t().catch((n=>hh(e,n,t)))}async function ph(e){const t=Rs(e),n=Ch(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;mh(t);)try{const e=await Ld(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,gh(t,e)}catch(e){await hh(t,e)}vh(t)&&yh(t)}function mh(e){return ah(e)&&e.D_.length<10}function gh(e,t){e.D_.push(t);const n=Ch(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function vh(e){return ah(e)&&!Ch(e).Ho()&&e.D_.length>0}function yh(e){Ch(e).start()}async function bh(e){Ch(e).d_()}async function wh(e){const t=Ch(e);for(const n of e.D_)t.I_(n.mutations)}async function _h(e,t,n){const r=e.D_.shift(),i=Xc.from(r,t,n);await fh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ph(e)}async function Eh(e,t){t&&Ch(e).P_&&await async function(e,t){if(function(e){return ru(e)&&e!==js.ABORTED}(t.code)){const n=e.D_.shift();Ch(e).Zo(),await fh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ph(e)}}(e,t),vh(e)&&yh(e)}async function Sh(e,t){const n=Rs(e);n.asyncQueue.verifyOperationInProgress(),Is("RemoteStore","RemoteStore received new credentials");const r=ah(n);n.v_.add(3),await eh(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Jd(n)}async function xh(e,t){const n=Rs(e);t?(n.v_.delete(2),await Jd(n)):t||(n.v_.add(2),await eh(n),n.x_.set("Unknown"))}function kh(e){return e.N_||(e.N_=function(e,t,n){const r=Rs(e);return r.R_(),new Kd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ch.bind(null,e),To:uh.bind(null,e),u_:dh.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),sh(e)?oh(e):e.x_.set("Unknown")):(await e.N_.stop(),lh(e))}))),e.N_}function Ch(e){return e.B_||(e.B_=function(e,t,n){const r=Rs(e);return r.R_(),new Qd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:bh.bind(null,e),To:Eh.bind(null,e),E_:wh.bind(null,e),T_:_h.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await ph(e)):(await e.B_.stop(),e.D_.length>0&&(Is("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class Th{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Th(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Us(js.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dh(e,t){if(Os("AsyncQueue","".concat(t,": ").concat(e)),ya(e))return new Us(js.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Lh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ia.comparator(t.key,n.key):(e,t)=>ia.comparator(e.key,t.key),this.keyedMap=cc(),this.sortedSet=new Ma(this.comparator)}static emptySet(e){return new Lh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Lh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ih{constructor(){this.L_=new Ma(ia.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):As():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Oh{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Oh(e,t,Lh.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Nh{constructor(){this.q_=void 0,this.Q_=[]}}class Mh{constructor(){this.queries=new oc((e=>Jl(e)),Xl),this.onlineState="Unknown",this.K_=new Set}}async function Ah(e,t){const n=Rs(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Nh),i)try{o.q_=await n.onListen(r)}catch(e){const n=Dh(e,"Initialization of query '".concat(ec(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&Uh(n)}async function Ph(e,t){const n=Rs(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Rh(e,t){const n=Rs(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Uh(n)}function jh(e,t,n){const r=Rs(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function Uh(e){e.K_.forEach((e=>{e.next()}))}class Fh{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Oh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class zh{constructor(e){this.key=e}}class Vh{constructor(e){this.key=e}}class Bh{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=gc(),this.mutatedKeys=gc(),this.ua=rc(e),this.ca=new Lh(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Ih,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=tc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ua(u,a)>0||l&&this.ua(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return As()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==o.length||l?{snapshot:new Oh(this.query,e.ca,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ih,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=gc(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Vh(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new zh(n))})),t}Ra(e){this.oa=e.hs,this.aa=gc();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Oh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Wh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qh{constructor(e){this.key=e,this.ma=!1}}class Hh{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new oc((e=>Jl(e)),Xl),this.pa=new Map,this.ya=new Set,this.wa=new Ma(ia.comparator),this.Sa=new Map,this.ba=new hd,this.Da={},this.Ca=new Map,this.va=sd.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Yh(e,t){const n=df(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await Id(n.localStore,Kl(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Gh(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&th(n.remoteStore,e)}return i}async function Gh(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Nd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return of(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const o=await Nd(e.localStore,t,!0),s=new Bh(t,o.hs),a=s.ha(o.documents),l=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);of(e,n,c.da);const u=new Wh(t,n,s);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function Kh(e,t){const n=Rs(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Xl(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Od(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),nh(n.remoteStore,r.targetId),nf(n,r.targetId)})).catch(ha)):(nf(n,r.targetId),await Od(n.localStore,r.targetId,!0))}async function Qh(e,t){const n=Rs(e);try{const e=await function(e,t){const n=Rs(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(za.EMPTY_BYTE_STRING,Js.min()).withLastLimboFreeSnapshotVersion(Js.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=ac(),l=gc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Dd(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Js.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return fa.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Ps(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Ps(r.ma):e.removedDocuments.size>0&&(Ps(r.ma),r.ma=!1))})),await lf(n,e,t)}catch(e){await ha(e)}}function $h(e,t,n){const r=Rs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Rs(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Uh(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zh(e,t,n){const r=Rs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new Ma(ia.comparator);e=e.insert(o,pl.newNoDocument(o,Js.min()));const n=gc().add(o),i=new hu(Js.min(),new Map,new Ma($s),e,n);await Qh(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),af(r)}else await Od(r.localStore,t,!1).then((()=>nf(r,t,n))).catch(ha)}async function Xh(e,t){const n=Rs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Rs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=fa.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ps(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=gc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);tf(n,r,null),ef(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,e)}catch(e){await ha(e)}}async function Jh(e,t,n){const r=Rs(e);try{const e=await function(e,t){const n=Rs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ps(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);tf(r,t,n),ef(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lf(r,e)}catch(n){await ha(n)}}function ef(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function tf(e,t,n){const r=Rs(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||rf(e,t)}))}function rf(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(nh(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),af(e))}function of(e,t,n){for(const r of n)r instanceof zh?(e.ba.addReference(r.key,t),sf(e,r)):r instanceof Vh?(Is("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||rf(e,r.key)):As()}function sf(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Is("SyncEngine","New document in limbo: "+n),e.ya.add(r),af(e))}function af(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new ia(ta.fromString(t)),r=e.va.next();e.Sa.set(r,new qh(n)),e.wa=e.wa.insert(n,r),th(e.remoteStore,new Ju(Kl(ql(n.path)),r,"TargetPurposeLimboResolution",Sa._e))}}async function lf(e,t,n){const r=Rs(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{s.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=_d.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=Rs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>fa.forEach(t,(t=>fa.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>fa.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ya(e))throw e;Is("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function cf(e,t){const n=Rs(e);if(!n.currentUser.isEqual(t)){Is("SyncEngine","User change. New user:",t.toKey());const e=await Cd(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Us(js.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lf(n,e.us)}}function uf(e,t){const n=Rs(e),r=n.Sa.get(t);if(r&&r.ma)return gc().add(r.key);{let e=gc();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function df(e){const t=Rs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zh.bind(null,t),t.fa.u_=Rh.bind(null,t.eventManager),t.fa.xa=jh.bind(null,t.eventManager),t}function hf(e){const t=Rs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jh.bind(null,t),t}class ff{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kd(this.persistence,new Sd,e.initialUser,this.serializer)}createPersistence(e){return new yd(wd.Hr,this.serializer)}createSharedClientState(e){return new Pd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>$h(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cf.bind(null,this.syncEngine),await xh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mh}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),n=function(e){return new Wd(e)}(e.databaseInfo);return function(e,t,n,r){return new $d(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Xd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>$h(this.syncEngine,e,0)),jd.D()?new jd:new Rd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Hh(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Rs(e);Is("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await eh(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class gf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Cs.UNAUTHENTICATED,this.clientId=Qs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Is("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Is("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Us(js.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Dh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function vf(e,t){e.asyncQueue.verifyOperationInProgress(),Is("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Cd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wf(e);Is("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Sh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Sh(t.remoteStore,n))),e._onlineComponents=t}function bf(e){return"FirebaseError"===e.name?e.code===js.FAILED_PRECONDITION||e.code===js.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function wf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Is("FirestoreClient","Using user provided OfflineComponentProvider");try{await vf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bf(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await vf(e,new ff)}}else Is("FirestoreClient","Using default OfflineComponentProvider"),await vf(e,new ff);return e._offlineComponents}async function _f(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Is("FirestoreClient","Using user provided OnlineComponentProvider"),await yf(e,e._uninitializedComponentsProvider._online)):(Is("FirestoreClient","Using default OnlineComponentProvider"),await yf(e,new pf))),e._onlineComponents}function Ef(e){return _f(e).then((e=>e.syncEngine))}async function Sf(e){const t=await _f(e),n=t.eventManager;return n.onListen=Yh.bind(null,t.syncEngine),n.onUnlisten=Kh.bind(null,t.syncEngine),n}function xf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Fs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new mf({next:o=>{t.enqueueAndForget((()=>Ph(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Us(js.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Us(js.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Fh(ql(n.path),o,{includeMetadataChanges:!0,Z_:!0});return Ah(e,s)}(await Sf(e),e.asyncQueue,t,n,r))),r.promise}function kf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Fs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new mf({next:n=>{t.enqueueAndForget((()=>Ph(e,s))),n.fromCache&&"server"===r.source?i.reject(new Us(js.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Fh(n,o,{includeMetadataChanges:!0,Z_:!0});return Ah(e,s)}(await Sf(e),e.asyncQueue,t,n,r))),r.promise}function Cf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tf=new Map;function Df(e,t,n){if(!n)throw new Us(js.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Lf(e){if(!ia.isDocumentKey(e))throw new Us(js.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function If(e){if(ia.isDocumentKey(e))throw new Us(js.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Of(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":As()}function Nf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Us(js.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(e);throw new Us(js.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Mf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Us(js.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Us(js.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Us(js.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Us(js.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Us(js.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Us(js.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Us(js.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Us(js.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vs;switch(e.type){case"firstParty":return new Hs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Us(js.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tf.get(e);t&&(Is("ComponentProvider","Removing Datastore"),Tf.delete(e),t.terminate())}(this),Promise.resolve()}}class Pf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pf(this.firestore,e,this._query)}}class Rf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rf(this.firestore,e,this._key)}}class jf extends Pf{constructor(e,t,n){super(e,t,ql(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rf(this.firestore,null,new ia(e))}withConverter(e){return new jf(this.firestore,e,this._path)}}function Uf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=et(e),Df("collection","path",t),e instanceof Af){const n=ta.fromString(t,...r);return If(n),new jf(e,null,n)}{if(!(e instanceof Rf||e instanceof jf))throw new Us(js.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ta.fromString(t,...r));return If(n),new jf(e.firestore,null,n)}}function Ff(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=et(e),1===arguments.length&&(t=Qs.newId()),Df("doc","path",t),e instanceof Af){const n=ta.fromString(t,...r);return Lf(n),new Rf(e,null,new ia(n))}{if(!(e instanceof Rf||e instanceof jf))throw new Us(js.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ta.fromString(t,...r));return Lf(n),new Rf(e.firestore,e instanceof jf?e.converter:null,new ia(n))}}class zf{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Yd(this,"async_queue_retry"),this._u=()=>{const e=qd();e&&Is("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=qd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=qd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Fs;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(KP){if(!ya(KP))throw KP;Is("AsyncQueue","Operation failed with retryable error: "+KP)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Os("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Th.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&As()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function Vf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Bf extends Af{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new zf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hf(this),this._firestoreClient.terminate()}}function Wf(e,t){const n="string"==typeof e?e:t||"(default)",r=Ft("object"==typeof e?e:qt(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Re("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Nf(e,Af))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Cs.MOCK_USER;else{t=ze(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Us(js.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Cs(o)}e._authCredentials=new Bs(new zs(t,n))}}(r,...e)}return r}function qf(e){return e._firestoreClient||Hf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Hf(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ka(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Cf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new gf(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Yf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yf(za.fromBase64String(e))}catch(e){throw new Us(js.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yf(za.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Us(js.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ra(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kf{constructor(e){this._methodName=e}}class Qf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Us(js.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Us(js.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $s(this._lat,e._lat)||$s(this._long,e._long)}}const $f=/^__.*__$/;class Zf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}}class Xf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw As()}}class ep{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return gp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Jf(this.du)&&$f.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class tp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hd(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ep({du:e,methodName:t,wu:n,path:ra.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function np(e){const t=e._freezeSettings(),n=Hd(e._databaseId);return new tp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rp(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);hp("Data must be an object, but it was:",s,r);const a=up(r,s);let l,c;if(o.merge)l=new Ua(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=fp(t,r,n);if(!s.contains(i))throw new Us(js.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));vp(e,i)||e.push(i)}l=new Ua(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Zf(new hl(a),l,c)}class ip extends Kf{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}class op extends Kf{_toFieldTransform(e){return new Ac(e.path,new Cc)}isEqual(e){return e instanceof op}}function sp(e,t,n,r){const i=e.Su(1,t,n);hp("Data must be an object, but it was:",i,r);const o=[],s=hl.empty();Oa(r,((e,r)=>{const a=mp(t,e,n);r=et(r);const l=i.fu(a);if(r instanceof ip)o.push(a);else{const e=cp(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Ua(o);return new Xf(s,a,i.fieldTransforms)}function ap(e,t,n,r,i,o){const s=e.Su(1,t,n),a=[fp(t,r,n)],l=[i];if(o.length%2!=0)throw new Us(js.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(fp(t,o[h])),l.push(o[h+1]);const c=[],u=hl.empty();for(let h=a.length-1;h>=0;--h)if(!vp(c,a[h])){const e=a[h];let t=l[h];t=et(t);const n=s.fu(e);if(t instanceof ip)c.push(e);else{const r=cp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ua(c);return new Xf(u,d,s.fieldTransforms)}function lp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return cp(n,e.Su(r?4:3,t))}function cp(e,t){if(dp(e=et(e)))return hp("Unsupported field value:",t,e),up(e,t);if(e instanceof Kf)return function(e,t){if(!Jf(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=cp(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=et(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _c(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Xs.fromDate(e);return{timestampValue:Cu(t.serializer,n)}}if(e instanceof Xs){const n=new Xs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cu(t.serializer,n)}}if(e instanceof Qf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yf)return{bytesValue:Tu(t.serializer,e._byteString)};if(e instanceof Rf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Iu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Of(e)))}(e,t)}function up(e,t){const n={};return Na(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oa(e,((e,r)=>{const i=cp(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xs||e instanceof Qf||e instanceof Yf||e instanceof Rf||e instanceof Kf)}function hp(e,t,n){if(!dp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Of(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function fp(e,t,n){if((t=et(t))instanceof Gf)return t._internalPath;if("string"==typeof t)return mp(e,t);throw gp("Field path arguments must be of type string or ",e,!1,void 0,n)}const pp=new RegExp("[~\\*/\\[\\]]");function mp(e,t,n){if(t.search(pp)>=0)throw gp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Gf(...t.split("."))._internalPath}catch(yn){throw gp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gp(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Us(js.INVALID_ARGUMENT,a+e+l)}function vp(e,t){return e.some((e=>e.isEqual(t)))}class yp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bp extends yp{data(){return super.data()}}function wp(e,t){return"string"==typeof t?mp(e,t):t instanceof Gf?t._internalPath:t._delegate._internalPath}function _p(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Us(js.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class Sp extends Ep{}function xp(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Ep&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Tp)).length,n=e.filter((e=>e instanceof kp)).length;if(t>1||t>0&&n>0)throw new Us(js.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class kp extends Sp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new kp(e,t,n)}_apply(e){const t=this._parse(e);return Np(e._query,t),new Pf(e.firestore,e.converter,$l(e._query,t))}_parse(e){const t=np(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Us(js.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Op(s,o);const t=[];for(const n of s)t.push(Ip(r,e,n));a={arrayValue:{values:t}}}else a=Ip(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Op(s,o),a=lp(n,t,s,"in"===o||"not-in"===o);return _l.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Cp(e,t,n){const r=t,i=wp("where",e);return kp._create(i,r,n)}class Tp extends Ep{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tp(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:El.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Np(n,i),n=$l(n,i)}(e._query,t),new Pf(e.firestore,e.converter,$l(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dp extends Sp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dp(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Us(js.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Us(js.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yl(t,n)}(e._query,this._field,this._direction);return new Pf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Lp(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=wp("orderBy",e);return Dp._create(n,t)}function Ip(e,t,n){if("string"==typeof(n=et(n))){if(""===n)throw new Us(js.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yl(t)&&-1!==n.indexOf("/"))throw new Us(js.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ta.fromString(n));if(!ia.isDocumentKey(r))throw new Us(js.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return il(e,new ia(r))}if(n instanceof Rf)return il(e,n._key);throw new Us(js.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Of(n),"."))}function Op(e,t){if(!Array.isArray(e)||0===e.length)throw new Us(js.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Np(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Us(js.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Us(js.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Mp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw As()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Oa(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Qf(Wa(e.latitude),Wa(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ya(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){const t=Ba(e);return new Xs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ta.fromString(e);Ps(Xu(n));const r=new Qa(n.get(1),n.get(3)),i=new ia(n.popFirst(5));return r.isEqual(t)||Os("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ap(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rp extends yp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(wp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jp extends Rp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Up{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new jp(this._firestore,this._userDataWriter,n.key,n,new Pp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Us(js.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new jp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Pp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new jp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Fp(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return As()}}function zp(e){e=Nf(e,Rf);const t=Nf(e.firestore,Bf);return xf(qf(t),e._key).then((n=>Kp(t,e,n)))}class Vp extends Mp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rf(this.firestore,null,t)}}function Bp(e){e=Nf(e,Pf);const t=Nf(e.firestore,Bf),n=qf(t),r=new Vp(t);return _p(e._query),kf(n,e._query).then((n=>new Up(t,r,e,n)))}function Wp(e,t,n){e=Nf(e,Rf);const r=Nf(e.firestore,Bf),i=np(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=et(t))||t instanceof Gf?ap(i,"updateDoc",e._key,t,n,a):sp(i,"updateDoc",e._key,t),Gp(r,[o.toMutation(e._key,Rc.exists(!0))])}function qp(e){return Gp(Nf(e.firestore,Bf),[new Qc(e._key,Rc.none())])}function Hp(e,t){const n=Nf(e.firestore,Bf),r=Ff(e),i=Ap(e.converter,t);return Gp(n,[rp(np(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rc.exists(!1))]).then((()=>r))}function Yp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=et(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Vf(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(Vf(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Rf)d=Nf(e.firestore,Bf),h=ql(e._key.path),u={next:t=>{n[l]&&n[l](Kp(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Nf(e,Pf);d=Nf(t.firestore,Bf),h=t._query;const r=new Vp(d);u={next:e=>{n[l]&&n[l](new Up(d,r,t,e))},error:n[l+1],complete:n[l+2]},_p(e._query)}return function(e,t,n,r){const i=new mf(r),o=new Fh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ah(await Sf(e),o))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>Ph(await Sf(e),o)))}}(qf(d),h,c,u)}function Gp(e,t){return function(e,t){const n=new Fs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=hf(e);try{const e=await function(e,t){const n=Rs(e),r=Xs.now(),i=t.reduce(((e,t)=>e.add(t.key)),gc());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ac(),l=gc();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Bc(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Hc(e.key,t,fl(t.value.mapValue),Rc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:uc(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Ma($s)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await lf(r,e.changes),await ph(r.remoteStore)}catch(e){const t=Dh(e,"Failed to persist write");n.reject(t)}}(await Ef(e),t,n))),n.promise}(qf(e),t)}function Kp(e,t,n){const r=n.docs.get(t._key),i=new Vp(e);return new Rp(e,i,t._key,r,new Pp(n.hasPendingWrites,n.fromCache),t.converter)}class Qp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=np(e)}set(e,t,n){this._verifyNotCommitted();const r=$p(e,this._firestore),i=Ap(r.converter,t,n),o=rp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Rc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=$p(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=et(t))||t instanceof Gf?ap(this._dataReader,"WriteBatch.update",r._key,t,n,s):sp(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Rc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$p(e,this._firestore);return this._mutations=this._mutations.concat(new Qc(t._key,Rc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Us(js.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $p(e,t){if((e=et(e)).firestore!==t)throw new Us(js.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Zp(){return new op("serverTimestamp")}function Xp(e){return qf(e=Nf(e,Bf)),new Qp(e,(t=>Gp(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ts=e}(Bt),Ut(new tt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Bf(new Ws(e.getProvider("auth-internal")),new Gs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Us(js.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ht(ks,"4.4.2",e),Ht(ks,"4.4.2","esm2017")}();function Jp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function em(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tm=em,nm=new He("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rm=new dt("@firebase/auth");function im(e){if(rm.logLevel<=st.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rm.error("Auth (".concat(Bt,"): ").concat(e),...n)}}function om(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cm(e,...n)}function sm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cm(e,...n)}function am(e,t,n){const r=Object.assign(Object.assign({},tm()),{[t]:n});return new He("auth","Firebase",r).create(t,{appName:e.name})}function lm(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&om(e,"argument-error"),am(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return nm.create(e,...n)}function um(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw cm(t,...r)}}function dm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw im(t),new Error(t)}function hm(e,t){e||dm(t)}function fm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function pm(){return"http:"===mm()||"https:"===mm()}function mm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function gm(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(pm()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class vm{constructor(e,t){this.shortDelay=e,this.longDelay=t,hm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return gm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ym(e,t){hm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class bm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void dm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void dm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void dm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_m=new vm(3e4,6e4);function Em(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Sm(e,t,n,r){return xm(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Qe(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),bm.fetch()(Cm(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function xm(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},wm),t);try{const t=new Dm(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lm(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Lm(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Lm(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Lm(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw am(e,a,s);om(e,a)}}catch(KP){if(KP instanceof qe)throw KP;om(e,"network-request-failed",{message:String(KP)})}}async function km(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Sm(e,t,n,r,i);return"mfaPendingCredential"in o&&om(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Cm(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ym(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Tm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(sm(this.auth,"network-request-failed"))),_m.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sm(e,t,r);return i.customData._tokenResponse=n,i}function Im(e){return void 0!==e&&void 0!==e.enterprise}class Om{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Tm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Nm(e,t){return Sm(e,"GET","/v2/recaptchaConfig",Em(e,t))}function Mm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(KP){}}function Am(e){return 1e3*Number(e)}function Pm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return im("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ne(n);return e?JSON.parse(e):(im("Failed to decode base64 JWT payload"),null)}catch(KP){return im("Caught error parsing JWT payload as JSON",null===KP||void 0===KP?void 0:KP.toString()),null}}async function Rm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(KP){throw KP instanceof qe&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(KP)&&e.auth.currentUser===e&&await e.auth.signOut(),KP}}class jm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(KP){return void((null===KP||void 0===KP?void 0:KP.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Um{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mm(this.lastLoginAt),this.creationTime=Mm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fm(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Rm(e,async function(e,t){return Sm(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));um(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Jp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class zm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){um(e.idToken,"internal-error"),um("undefined"!==typeof e.idToken,"internal-error"),um("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Pm(e);return um(t,"internal-error"),um("undefined"!==typeof t.exp,"internal-error"),um("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return um(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await xm(e,{},(async()=>{const n=Qe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Cm(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",bm.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new zm;return n&&(um("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(um("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(um("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zm,this.toJSON())}_performRefresh(){return dm("not implemented")}}function Vm(e,t){um("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Bm{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Um(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Rm(this,this.stsTokenManager.getToken(this.auth,e));return um(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=et(e),r=await n.getIdToken(t),i=Pm(r);um(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Mm(Am(i.auth_time)),issuedAtTime:Mm(Am(i.iat)),expirationTime:Mm(Am(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=et(e);await Fm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(um(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bm(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){um(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Rm(this,async function(e,t){return Sm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;um(y&&E,e,"internal-error");const S=zm.fromJSON(this.name,E);um("string"===typeof y,e,"internal-error"),Vm(u,e.name),Vm(d,e.name),um("boolean"===typeof b,e,"internal-error"),um("boolean"===typeof w,e,"internal-error"),Vm(h,e.name),Vm(f,e.name),Vm(p,e.name),Vm(m,e.name),Vm(g,e.name),Vm(v,e.name);const x=new Bm({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new zm;r.updateFromServerResponse(t);const i=new Bm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Fm(i),i}}const Wm=new Map;function qm(e){hm(e instanceof Function,"Expected a class definition");let t=Wm.get(e);return t?(hm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wm.set(e,t),t)}class Hm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hm.type="NONE";const Ym=Hm;function Gm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Km{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Gm(this.userKey,r.apiKey,i),this.fullPersistenceKey=Gm("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Km(qm(Ym),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||qm(Ym);const o=Gm(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Bm._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Km(i,e,n)):new Km(i,e,n)}}function Qm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($m(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tg(t))return"Blackberry";if(ng(t))return"Webos";if(Zm(t))return"Safari";if((t.includes("chrome/")||Xm(t))&&!t.includes("edge/"))return"Chrome";if(eg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function $m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/firefox\//i.test(e)}function Zm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/crios\//i.test(e)}function Jm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/iemobile/i.test(e)}function eg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/android/i.test(e)}function tg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/blackberry/i.test(e)}function ng(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/webos/i.test(e)}function rg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ig(){return function(){const e=Ve();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function og(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return rg(e)||eg(e)||ng(e)||tg(e)||/windows phone/i.test(e)||Jm(e)}function sg(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qm(Ve());break;case"Worker":t="".concat(Qm(Ve()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bt,"/").concat(r)}class ag{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(KP){r(KP)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(KP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===KP||void 0===KP?void 0:KP.message})}}}class lg{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class cg{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dg(this),this.idTokenSubscription=new dg(this),this.beforeStateQueue=new ag(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qm(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Km.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(KP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(KP){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(KP)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return um(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(KP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fm(e)}catch(KP){if((null===KP||void 0===KP?void 0:KP.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?et(e):null;return t&&um(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&um(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(qm(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Sm(e,"GET","/v2/passwordPolicy",Em(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new lg(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new He("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Sm(e,"POST","/v2/accounts:revokeToken",Em(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qm(e)||this._popupRedirectResolver;um(t,this,"argument-error"),this.redirectPersistenceManager=await Km.create(this,[qm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(um(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return um(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(rm.logLevel<=st.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rm.warn("Auth (".concat(Bt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ug(e){return et(e)}class dg{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Xe(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return um(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fg(e){return hg.loadJS(e)}function pg(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class mg{constructor(e){this.type="recaptcha-enterprise",this.auth=ug(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Im(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Nm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Om(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Im(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=hg.recaptchaEnterpriseScript;0!==t.length&&(t+=i),fg(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function gg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new mg(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function vg(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await gg(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await gg(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function yg(e,t,n){const r=ug(e);um(r._canInitEmulator,r,"emulator-config-failed"),um(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=bg(t),{host:s,port:a}=function(e){const t=bg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:wg(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:wg(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function bg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _g{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dm("not implemented")}_getIdTokenResponse(e){return dm("not implemented")}_linkToIdToken(e,t){return dm("not implemented")}_getReauthenticationResolver(e){return dm("not implemented")}}async function Eg(e,t){return Sm(e,"POST","/v1/accounts:signUp",t)}async function Sg(e,t){return km(e,"POST","/v1/accounts:signInWithPassword",Em(e,t))}class xg extends _g{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new xg(e,t,"password")}static _fromEmailAndCode(e,t){return new xg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vg(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sg);case"emailLink":return async function(e,t){return km(e,"POST","/v1/accounts:signInWithEmailLink",Em(e,t))}(e,{email:this._email,oobCode:this._password});default:om(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return vg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Eg);case"emailLink":return async function(e,t){return km(e,"POST","/v1/accounts:signInWithEmailLink",Em(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:om(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function kg(e,t){return km(e,"POST","/v1/accounts:signInWithIdp",Em(e,t))}class Cg extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):om("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Jp(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Cg(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return kg(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,kg(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qe(t)}return e}}const Tg={USER_NOT_FOUND:"user-not-found"};class Dg extends _g{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Dg({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Dg({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return km(e,"POST","/v1/accounts:signInWithPhoneNumber",Em(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await km(e,"POST","/v1/accounts:signInWithPhoneNumber",Em(e,t));if(n.temporaryProof)throw Lm(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return km(e,"POST","/v1/accounts:signInWithPhoneNumber",Em(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Tg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Dg({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Lg{constructor(e){var t,n,r,i,o,s;const a=$e(Ze(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);um(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=$e(Ze(e)).link,n=t?$e(Ze(t)).deep_link_id:null,r=$e(Ze(e)).deep_link_id;return(r?$e(Ze(r)).link:null)||r||n||t||e}(e);try{return new Lg(t)}catch(n){return null}}}class Ig{constructor(){this.providerId=Ig.PROVIDER_ID}static credential(e,t){return xg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Lg.parseLink(t);return um(n,"argument-error"),xg._fromEmailAndCode(e,n.code,n.tenantId)}}Ig.PROVIDER_ID="password",Ig.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ig.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ng extends Og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mg extends Ng{constructor(){super("facebook.com")}static credential(e){return Cg._fromParams({providerId:Mg.PROVIDER_ID,signInMethod:Mg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mg.credentialFromTaggedObject(e)}static credentialFromError(e){return Mg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mg.credential(t.oauthAccessToken)}catch(n){return null}}}Mg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mg.PROVIDER_ID="facebook.com";class Ag extends Ng{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cg._fromParams({providerId:Ag.PROVIDER_ID,signInMethod:Ag.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ag.credentialFromTaggedObject(e)}static credentialFromError(e){return Ag.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ag.credential(n,r)}catch(i){return null}}}Ag.GOOGLE_SIGN_IN_METHOD="google.com",Ag.PROVIDER_ID="google.com";class Pg extends Ng{constructor(){super("github.com")}static credential(e){return Cg._fromParams({providerId:Pg.PROVIDER_ID,signInMethod:Pg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pg.credentialFromTaggedObject(e)}static credentialFromError(e){return Pg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pg.credential(t.oauthAccessToken)}catch(n){return null}}}Pg.GITHUB_SIGN_IN_METHOD="github.com",Pg.PROVIDER_ID="github.com";class Rg extends Ng{constructor(){super("twitter.com")}static credential(e,t){return Cg._fromParams({providerId:Rg.PROVIDER_ID,signInMethod:Rg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rg.credentialFromTaggedObject(e)}static credentialFromError(e){return Rg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Rg.credential(n,r)}catch(i){return null}}}Rg.TWITTER_SIGN_IN_METHOD="twitter.com",Rg.PROVIDER_ID="twitter.com";class jg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Bm._fromIdTokenResponse(e,n,r),o=Ug(n);return new jg({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ug(n);return new jg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ug(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Fg extends qe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Fg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Fg(e,t,n,r)}}function zg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fg._fromErrorAndOperation(e,n,t,r);throw n}))}async function Vg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Rm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jg._forOperation(e,"link",r)}async function Bg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await Rm(e,zg(r,i,t,e),n);um(o.idToken,r,"internal-error");const s=Pm(o.idToken);um(s,r,"internal-error");const{sub:a}=s;return um(e.uid===a,r,"user-mismatch"),jg._forOperation(e,i,o)}catch(KP){throw(null===KP||void 0===KP?void 0:KP.code)==="auth/".concat("user-not-found")&&om(r,"user-mismatch"),KP}}async function Wg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await zg(e,r,t),o=await jg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const qg="__sak";class Hg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qg,"1"),this.storage.removeItem(qg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Yg extends Hg{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ve();return Zm(e)||rg(e)}()&&function(){try{return!(!window||window===window.top)}catch(KP){return!1}}(),this.fallbackToPolling=og(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ig()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yg.type="LOCAL";const Gg=Yg;class Kg extends Hg{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kg.type="SESSION";const Qg=Kg;class $g{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new $g(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}$g.receivers=[];class Xg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Zg("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Jg(){return window}function ev(){return"undefined"!==typeof Jg().WorkerGlobalScope&&"function"===typeof Jg().importScripts}const tv="firebaseLocalStorageDb",nv="firebaseLocalStorage",rv="fbase_key";class iv{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ov(e,t){return e.transaction([nv],t?"readwrite":"readonly").objectStore(nv)}function sv(){const e=indexedDB.open(tv,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(nv,{keyPath:rv})}catch(KP){n(KP)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(nv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(tv);return new iv(e).toPromise()}(),t(await sv()))}))}))}async function av(e,t,n){const r=ov(e,!0).put({[rv]:t,value:n});return new iv(r).toPromise()}function lv(e,t){const n=ov(e,!0).delete(t);return new iv(n).toPromise()}class cv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await sv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(KP){if(t++>3)throw KP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ev()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$g._getInstance(ev()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Xg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sv();return await av(e,qg,"1"),await lv(e,qg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>av(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ov(e,!1).get(t),r=await new iv(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>lv(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ov(e,!1).getAll();return new iv(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}cv.type="LOCAL";const uv=cv;pg("rcb"),new vm(3e4,6e4);const dv="recaptcha";async function hv(e,t,n){var r;const i=await n.verify();try{let o;if(um("string"===typeof i,e,"argument-error"),um(n.type===dv,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){um("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Sm(e,"POST","/v2/accounts/mfaEnrollment:start",Em(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{um("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;um(n,e,"missing-multi-factor-info");const s=await function(e,t){return Sm(e,"POST","/v2/accounts/mfaSignIn:start",Em(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Sm(e,"POST","/v1/accounts:sendVerificationCode",Em(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class fv{constructor(e){this.providerId=fv.PROVIDER_ID,this.auth=ug(e)}verifyPhoneNumber(e,t){return hv(this.auth,e,et(t))}static credential(e,t){return Dg._fromVerification(e,t)}static credentialFromResult(e){const t=e;return fv.credentialFromTaggedObject(t)}static credentialFromError(e){return fv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Dg._fromTokenResponse(n,r):null}}function pv(e,t){return t?qm(t):(um(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fv.PROVIDER_ID="phone",fv.PHONE_SIGN_IN_METHOD="phone";class mv extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gv(e){return Wg(e.auth,new mv(e),e.bypassAuthState)}function vv(e){const{auth:t,user:n}=e;return um(n,t,"internal-error"),Bg(n,new mv(e),e.bypassAuthState)}async function yv(e){const{auth:t,user:n}=e;return um(n,t,"internal-error"),Vg(n,new mv(e),e.bypassAuthState)}class bv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(KP){this.reject(KP)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(KP){this.reject(KP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gv;case"linkViaPopup":case"linkViaRedirect":return yv;case"reauthViaPopup":case"reauthViaRedirect":return vv;default:om(this.auth,"internal-error")}}resolve(e){hm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wv=new vm(2e3,1e4);async function _v(e,t,n){const r=ug(e);lm(e,t,Og);const i=pv(r,n);return new Ev(r,"signInViaPopup",t,i).executeNotNull()}class Ev extends bv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ev.currentPopupAction&&Ev.currentPopupAction.cancel(),Ev.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return um(e,this.auth,"internal-error"),e}async onExecution(){hm(1===this.filter.length,"Popup operations only handle one event");const e=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(sm(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(sm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ev.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(sm(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,wv.get())};e()}}Ev.currentPopupAction=null;const Sv="pendingRedirect",xv=new Map;class kv extends bv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=xv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Dv(t),r=Tv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(KP){e=()=>Promise.reject(KP)}xv.set(this.auth._key(),e)}return this.bypassAuthState||xv.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Cv(e,t){xv.set(e._key(),t)}function Tv(e){return qm(e._redirectPersistence)}function Dv(e){return Gm(Sv,e.config.apiKey,e.name)}async function Lv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ug(e),i=pv(r,t),o=new kv(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Iv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Nv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(e))}saveEventToCache(e){this.cachedEventUids.add(Ov(e)),this.lastProcessedEventTime=Date.now()}}function Ov(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Nv(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Mv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Av=/^https?/;async function Pv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Sm(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Rv(r))return}catch(n){}om(e,"unauthorized-domain")}function Rv(e){const t=fm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Av.test(n))return!1;if(Mv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const jv=new vm(3e4,6e4);function Uv(){const e=Jg().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Fv(e){return new Promise(((t,n)=>{var r,i,o;function s(){Uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uv(),n(sm(e,"network-request-failed"))},timeout:jv.get()})}if(null===(i=null===(r=Jg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Jg().gapi)||void 0===o?void 0:o.load)){const t=pg("iframefcb");return Jg()[t]=()=>{gapi.load?s():n(sm(e,"network-request-failed"))},fg("".concat(hg.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw zv=null,e}))}let zv=null;const Vv=new vm(5e3,15e3),Bv="__/auth/iframe",Wv="emulator/auth/iframe",qv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yv(e){const t=e.config;um(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ym(t,Wv):"https://".concat(e.config.authDomain,"/").concat(Bv),r={apiKey:t.apiKey,appName:e.name,v:Bt},i=Hv.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Qe(r).slice(1))}async function Gv(e){const t=await function(e){return zv=zv||Fv(e),zv}(e),n=Jg().gapi;return um(n,e,"internal-error"),t.open({where:document.body,url:Yv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qv,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=sm(e,"network-request-failed"),o=Jg().setTimeout((()=>{r(i)}),Vv.get());function s(){Jg().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Kv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(KP){}}}function $v(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Kv),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ve().toLowerCase();n&&(a=Xm(c)?"_blank":n),$m(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return rg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Qv(null);const d=window.open(t||"",a,u);um(d,e,"popup-blocked");try{d.focus()}catch(KP){}return new Qv(d)}const Zv="__/auth/handler",Xv="emulator/auth/handler",Jv=encodeURIComponent("fac");async function ey(e,t,n,r,i,o){um(e.config.authDomain,e,"auth-domain-config-required"),um(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bt,eventId:i};if(t instanceof Og){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Ng){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Jv,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Zv);return ym(t,Xv)}(e),"?").concat(Qe(a).slice(1)).concat(c)}const ty="webStorageSupport";const ny=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qg,this._completeRedirectFn=Lv,this._overrideRedirectResult=Cv}async _openPopup(e,t,n,r){var i;hm(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return $v(e,await ey(e,t,n,fm(),r),Zg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Jg().location.href=e}(await ey(e,t,n,fm(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(hm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Gv(e),n=new Iv(e);return t.register("authEvent",(t=>{um(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ty,{type:ty},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ty];void 0!==i&&t(!!i),om(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return og()||Zm()||rg()}};var ry="@firebase/auth",iy="1.6.0";class oy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){um(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sy=Ue("authIdTokenMaxAge")||300;let ay=null;function ly(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt();const t=Ft(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ft(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ge(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;om(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ny,persistence:[uv,Gg,Qg]}),r=Ue("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>sy)return;const r=null===t||void 0===t?void 0:t.token;ay!==r&&(ay=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){et(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){et(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=Pe("auth");return o&&yg(n,"http://".concat(o)),n}var cy;!function(e){hg=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=sm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),cy="Browser",Ut(new tt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;um(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:cy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sg(cy)},c=new cg(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qm);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ut(new tt("auth-internal",(e=>(e=>new oy(e))(ug(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(ry,iy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(cy)),Ht(ry,iy,"esm2017");const uy="firebasestorage.googleapis.com",dy="storageBucket";class hy extends qe{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(my(e),"Firebase Storage: ".concat(t," (").concat(my(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return my(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var fy,py;function my(e){return"storage/"+e}function gy(){return new hy(fy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vy(){return new hy(fy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yy(){return new hy(fy.CANCELED,"User canceled the upload/download.")}function by(){return new hy(fy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wy(e){return new hy(fy.INVALID_ARGUMENT,e)}function _y(){return new hy(fy.APP_DELETED,"The Firebase app was deleted.")}function Ey(e,t){return new hy(fy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Sy(e){throw new hy(fy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(fy||(fy={}));class xy{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=xy.makeFromUrl(e,t)}catch(KP){return new xy(e,"")}if(""===n.path)return n;throw r=e,new hy(fy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===uy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new xy(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new hy(fy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class ky{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Cy(e){return"string"===typeof e||e instanceof String}function Ty(e){return Dy()&&e instanceof Blob}function Dy(){return"undefined"!==typeof Blob}function Ly(e,t,n,r){if(r<t)throw wy("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw wy("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Iy(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Oy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ny(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(py||(py={}));class My{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Ay(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===py.NO_ERROR,i=n.getStatus();if(!t||Ny(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===py.ABORT;return void e(!1,new Ay(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Ay(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(KP){r(KP)}else if(null!==i){const e=gy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?_y():yy())}else{r(vy())}};this.canceled_?t(0,new Ay(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ay{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Py(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ry(){const e=Py();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Dy())return new Blob(n);throw new hy(fy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function jy(e){if("undefined"===typeof atob)throw t="base-64",new hy(fy.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Uy={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fy{constructor(e,t){this.data=e,this.contentType=t||null}}function zy(e,t){switch(e){case Uy.RAW:return new Fy(Vy(t));case Uy.BASE64:case Uy.BASE64URL:return new Fy(By(e,t));case Uy.DATA_URL:return new Fy(function(e){const t=new Wy(e);return t.base64?By(Uy.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(KP){throw Ey(Uy.DATA_URL,"Malformed data URL.")}return Vy(t)}(t.rest)}(t),new Wy(t).contentType)}throw gy()}function Vy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function By(e,t){switch(e){case Uy.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ey(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Uy.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ey(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jy(t)}catch(KP){if(KP.message.includes("polyfill"))throw KP;throw Ey(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Wy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ey(Uy.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class qy{constructor(e,t){let n=0,r="";Ty(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ty(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new qy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new qy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Dy()){const e=t.map((e=>e instanceof qy?e.data_:e));return new qy(Ry.apply(null,e))}{const e=t.map((e=>Cy(e)?zy(Uy.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new qy(r,!0)}}uploadData(){return this.data_}}function Hy(e){let t;try{t=JSON.parse(e)}catch(KP){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Yy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Gy(e,t){return t}class Ky{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Gy}}let Qy=null;function $y(){if(Qy)return Qy;const e=[];e.push(new Ky("bucket")),e.push(new Ky("generation")),e.push(new Ky("metageneration")),e.push(new Ky("name","fullPath",!0));const t=new Ky("name");t.xform=function(e,t){return function(e){return!Cy(e)||e.length<2?e:Yy(e)}(t)},e.push(t);const n=new Ky("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ky("timeCreated")),e.push(new Ky("updated")),e.push(new Ky("md5Hash",null,!0)),e.push(new Ky("cacheControl",null,!0)),e.push(new Ky("contentDisposition",null,!0)),e.push(new Ky("contentEncoding",null,!0)),e.push(new Ky("contentLanguage",null,!0)),e.push(new Ky("contentType",null,!0)),e.push(new Ky("metadata","customMetadata",!0)),Qy=e,Qy}function Zy(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new xy(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Xy(e,t,n){const r=Hy(t);if(null===r)return null;return Zy(e,r,n)}function Jy(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class eb{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tb(e){if(!e)throw gy()}function nb(e,t){return function(n,r){const i=Xy(e,r,t);return tb(null!==i),i}}function rb(e,t){return function(n,r){const i=Xy(e,r,t);return tb(null!==i),function(e,t,n,r){const i=Hy(t);if(null===i)return null;if(!Cy(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Iy("/b/"+s(i)+"/o/"+s(o),n,r)+Oy({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ib(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new hy(fy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new hy(fy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new hy(fy.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new hy(fy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ob(e){const t=ib(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new hy(fy.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function sb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ab(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=sb(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Jy(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=qy.getBlob(c,r,u);if(null===d)throw by();const h={name:l.fullPath},f=Iy(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new eb(f,"POST",nb(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=ib(t),m}let lb=null;class cb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=py.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=py.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=py.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Sy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(KP){return-1}}getResponse(){if(!this.sent_)throw Sy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ub extends cb{initXhr(){this.xhr_.responseType="text"}}function db(){return lb?lb():new ub}class hb{constructor(e,t){this._service=e,this._location=t instanceof xy?t:xy.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hb(e,t)}get root(){const e=new xy(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new xy(this._location.bucket,e);return new hb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new hy(fy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function fb(e,t,n){e._throwIfRoot("uploadBytes");const r=ab(e.storage,e._location,$y(),new qy(t,!0),n);return e.storage.makeRequestWithTokens(r,db).then((t=>({metadata:t,ref:e})))}function pb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Iy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new eb(r,"GET",rb(e,n),i);return o.errorHandler=ob(t),o}(e.storage,e._location,$y());return e.storage.makeRequestWithTokens(t,db).then((e=>{if(null===e)throw new hy(fy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function mb(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Iy(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new eb(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ob(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,db)}function gb(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new xy(e._location.bucket,n);return new hb(e.storage,r)}function vb(e,t){if(e instanceof wb){const n=e;if(null==n._bucket)throw new hy(fy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dy+"' property when initializing the app?");const r=new hb(n,n._bucket);return null!=t?vb(r,t):r}return void 0!==t?gb(e,t):e}function yb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof wb)return new hb(e,t);throw wy("To use ref(service, url), the first argument must be a Storage instance.")}return vb(e,t)}function bb(e,t){const n=null===t||void 0===t?void 0:t[dy];return null==n?null:xy.makeFromBucketSpec(n,e)}class wb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=uy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?xy.makeFromBucketSpec(r,this._host):bb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=xy.makeFromBucketSpec(this._url,e):this._bucket=bb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ly("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ly("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hb(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ky(_y());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Oy(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new My(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const _b="@firebase/storage",Eb="0.12.1",Sb="storage";function xb(e,t,n){return fb(e=et(e),t,n)}function kb(e){return pb(e=et(e))}function Cb(e,t){return yb(e=et(e),t)}function Tb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new wb(r,i,o,n,Bt)}Ut(new tt(Sb,Tb,"PUBLIC").setMultipleInstances(!0)),Ht(_b,Eb,""),Ht(_b,Eb,"esm2017");const Db=Wt({apiKey:"AIzaSyDfNCiZBEE0pxF-7O8Tb7U7HWSPefje50Q",authDomain:"gigify-0000a.firebaseapp.com",projectId:"gigify-0000a",storageBucket:"gigify-0000a.appspot.com",messagingSenderId:"556828166349",appId:"1:556828166349:web:d6ea3f4843f41211c48184",measurementId:"G-5BD5JEBP77"}),Lb=ly(Db),Ib=Wf(Db),Ob=new Ag,Nb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt(),t=arguments.length>1?arguments[1]:void 0;e=et(e);const n=Ft(e,Sb).getImmediate({identifier:t}),r=Re("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:ze(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Db),Mb=()=>function(e){return et(e).signOut()}(Lb);var Ab=__webpack_require__(452);var Pb=__webpack_require__(496);const Rb=(0,n.createContext)(),jb=new Ag;jb.addScope("https://www.googleapis.com/auth/calendar");const Ub=e=>{let{children:t}=e;const[r,i]=(0,n.useState)(null),[o,s]=(0,n.useState)(null);(0,n.useEffect)((()=>{((e,t,n)=>new Promise(((r,i)=>{e.load("client:auth2",{callback:()=>{e.client.init({apiKey:n,clientId:t,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar"}).then((()=>{r(e.auth2.getAuthInstance())})).catch((e=>{i(e)}))},onerror:()=>{i(new Error("gapi.client failed to load!"))},timeout:5e3,ontimeout:()=>{i(new Error("gapi.client could not load in a timely manner!"))}})})))(Ab.r,"556828166349-jjodibfl9b6g3djt6r0hq93go56qjprr.apps.googleusercontent.com","AIzaSyDfNCiZBEE0pxF-7O8Tb7U7HWSPefje50Q").then((e=>{s(e),e.isSignedIn.get()})).catch((e=>console.error("Error loading Google Auth2",e)));const e=function(e,t,n,r){return et(e).onAuthStateChanged(t,n,r)}(Lb,(e=>{e?(sessionStorage.setItem("userUID",e.uid),i(e)):(sessionStorage.removeItem("userUID"),i(null))}));return e}),[]);return(0,Pb.jsx)(Rb.Provider,{value:{currentUser:r,signInWithGoogle:()=>{_v(Lb,jb).then((e=>{i(e.user),window.open("https://calendar.google.com/calendar/","_blank")})).catch((e=>{console.error("Error signing in with Google:",e)}))},signOut:()=>{Lb.signOut().then((()=>{i(null),o&&o.signOut()})).catch((e=>{console.error("Error signing out:",e)}))}},children:t})},Fb=()=>(0,n.useContext)(Rb),zb=__webpack_require__.p+"static/media/gigifylogo1.2a2acf8253c874beb4e4.png";const Vb=function(){const{currentUser:e}=Fb(),t=J();return(0,Pb.jsxs)("div",{className:"navbar",children:[(0,Pb.jsx)(ke,{to:"/home",children:(0,Pb.jsx)("img",{src:zb,alt:"Gigify Logo",className:"navbar-logo"})}),(0,Pb.jsx)("nav",{children:(0,Pb.jsxs)("ul",{children:[(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/home",children:"Home"})}),e&&(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/search",children:"Search"})}),e&&(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/events",children:"Events"})}),!e&&(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/login",children:"Register/Login"})}),e&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/feed",children:"Feed"})}),(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/user-profile/".concat(e.uid),children:"My Account"})}),(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/edit-profile/".concat(e.uid),children:"Edit Account"})})]}),e&&(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/myevents",children:"My Events"})}),(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/resources",children:"Resources"})}),(0,Pb.jsx)("li",{children:(0,Pb.jsx)(ke,{to:"/contact",children:"Contact"})}),(0,Pb.jsx)("li",{children:(0,Pb.jsx)("button",{onClick:async()=>{try{await Mb(),t("/home")}catch(e){console.error("Error logging out:",e)}},className:"logout-button",children:"Logout"})})]})})]})};const Bb=function(){const e=J();return(0,Pb.jsx)("div",{className:"container",children:(0,Pb.jsxs)("header",{children:[(0,Pb.jsx)("h2",{children:"Sign Up or Login Below!"}),(0,Pb.jsx)("p",{children:"To sign up please use your Google Account."}),(0,Pb.jsx)("button",{onClick:()=>{_v(Lb,Ob).then((async t=>{const n=t.user;Ab.r.load("client:auth2",(()=>{Ab.r.client.init({apiKey:"AIzaSyDfNCiZBEE0pxF-7O8Tb7U7HWSPefje50Q",clientId:"556828166349-jjodibfl9b6g3djt6r0hq93go56qjprr.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar"}).then((()=>{console.log("Google API client initialized for Calendar access.")}))}));const r=Ff(Ib,"users",n.uid);(await zp(r)).exists()?(console.log("User profile exists, navigating to user-profile."),e("/user-profile/".concat(n.uid))):(console.log("No user profile found, creating profile and navigating to register."),await function(e,t,n){e=Nf(e,Rf);const r=Nf(e.firestore,Bf),i=Ap(e.converter,t,n);return Gp(r,[rp(np(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rc.none())])}(r,{name:n.displayName,email:n.email,createdAt:new Date}),e("/register"))})).catch((e=>{console.error("Error signing in with Google:",e)}))},className:"button",children:"Sign in with Google"})]})})},Wb=e=>{var t,r;let{isOpen:i,onClose:o,event:s}=e;const a=J(),[l,c]=(0,n.useState)(null);(0,n.useEffect)((()=>{(async()=>{if(s&&s.uid)try{const e=Ff(Ib,"users",s.uid),t=await zp(e);t.exists()?c(t.data().username):console.log("No user document found!")}catch(e){console.error("Error fetching user details:",e)}})()}),[s]);return i&&s?(0,Pb.jsx)("div",{className:"modal-overlay",children:(0,Pb.jsxs)("div",{className:"email-modal-events-container",children:[(0,Pb.jsx)("div",{className:"email-modal-header",children:(0,Pb.jsx)("div",{className:"close-button",onClick:o,children:"X"})}),(0,Pb.jsx)("div",{className:"email-modal-content",children:(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("h2",{children:s.title}),(0,Pb.jsxs)("p",{children:["Start: ",null===(t=s.start)||void 0===t?void 0:t.toDate().toLocaleString()]}),(0,Pb.jsxs)("p",{children:["End: ",null===(r=s.end)||void 0===r?void 0:r.toDate().toLocaleString()]}),(0,Pb.jsxs)("p",{children:["Description: ",s.description]}),(0,Pb.jsxs)("p",{children:["Location: ",s.location]}),(0,Pb.jsxs)("p",{children:["Created by:"," ",(0,Pb.jsxs)(ke,{to:"/user/".concat(s.uid),children:["Go to ",s.username,"'s profile"]})]}),(0,Pb.jsx)("a",{href:(()=>{if(!s||!s.location)return"#";const{lat:e,lng:t}=s.location;return"https://www.google.com/maps/dir/?api=1&destination=".concat(e,",").concat(t)})(),target:"_blank",rel:"noopener noreferrer",children:"Get Directions \ud83d\udccd"}),(0,Pb.jsx)("div",{style:{marginTop:"20px"},children:(0,Pb.jsx)("button",{onClick:()=>{a("/events#".concat(s.id))},className:"button",children:"See Event"})})]})})]})}):null};var qb=function(e,t){return qb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},qb(e,t)};function Hb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}qb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yb=function(){return Yb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yb.apply(this,arguments)};function Gb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Kb(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(KP){o(KP)}}function a(e){try{l(r.throw(e))}catch(KP){o(KP)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function Qb(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(KP){o=[6,KP],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function $b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zb=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}},Xb=$b(Zb),Jb=(0,n.createContext)(null);function ew(e,t,n,r){var i,o,s={};return i=e,o=function(e,i){var o=n[i];o!==t[i]&&(s[i]=o,e(r,o))},Object.keys(i).forEach((function(e){return o(i[e],e)})),s}function tw(e,t,n){var r,i,o,s=(r=n,i=function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n},o=[],Object.keys(r).reduce((function(e,t){return i(e,r[t],t)}),o));return s}function nw(e){google.maps.event.removeListener(e)}function rw(e){void 0===e&&(e=[]),e.forEach(nw)}function iw(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,i=e.nextProps,o=e.instance,s=tw(i,o,n);return ew(t,r,i,o),s}var ow={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},sw={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,n.memo)((function(e){var t=e.children,r=e.options,i=e.id,o=e.mapContainerStyle,s=e.mapContainerClassName,a=e.center,l=e.onClick,c=e.onDblClick,u=e.onDrag,d=e.onDragEnd,h=e.onDragStart,f=e.onMouseMove,p=e.onMouseOut,m=e.onMouseOver,g=e.onMouseDown,v=e.onMouseUp,y=e.onRightClick,b=e.onCenterChanged,w=e.onLoad,_=e.onUnmount,E=(0,n.useState)(null),S=E[0],x=E[1],k=(0,n.useRef)(null),C=(0,n.useState)(null),T=C[0],D=C[1],L=(0,n.useState)(null),I=L[0],O=L[1],N=(0,n.useState)(null),M=N[0],A=N[1],P=(0,n.useState)(null),R=P[0],j=P[1],U=(0,n.useState)(null),F=U[0],z=U[1],V=(0,n.useState)(null),B=V[0],W=V[1],q=(0,n.useState)(null),H=q[0],Y=q[1],G=(0,n.useState)(null),K=G[0],Q=G[1],$=(0,n.useState)(null),Z=$[0],X=$[1],J=(0,n.useState)(null),ee=J[0],te=J[1],ne=(0,n.useState)(null),re=ne[0],ie=ne[1],oe=(0,n.useState)(null),se=oe[0],ae=oe[1];return(0,n.useEffect)((function(){r&&null!==S&&S.setOptions(r)}),[S,r]),(0,n.useEffect)((function(){null!==S&&"undefined"!==typeof a&&S.setCenter(a)}),[S,a]),(0,n.useEffect)((function(){S&&c&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(S,"dblclick",c)))}),[c]),(0,n.useEffect)((function(){S&&d&&(null!==M&&google.maps.event.removeListener(M),A(google.maps.event.addListener(S,"dragend",d)))}),[d]),(0,n.useEffect)((function(){S&&h&&(null!==R&&google.maps.event.removeListener(R),j(google.maps.event.addListener(S,"dragstart",h)))}),[h]),(0,n.useEffect)((function(){S&&g&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(S,"mousedown",g)))}),[g]),(0,n.useEffect)((function(){S&&f&&(null!==B&&google.maps.event.removeListener(B),W(google.maps.event.addListener(S,"mousemove",f)))}),[f]),(0,n.useEffect)((function(){S&&p&&(null!==H&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(S,"mouseout",p)))}),[p]),(0,n.useEffect)((function(){S&&m&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(S,"mouseover",m)))}),[m]),(0,n.useEffect)((function(){S&&v&&(null!==Z&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(S,"mouseup",v)))}),[v]),(0,n.useEffect)((function(){S&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(S,"rightclick",y)))}),[y]),(0,n.useEffect)((function(){S&&l&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(S,"click",l)))}),[l]),(0,n.useEffect)((function(){S&&u&&(null!==se&&google.maps.event.removeListener(se),ae(google.maps.event.addListener(S,"drag",u)))}),[u]),(0,n.useEffect)((function(){S&&b&&(null!==T&&google.maps.event.removeListener(T),D(google.maps.event.addListener(S,"center_changed",b)))}),[l]),(0,n.useEffect)((function(){var e=null===k.current?null:new google.maps.Map(k.current,r);return x(e),null!==e&&w&&w(e),function(){null!==e&&_&&_(e)}}),[]),(0,Pb.jsx)("div",{id:i,ref:k,style:o,className:s,children:(0,Pb.jsx)(Jb.Provider,{value:S,children:null!==S?t:null})})}));var aw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return Hb(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=iw({updaterMap:sw,eventMap:ow,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:sw,eventMap:ow,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),rw(this.registeredEvents))},t.prototype.render=function(){return(0,Pb.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,Pb.jsx)(Jb.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})},t}(n.PureComponent),lw="undefined"!==typeof document;function cw(e){var t=e.url,n=e.id,r=e.nonce;return lw?new Promise((function(e,i){var o=document.getElementById(n),s=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var l=s.initMap,c=o.onerror;return s.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){c&&c(e),i(e)})}o.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),i(e)},s.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function uw(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function dw(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return uw(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return uw(t)||Reflect.apply(n,e,[t]),t}}}function hw(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,i=void 0===r?"weekly":r,o=e.language,s=e.region,a=e.libraries,l=e.channel,c=e.mapIds,u=e.authReferrerPolicy,d=[];return Xb(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?d.push("key=".concat(t)):n&&d.push("client=".concat(n)),i&&d.push("v=".concat(i)),o&&d.push("language=".concat(o)),s&&d.push("region=".concat(s)),a&&a.length&&d.push("libraries=".concat(a.sort().join(","))),l&&d.push("channel=".concat(l)),c&&c.length&&d.push("map_ids=".concat(c.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var fw=!1;function pw(){return(0,Pb.jsx)("div",{children:"Loading..."})}var mw,gw={id:"script-loader",version:"weekly"},vw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=(0,n.createRef)(),t.state={loaded:!1},t.cleanupCallback=function(){delete window.google.maps,t.injectScript()},t.isCleaningUp=function(){return Kb(t,void 0,void 0,(function(){function e(e){if(fw){if(lw)var t=window.setInterval((function(){fw||(window.clearInterval(t),e())}),1)}else e()}return Qb(this,(function(t){return[2,new Promise(e)]}))}))},t.cleanup=function(){fw=!0;var e=document.getElementById(t.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},t.injectScript=function(){t.props.preventGoogleFontsLoading&&dw(),Xb(!!t.props.id,'LoadScript requires "id" prop to be a string: %s',t.props.id),cw({id:t.props.id,nonce:t.props.nonce,url:hw(t.props)}).then((function(){t.props.onLoad&&t.props.onLoad(),t.setState((function(){return{loaded:!0}}))})).catch((function(e){t.props.onError&&t.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(t.props.googleMapsApiKey||"-",") or Client ID (").concat(t.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},t}return Hb(t,e),t.prototype.componentDidMount=function(){if(lw){if(window.google&&window.google.maps&&!fw)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},t.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),lw&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},t.prototype.componentWillUnmount=function(){var e=this;if(lw){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,fw=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},t.prototype.render=function(){return(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,Pb.jsx)(pw,{})]})},t.defaultProps=gw,t}(n.PureComponent);var yw=(0,Pb.jsx)(pw,{});(0,n.memo)((function(e){var t=e.loadingElement,r=e.onLoad,i=e.onError,o=e.onUnmount,s=e.children,a=function(e){var t=e.id,r=void 0===t?gw.id:t,i=e.version,o=void 0===i?gw.version:i,s=e.nonce,a=e.googleMapsApiKey,l=e.googleMapsClientId,c=e.language,u=e.region,d=e.libraries,h=e.preventGoogleFontsLoading,f=e.channel,p=e.mapIds,m=e.authReferrerPolicy,g=(0,n.useRef)(!1),v=(0,n.useState)(!1),y=v[0],b=v[1],w=(0,n.useState)(void 0),_=w[0],E=w[1];(0,n.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]),(0,n.useEffect)((function(){lw&&h&&dw()}),[h]),(0,n.useEffect)((function(){y&&Xb(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[y]);var S=hw({version:o,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:u,libraries:d,channel:f,mapIds:p,authReferrerPolicy:m});(0,n.useEffect)((function(){function e(){g.current&&(b(!0),mw=S)}lw&&(window.google&&window.google.maps&&mw===S?e():cw({id:r,url:S,nonce:s}).then(e).catch((function(e){g.current&&E(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(a||"-",") or Client ID (").concat(l||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[r,S,s]);var x=(0,n.useRef)();return(0,n.useEffect)((function(){x.current&&d!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=d}),[d]),{isLoaded:y,loadError:_,url:S}}(Gb(e,["loadingElement","onLoad","onError","onUnmount","children"])),l=a.isLoaded,c=a.loadError;return(0,n.useEffect)((function(){l&&"function"===typeof r&&r()}),[l,r]),(0,n.useEffect)((function(){c&&"function"===typeof i&&i(c)}),[c,i]),(0,n.useEffect)((function(){return function(){o&&o()}}),[o]),l?s:t||yw}));var bw;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(bw||(bw={}));var ww={},_w={options:function(e,t){e.setOptions(t)}};(0,n.memo)((function(e){var t=e.options,r=e.onLoad,i=e.onUnmount,o=(0,n.useContext)(Jb),s=(0,n.useState)(null),a=s[0],l=s[1];return(0,n.useEffect)((function(){null!==a&&a.setMap(o)}),[o]),(0,n.useEffect)((function(){t&&null!==a&&a.setOptions(t)}),[a,t]),(0,n.useEffect)((function(){var e=new google.maps.TrafficLayer(Yb(Yb({},t||{}),{map:o}));return l(e),r&&r(e),function(){null!==a&&(i&&i(a),a.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(Yb(Yb({},this.props.options||{}),{map:this.context}));this.registeredEvents=iw({updaterMap:_w,eventMap:ww,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:_w,eventMap:ww,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),rw(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);(0,n.memo)((function(e){var t=e.onLoad,r=e.onUnmount,i=(0,n.useContext)(Jb),o=(0,n.useState)(null),s=o[0],a=o[1];return(0,n.useEffect)((function(){null!==s&&s.setMap(i)}),[i]),(0,n.useEffect)((function(){var e=new google.maps.BicyclingLayer;return a(e),e.setMap(i),t&&t(e),function(){null!==e&&(r&&r(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);(0,n.memo)((function(e){var t=e.onLoad,r=e.onUnmount,i=(0,n.useContext)(Jb),o=(0,n.useState)(null),s=o[0],a=o[1];return(0,n.useEffect)((function(){null!==s&&s.setMap(i)}),[i]),(0,n.useEffect)((function(){var e=new google.maps.TransitLayer;return a(e),e.setMap(i),t&&t(e),function(){null!==s&&(r&&r(s),s.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var Ew={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Sw={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,n.memo)((function(e){var t=e.options,r=e.drawingMode,i=e.onCircleComplete,o=e.onMarkerComplete,s=e.onOverlayComplete,a=e.onPolygonComplete,l=e.onPolylineComplete,c=e.onRectangleComplete,u=e.onLoad,d=e.onUnmount,h=(0,n.useContext)(Jb),f=(0,n.useState)(null),p=f[0],m=f[1],g=(0,n.useState)(null),v=g[0],y=g[1],b=(0,n.useState)(null),w=b[0],_=b[1],E=(0,n.useState)(null),S=E[0],x=E[1],k=(0,n.useState)(null),C=k[0],T=k[1],D=(0,n.useState)(null),L=D[0],I=D[1],O=(0,n.useState)(null),N=O[0],M=O[1];return(0,n.useEffect)((function(){null!==p&&p.setMap(h)}),[h]),(0,n.useEffect)((function(){t&&null!==p&&p.setOptions(t)}),[p,t]),(0,n.useEffect)((function(){null!==p&&p.setDrawingMode(null!==r&&void 0!==r?r:null)}),[p,r]),(0,n.useEffect)((function(){p&&i&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"circlecomplete",i)))}),[p,i]),(0,n.useEffect)((function(){p&&o&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(p,"markercomplete",o)))}),[p,o]),(0,n.useEffect)((function(){p&&s&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(p,"overlaycomplete",s)))}),[p,s]),(0,n.useEffect)((function(){p&&a&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(p,"polygoncomplete",a)))}),[p,a]),(0,n.useEffect)((function(){p&&l&&(null!==L&&google.maps.event.removeListener(L),I(google.maps.event.addListener(p,"polylinecomplete",l)))}),[p,l]),(0,n.useEffect)((function(){p&&c&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(p,"rectanglecomplete",c)))}),[p,c]),(0,n.useEffect)((function(){Xb(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(Yb(Yb({},t||{}),{map:h}));return r&&e.setDrawingMode(r),i&&y(google.maps.event.addListener(e,"circlecomplete",i)),o&&_(google.maps.event.addListener(e,"markercomplete",o)),s&&x(google.maps.event.addListener(e,"overlaycomplete",s)),a&&T(google.maps.event.addListener(e,"polygoncomplete",a)),l&&I(google.maps.event.addListener(e,"polylinecomplete",l)),c&&M(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),u&&u(e),function(){null!==p&&(v&&google.maps.event.removeListener(v),w&&google.maps.event.removeListener(w),S&&google.maps.event.removeListener(S),C&&google.maps.event.removeListener(C),L&&google.maps.event.removeListener(L),N&&google.maps.event.removeListener(N),d&&d(p),p.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},Xb(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(Yb(Yb({},this.props.options||{}),{map:this.context}));this.registeredEvents=iw({updaterMap:Sw,eventMap:Ew,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:Sw,eventMap:Ew,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),rw(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var xw={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},kw={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},Cw={};(0,n.memo)((function(e){var t=e.position,r=e.options,i=e.clusterer,o=e.noClustererRedraw,s=e.children,a=e.draggable,l=e.visible,c=e.animation,u=e.clickable,d=e.cursor,h=e.icon,f=e.label,p=e.opacity,m=e.shape,g=e.title,v=e.zIndex,y=e.onClick,b=e.onDblClick,w=e.onDrag,_=e.onDragEnd,E=e.onDragStart,S=e.onMouseOut,x=e.onMouseOver,k=e.onMouseUp,C=e.onMouseDown,T=e.onRightClick,D=e.onClickableChanged,L=e.onCursorChanged,I=e.onAnimationChanged,O=e.onDraggableChanged,N=e.onFlatChanged,M=e.onIconChanged,A=e.onPositionChanged,P=e.onShapeChanged,R=e.onTitleChanged,j=e.onVisibleChanged,U=e.onZindexChanged,F=e.onLoad,z=e.onUnmount,V=(0,n.useContext)(Jb),B=(0,n.useState)(null),W=B[0],q=B[1],H=(0,n.useState)(null),Y=H[0],G=H[1],K=(0,n.useState)(null),Q=K[0],$=K[1],Z=(0,n.useState)(null),X=Z[0],J=Z[1],ee=(0,n.useState)(null),te=ee[0],ne=ee[1],re=(0,n.useState)(null),ie=re[0],oe=re[1],se=(0,n.useState)(null),ae=se[0],le=se[1],ce=(0,n.useState)(null),ue=ce[0],de=ce[1],he=(0,n.useState)(null),fe=he[0],pe=he[1],me=(0,n.useState)(null),ge=me[0],ve=me[1],ye=(0,n.useState)(null),be=ye[0],we=ye[1],_e=(0,n.useState)(null),Ee=_e[0],Se=_e[1],xe=(0,n.useState)(null),ke=xe[0],Ce=xe[1],Te=(0,n.useState)(null),De=Te[0],Le=Te[1],Ie=(0,n.useState)(null),Oe=Ie[0],Ne=Ie[1],Me=(0,n.useState)(null),Ae=Me[0],Pe=Me[1],Re=(0,n.useState)(null),je=Re[0],Ue=Re[1],Fe=(0,n.useState)(null),ze=Fe[0],Ve=Fe[1],Be=(0,n.useState)(null),We=Be[0],qe=Be[1],He=(0,n.useState)(null),Ye=He[0],Ge=He[1],Ke=(0,n.useState)(null),Qe=Ke[0],$e=Ke[1],Ze=(0,n.useState)(null),Xe=Ze[0],Je=Ze[1];(0,n.useEffect)((function(){null!==W&&W.setMap(V)}),[V]),(0,n.useEffect)((function(){"undefined"!==typeof r&&null!==W&&W.setOptions(r)}),[W,r]),(0,n.useEffect)((function(){"undefined"!==typeof a&&null!==W&&W.setDraggable(a)}),[W,a]),(0,n.useEffect)((function(){t&&null!==W&&W.setPosition(t)}),[W,t]),(0,n.useEffect)((function(){"undefined"!==typeof l&&null!==W&&W.setVisible(l)}),[W,l]),(0,n.useEffect)((function(){null===W||void 0===W||W.setAnimation(c)}),[W,c]),(0,n.useEffect)((function(){W&&void 0!==u&&W.setClickable(u)}),[W,u]),(0,n.useEffect)((function(){W&&void 0!==d&&W.setCursor(d)}),[W,d]),(0,n.useEffect)((function(){W&&void 0!==h&&W.setIcon(h)}),[W,h]),(0,n.useEffect)((function(){W&&void 0!==f&&W.setLabel(f)}),[W,f]),(0,n.useEffect)((function(){W&&void 0!==p&&W.setOpacity(p)}),[W,p]),(0,n.useEffect)((function(){W&&void 0!==m&&W.setShape(m)}),[W,m]),(0,n.useEffect)((function(){W&&void 0!==g&&W.setTitle(g)}),[W,g]),(0,n.useEffect)((function(){W&&void 0!==v&&W.setZIndex(v)}),[W,v]),(0,n.useEffect)((function(){W&&b&&(null!==Y&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(W,"dblclick",b)))}),[b]),(0,n.useEffect)((function(){W&&_&&(null!==Q&&google.maps.event.removeListener(Q),$(google.maps.event.addListener(W,"dragend",_)))}),[_]),(0,n.useEffect)((function(){W&&E&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(W,"dragstart",E)))}),[E]),(0,n.useEffect)((function(){W&&C&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(W,"mousedown",C)))}),[C]),(0,n.useEffect)((function(){W&&S&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(W,"mouseout",S)))}),[S]),(0,n.useEffect)((function(){W&&x&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(W,"mouseover",x)))}),[x]),(0,n.useEffect)((function(){W&&k&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(W,"mouseup",k)))}),[k]),(0,n.useEffect)((function(){W&&T&&(null!==fe&&google.maps.event.removeListener(fe),pe(google.maps.event.addListener(W,"rightclick",T)))}),[T]),(0,n.useEffect)((function(){W&&y&&(null!==ge&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(W,"click",y)))}),[y]),(0,n.useEffect)((function(){W&&w&&(null!==be&&google.maps.event.removeListener(be),we(google.maps.event.addListener(W,"drag",w)))}),[w]),(0,n.useEffect)((function(){W&&D&&(null!==Ee&&google.maps.event.removeListener(Ee),Se(google.maps.event.addListener(W,"clickable_changed",D)))}),[D]),(0,n.useEffect)((function(){W&&L&&(null!==ke&&google.maps.event.removeListener(ke),Ce(google.maps.event.addListener(W,"cursor_changed",L)))}),[L]),(0,n.useEffect)((function(){W&&I&&(null!==De&&google.maps.event.removeListener(De),Le(google.maps.event.addListener(W,"animation_changed",I)))}),[I]),(0,n.useEffect)((function(){W&&O&&(null!==Oe&&google.maps.event.removeListener(Oe),Ne(google.maps.event.addListener(W,"draggable_changed",O)))}),[O]),(0,n.useEffect)((function(){W&&N&&(null!==Ae&&google.maps.event.removeListener(Ae),Pe(google.maps.event.addListener(W,"flat_changed",N)))}),[N]),(0,n.useEffect)((function(){W&&M&&(null!==je&&google.maps.event.removeListener(je),Ue(google.maps.event.addListener(W,"icon_changed",M)))}),[M]),(0,n.useEffect)((function(){W&&A&&(null!==ze&&google.maps.event.removeListener(ze),Ve(google.maps.event.addListener(W,"position_changed",A)))}),[A]),(0,n.useEffect)((function(){W&&P&&(null!==We&&google.maps.event.removeListener(We),qe(google.maps.event.addListener(W,"shape_changed",P)))}),[P]),(0,n.useEffect)((function(){W&&R&&(null!==Ye&&google.maps.event.removeListener(Ye),Ge(google.maps.event.addListener(W,"title_changed",R)))}),[R]),(0,n.useEffect)((function(){W&&j&&(null!==Qe&&google.maps.event.removeListener(Qe),$e(google.maps.event.addListener(W,"visible_changed",j)))}),[j]),(0,n.useEffect)((function(){W&&U&&(null!==Xe&&google.maps.event.removeListener(Xe),Je(google.maps.event.addListener(W,"zindex_changed",U)))}),[U]),(0,n.useEffect)((function(){var e=Yb(Yb(Yb({},r||Cw),i?Cw:{map:V}),{position:t}),n=new google.maps.Marker(e);return i?i.addMarker(n,!!o):n.setMap(V),t&&n.setPosition(t),"undefined"!==typeof l&&n.setVisible(l),"undefined"!==typeof a&&n.setDraggable(a),"undefined"!==typeof u&&n.setClickable(u),"string"===typeof d&&n.setCursor(d),h&&n.setIcon(h),"undefined"!==typeof f&&n.setLabel(f),"undefined"!==typeof p&&n.setOpacity(p),m&&n.setShape(m),"string"===typeof g&&n.setTitle(g),"number"===typeof v&&n.setZIndex(v),b&&G(google.maps.event.addListener(n,"dblclick",b)),_&&$(google.maps.event.addListener(n,"dragend",_)),E&&J(google.maps.event.addListener(n,"dragstart",E)),C&&ne(google.maps.event.addListener(n,"mousedown",C)),S&&oe(google.maps.event.addListener(n,"mouseout",S)),x&&le(google.maps.event.addListener(n,"mouseover",x)),k&&de(google.maps.event.addListener(n,"mouseup",k)),T&&pe(google.maps.event.addListener(n,"rightclick",T)),y&&ve(google.maps.event.addListener(n,"click",y)),w&&we(google.maps.event.addListener(n,"drag",w)),D&&Se(google.maps.event.addListener(n,"clickable_changed",D)),L&&Ce(google.maps.event.addListener(n,"cursor_changed",L)),I&&Le(google.maps.event.addListener(n,"animation_changed",I)),O&&Ne(google.maps.event.addListener(n,"draggable_changed",O)),N&&Pe(google.maps.event.addListener(n,"flat_changed",N)),M&&Ue(google.maps.event.addListener(n,"icon_changed",M)),A&&Ve(google.maps.event.addListener(n,"position_changed",A)),P&&qe(google.maps.event.addListener(n,"shape_changed",P)),R&&Ge(google.maps.event.addListener(n,"title_changed",R)),j&&$e(google.maps.event.addListener(n,"visible_changed",j)),U&&Je(google.maps.event.addListener(n,"zindex_changed",U)),q(n),F&&F(n),function(){null!==Y&&google.maps.event.removeListener(Y),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==ae&&google.maps.event.removeListener(ae),null!==ue&&google.maps.event.removeListener(ue),null!==fe&&google.maps.event.removeListener(fe),null!==ge&&google.maps.event.removeListener(ge),null!==Ee&&google.maps.event.removeListener(Ee),null!==ke&&google.maps.event.removeListener(ke),null!==De&&google.maps.event.removeListener(De),null!==Oe&&google.maps.event.removeListener(Oe),null!==Ae&&google.maps.event.removeListener(Ae),null!==je&&google.maps.event.removeListener(je),null!==ze&&google.maps.event.removeListener(ze),null!==Ye&&google.maps.event.removeListener(Ye),null!==Qe&&google.maps.event.removeListener(Qe),null!==Xe&&google.maps.event.removeListener(Xe),z&&z(n),i?i.removeMarker(n,!!o):n&&n.setMap(null)}}),[]);var et=(0,n.useMemo)((function(){return s?n.Children.map(s,(function(e){if(!(0,n.isValidElement)(e))return e;var t=e;return(0,n.cloneElement)(t,{anchor:W})})):null}),[s,W]);return(0,Pb.jsx)(Pb.Fragment,{children:et})||null}));var Tw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t}return Hb(t,e),t.prototype.componentDidMount=function(){var e=Yb(Yb(Yb({},this.props.options||Cw),this.props.clusterer?Cw:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=iw({updaterMap:kw,eventMap:xw,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},t.prototype.componentDidUpdate=function(e){this.marker&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:kw,eventMap:xw,prevProps:e,nextProps:this.props,instance:this.marker}))},t.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),rw(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},t.prototype.render=function(){var e=this,t=null;return this.props.children&&(t=n.Children.map(this.props.children,(function(t){if(!(0,n.isValidElement)(t))return t;var r=t;return(0,n.cloneElement)(r,{anchor:e.marker})}))),t||null},t.contextType=Jb,t}(n.PureComponent),Dw=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,o;if(this.div&&this.center){var s=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=s,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(h.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(h),this.div.title=s,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),Lw=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Dw(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),s=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof s&&s>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function Iw(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var Ow=[53,56,66,78,90],Nw=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||Ow,this.calculator=r.calculator||Iw,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var o=0,s=this.listeners;o<s.length;o++){var a=s[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var o=i[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var o=i[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,o=this.clusters;i<o.length;i++){var s=(t=o[i]).getCenter(),a=e.getPosition();if(s&&a){var l=this.distanceBetweenPoints(s,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new Lw(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize,this.markers.length),a=e;a<s;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(s<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(s)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),Mw={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Aw={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},Pw={};(0,n.memo)((function(e){var t=e.children,r=e.options,i=e.averageCenter,o=e.batchSizeIE,s=e.calculator,a=e.clusterClass,l=e.enableRetinaIcons,c=e.gridSize,u=e.ignoreHidden,d=e.imageExtension,h=e.imagePath,f=e.imageSizes,p=e.maxZoom,m=e.minimumClusterSize,g=e.styles,v=e.title,y=e.zoomOnClick,b=e.onClick,w=e.onClusteringBegin,_=e.onClusteringEnd,E=e.onMouseOver,S=e.onMouseOut,x=e.onLoad,k=e.onUnmount,C=(0,n.useState)(null),T=C[0],D=C[1],L=(0,n.useContext)(Jb),I=(0,n.useState)(null),O=I[0],N=I[1],M=(0,n.useState)(null),A=M[0],P=M[1],R=(0,n.useState)(null),j=R[0],U=R[1],F=(0,n.useState)(null),z=F[0],V=F[1],B=(0,n.useState)(null),W=B[0],q=B[1];return(0,n.useEffect)((function(){T&&S&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(T,Mw.onMouseOut,S)))}),[S]),(0,n.useEffect)((function(){T&&E&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(T,Mw.onMouseOver,E)))}),[E]),(0,n.useEffect)((function(){T&&b&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(T,Mw.onClick,b)))}),[b]),(0,n.useEffect)((function(){T&&w&&(null!==A&&google.maps.event.removeListener(A),P(google.maps.event.addListener(T,Mw.onClusteringBegin,w)))}),[w]),(0,n.useEffect)((function(){T&&_&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(T,Mw.onClusteringEnd,_)))}),[_]),(0,n.useEffect)((function(){"undefined"!==typeof i&&null!==T&&Aw.averageCenter(T,i)}),[T,i]),(0,n.useEffect)((function(){"undefined"!==typeof o&&null!==T&&Aw.batchSizeIE(T,o)}),[T,o]),(0,n.useEffect)((function(){"undefined"!==typeof s&&null!==T&&Aw.calculator(T,s)}),[T,s]),(0,n.useEffect)((function(){"undefined"!==typeof a&&null!==T&&Aw.clusterClass(T,a)}),[T,a]),(0,n.useEffect)((function(){"undefined"!==typeof l&&null!==T&&Aw.enableRetinaIcons(T,l)}),[T,l]),(0,n.useEffect)((function(){"undefined"!==typeof c&&null!==T&&Aw.gridSize(T,c)}),[T,c]),(0,n.useEffect)((function(){"undefined"!==typeof u&&null!==T&&Aw.ignoreHidden(T,u)}),[T,u]),(0,n.useEffect)((function(){"undefined"!==typeof d&&null!==T&&Aw.imageExtension(T,d)}),[T,d]),(0,n.useEffect)((function(){"undefined"!==typeof h&&null!==T&&Aw.imagePath(T,h)}),[T,h]),(0,n.useEffect)((function(){"undefined"!==typeof f&&null!==T&&Aw.imageSizes(T,f)}),[T,f]),(0,n.useEffect)((function(){"undefined"!==typeof p&&null!==T&&Aw.maxZoom(T,p)}),[T,p]),(0,n.useEffect)((function(){"undefined"!==typeof m&&null!==T&&Aw.minimumClusterSize(T,m)}),[T,m]),(0,n.useEffect)((function(){"undefined"!==typeof g&&null!==T&&Aw.styles(T,g)}),[T,g]),(0,n.useEffect)((function(){"undefined"!==typeof v&&null!==T&&Aw.title(T,v)}),[T,v]),(0,n.useEffect)((function(){"undefined"!==typeof y&&null!==T&&Aw.zoomOnClick(T,y)}),[T,y]),(0,n.useEffect)((function(){if(L){var e=Yb({},r||Pw),t=new Nw(L,[],e);return i&&Aw.averageCenter(t,i),o&&Aw.batchSizeIE(t,o),s&&Aw.calculator(t,s),a&&Aw.clusterClass(t,a),l&&Aw.enableRetinaIcons(t,l),c&&Aw.gridSize(t,c),u&&Aw.ignoreHidden(t,u),d&&Aw.imageExtension(t,d),h&&Aw.imagePath(t,h),f&&Aw.imageSizes(t,f),p&&Aw.maxZoom(t,p),m&&Aw.minimumClusterSize(t,m),g&&Aw.styles(t,g),v&&Aw.title(t,v),y&&Aw.zoomOnClick(t,y),S&&V(google.maps.event.addListener(t,Mw.onMouseOut,S)),E&&q(google.maps.event.addListener(t,Mw.onMouseOver,E)),b&&N(google.maps.event.addListener(t,Mw.onClick,b)),w&&P(google.maps.event.addListener(t,Mw.onClusteringBegin,w)),_&&U(google.maps.event.addListener(t,Mw.onClusteringEnd,_)),D(t),x&&x(t),function(){null!==z&&google.maps.event.removeListener(z),null!==W&&google.maps.event.removeListener(W),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==j&&google.maps.event.removeListener(j),k&&k(t)}}}),[]),null!==T&&t(T)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}Hb(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new Nw(this.context,[],this.props.options);this.registeredEvents=iw({updaterMap:Aw,eventMap:Mw,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:Aw,eventMap:Mw,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),rw(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=Jb}(n.PureComponent);function Rw(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var jw=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var o=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,Rw))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Rw(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),s=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,d=this.div.offsetHeight,h=this.infoBoxClearance.width,f=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-l+h?n=p.x+l-h:p.x+u+l+h>s&&(n=p.x+u+l+h-s),this.alignBottom?p.y<-c+f+d?r=p.y+c-f-d:p.y+c+f>a&&(r=p.y+c+f-a):p.y<-c+f?r=p.y+c-f:p.y+d+c+f>a&&(r=p.y+d+c+f-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),Uw={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Fw={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},zw={};(0,n.memo)((function(e){var t=e.children,r=e.anchor,i=e.options,s=e.position,a=e.zIndex,l=e.onCloseClick,c=e.onDomReady,u=e.onContentChanged,d=e.onPositionChanged,h=e.onZindexChanged,f=e.onLoad,p=e.onUnmount,m=(0,n.useContext)(Jb),g=(0,n.useState)(null),v=g[0],y=g[1],b=(0,n.useState)(null),w=b[0],_=b[1],E=(0,n.useState)(null),S=E[0],x=E[1],k=(0,n.useState)(null),C=k[0],T=k[1],D=(0,n.useState)(null),L=D[0],I=D[1],O=(0,n.useState)(null),N=O[0],M=O[1],A=(0,n.useRef)(null);return(0,n.useEffect)((function(){m&&null!==v&&(v.close(),r?v.open(m,r):v.getPosition()&&v.open(m))}),[m,v,r]),(0,n.useEffect)((function(){i&&null!==v&&v.setOptions(i)}),[v,i]),(0,n.useEffect)((function(){if(s&&null!==v){var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);v.setPosition(e)}}),[s]),(0,n.useEffect)((function(){"number"===typeof a&&null!==v&&v.setZIndex(a)}),[a]),(0,n.useEffect)((function(){v&&l&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(v,"closeclick",l)))}),[l]),(0,n.useEffect)((function(){v&&c&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(v,"domready",c)))}),[c]),(0,n.useEffect)((function(){v&&u&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(v,"content_changed",u)))}),[u]),(0,n.useEffect)((function(){v&&d&&(null!==L&&google.maps.event.removeListener(L),I(google.maps.event.addListener(v,"position_changed",d)))}),[d]),(0,n.useEffect)((function(){v&&h&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(v,"zindex_changed",h)))}),[h]),(0,n.useEffect)((function(){if(m){var e=i||zw,t=e.position,n=Gb(e,["position"]),o=void 0;!t||t instanceof google.maps.LatLng||(o=new google.maps.LatLng(t.lat,t.lng));var s=new jw(Yb(Yb({},n),o?{position:o}:{}));A.current=document.createElement("div"),y(s),l&&_(google.maps.event.addListener(s,"closeclick",l)),c&&x(google.maps.event.addListener(s,"domready",c)),u&&T(google.maps.event.addListener(s,"content_changed",u)),d&&I(google.maps.event.addListener(s,"position_changed",d)),h&&M(google.maps.event.addListener(s,"zindex_changed",h)),s.setContent(A.current),r?s.open(m,r):s.getPosition()?s.open(m):Xb(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(s)}return function(){null!==v&&(w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),S&&google.maps.event.removeListener(S),L&&google.maps.event.removeListener(L),N&&google.maps.event.removeListener(N),p&&p(v),v.close())}}),[]),A.current?(0,o.createPortal)(n.Children.only(t),A.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoBox:null},t.open=function(e,n){n?null!==t.context&&e.open(t.context,n):e.getPosition()?null!==t.context&&e.open(t.context):Xb(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},t.setInfoBoxCallback=function(){null!==t.state.infoBox&&null!==t.containerElement&&(t.state.infoBox.setContent(t.containerElement),t.open(t.state.infoBox,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoBox))},t}Hb(t,e),t.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,r=Gb(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new jw(Yb(Yb({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=iw({updaterMap:Fw,eventMap:Uw,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)},t.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:Fw,eventMap:Uw,prevProps:e,nextProps:this.props,instance:t}))},t.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),rw(this.registeredEvents),t.close())},t.prototype.render=function(){return this.containerElement?(0,o.createPortal)(n.Children.only(this.props.children),this.containerElement):null},t.contextType=Jb}(n.PureComponent);var Vw=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n},Bw=$b(Vw);const Ww=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class qw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));const i=Ww[15&n];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new qw(s,o,i,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=Ww.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Hw(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,u=a.pop()||0,d=a.pop()||0;if(u-d<=s){for(let s=d;s<=u;s++){const a=o[2*s],c=o[2*s+1];a>=e&&a<=n&&c>=t&&c<=r&&l.push(i[s])}continue}const h=d+u>>1,f=o[2*h],p=o[2*h+1];f>=e&&f<=n&&p>=t&&p<=r&&l.push(i[h]),(0===c?e<=f:t<=p)&&(a.push(d),a.push(h-1),a.push(1-c)),(0===c?n>=f:r>=p)&&(a.push(h+1),a.push(u),a.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:o}=this,s=[0,r.length-1,0],a=[],l=n*n;for(;s.length;){const c=s.pop()||0,u=s.pop()||0,d=s.pop()||0;if(u-d<=o){for(let n=d;n<=u;n++)Qw(i[2*n],i[2*n+1],e,t)<=l&&a.push(r[n]);continue}const h=d+u>>1,f=i[2*h],p=i[2*h+1];Qw(f,p,e,t)<=l&&a.push(r[h]),(0===c?e-n<=f:t-n<=p)&&(s.push(d),s.push(h-1),s.push(1-c)),(0===c?e+n>=f:t+n>=p)&&(s.push(h+1),s.push(u),s.push(1-c))}return a}}function Hw(e,t,n,r,i,o){if(i-r<=n)return;const s=r+i>>1;Yw(e,t,s,r,i,o),Hw(e,t,n,r,s-1,1-o),Hw(e,t,n,s+1,i,1-o)}function Yw(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const s=i-r+1,a=n-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(s-c)/s)*(a-s/2<0?-1:1);Yw(e,t,n,Math.max(r,Math.floor(n-a*c/s+u)),Math.min(i,Math.floor(n+(s-a)*c/s+u)),o)}const s=t[2*n+o];let a=r,l=i;for(Gw(e,t,r,n),t[2*i+o]>s&&Gw(e,t,r,i);a<l;){for(Gw(e,t,a,l),a++,l--;t[2*a+o]<s;)a++;for(;t[2*l+o]>s;)l--}t[2*r+o]===s?Gw(e,t,r,l):(l++,Gw(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function Gw(e,t,n,r){Kw(e,n,r),Kw(t,2*n,2*r),Kw(t,2*n+1,2*r+1)}function Kw(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Qw(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const $w={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Zw=Math.fround||(Xw=new Float32Array(1),e=>(Xw[0]=+e,Xw[0]));var Xw;const Jw=3,e_=5,t_=6;class n_{constructor(e){this.options=Object.assign(Object.create($w),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const i="prepare ".concat(e.length," points");t&&console.time(i),this.points=e;const o=[];for(let a=0;a<e.length;a++){const t=e[a];if(!t.geometry)continue;const[n,r]=t.geometry.coordinates,i=Zw(o_(n)),s=Zw(s_(r));o.push(i,s,1/0,a,-1,1),this.options.reduce&&o.push(0)}let s=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(i);for(let a=r;a>=n;a--){const e=+Date.now();s=this.trees[a]=this._createTree(this._cluster(s,a)),t&&console.log("z%d: %d clusters in %dms",a,s.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],a=s.range(o_(n),s_(o),o_(i),s_(r)),l=s.data,c=[];for(const u of a){const e=this.stride*u;c.push(l[e+e_]>1?r_(l,e,this.clusterProps):this.points[l[e+Jw]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.data;if(t*this.stride>=o.length)throw new Error(r);const s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],l=o[t*this.stride+1],c=i.within(a,l,s),u=[];for(const d of c){const t=d*this.stride;o[t+4]===e&&u.push(o[t+e_]>1?r_(o,t,this.clusterProps):this.points[o[t+Jw]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;const r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:s}=this.options,a=s/o,l=(n-a)/i,c=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((t-a)/i,l,(t+1+a)/i,c),r.data,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-a/i,l,1,c),r.data,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,a/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const o=this.getChildren(t);for(const s of o){const t=s.properties;if(t&&t.cluster?i+t.point_count<=r?i+=t.point_count:i=this._appendLeaves(e,t.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i}_createTree(e){const t=new qw(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,i,o){for(const s of e){const e=s*this.stride,a=t[e+e_]>1;let l,c,u;if(a)l=i_(t,e,this.clusterProps),c=t[e],u=t[e+1];else{const n=this.points[t[e+Jw]];l=n.properties;const[r,i]=n.geometry.coordinates;c=o_(r),u=s_(i)}const d={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(u*i-r))]],tags:l};let h;h=a||this.options.generateId?t[e+Jw]:this.points[t[e+Jw]].id,void 0!==h&&(d.id=h),o.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:i,minPoints:o}=this.options,s=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride;for(let u=0;u<a.length;u+=c){if(a[u+2]<=t)continue;a[u+2]=t;const n=a[u],r=a[u+1],d=e.within(a[u],a[u+1],s),h=a[u+e_];let f=h;for(const e of d){const n=e*c;a[n+2]>t&&(f+=a[n+e_])}if(f>h&&f>=o){let e,o=n*h,s=r*h,p=-1;const m=((u/c|0)<<5)+(t+1)+this.points.length;for(const n of d){const r=n*c;if(a[r+2]<=t)continue;a[r+2]=t;const l=a[r+e_];o+=a[r]*l,s+=a[r+1]*l,a[r+4]=m,i&&(e||(e=this._map(a,u,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,r)))}a[u+4]=m,l.push(o/f,s/f,1/0,m,-1,f),i&&l.push(p)}else{for(let e=0;e<c;e++)l.push(a[u+e]);if(f>1)for(const e of d){const n=e*c;if(!(a[n+2]<=t)){a[n+2]=t;for(let e=0;e<c;e++)l.push(a[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+e_]>1){const r=this.clusterProps[e[t+t_]];return n?Object.assign({},r):r}const r=this.points[e[t+Jw]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function r_(e,t,n){return{type:"Feature",id:e[t+Jw],properties:i_(e,t,n),geometry:{type:"Point",coordinates:[a_(e[t]),l_(e[t+1])]}}}function i_(e,t,n){const r=e[t+e_],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+t_],s=-1===o?{}:Object.assign({},n[o]);return Object.assign(s,{cluster:!0,cluster_id:e[t+Jw],point_count:r,point_count_abbreviated:i})}function o_(e){return e/360+.5}function s_(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function a_(e){return 360*(e-.5)}function l_(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function c_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}class u_{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class d_{constructor(e){let{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(u_.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>u_.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(u_.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class h_{constructor(e){let{maxZoom:t=16}=e;this.maxZoom=t}noop(e){let{markers:t}=e;return f_(t)}}const f_=e=>e.map((e=>new d_({position:u_.getPosition(e),markers:[e]})));class p_ extends h_{constructor(e){var{maxZoom:t,radius:n=60}=e,r=c_(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new n_(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!Bw(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=u_.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!Bw(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){let{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){let{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new d_({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});const i=r.marker;return new d_({markers:[i],position:u_.getPosition(i)})}}class m_{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class g_{render(e,t,n){let{count:r,position:i}=e;const o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",s='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(u_.isAdvancedMarkerAvailable(n)){const e=(new DOMParser).parseFromString(s,"image/svg+xml").documentElement;e.setAttribute("transform","translate(0 25)");const t={map:n,position:i,zIndex:l,title:a,content:e};return new google.maps.marker.AdvancedMarkerElement(t)}const c={position:i,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(s)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}class v_{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(v_,google.maps.OverlayView)}}var y_;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(y_||(y_={}));const b_=(e,t,n)=>{n.fitBounds(t.bounds)};class w_ extends v_{constructor(e){let{map:t,markers:n=[],algorithmOptions:r={},algorithm:i=new p_(r),renderer:o=new g_,onClusterClick:s=b_}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(u_.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,y_.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){const e=new Set;for(const r of t)1==r.markers.length&&e.add(r.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||u_.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>u_.setMap(e,null)))))}google.maps.event.trigger(this,y_.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>u_.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new m_(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>u_.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,y_.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),u_.setMap(n.marker,t)}))}}function __(e){var t=function(){Xb(!!n.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,n.useContext)(Jb);return Xb(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),r=(0,n.useState)(null),i=r[0],o=r[1];return(0,n.useEffect)((function(){if(t&&null===i){var n=new w_(Yb(Yb({},e),{map:t}));o(n)}}),[t]),i}(0,n.memo)((function(e){var t=e.children,n=__(e.options);return null!==n?t(n):null}));var E_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},S_={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,n.memo)((function(e){var t=e.children,r=e.anchor,i=e.options,s=e.position,a=e.zIndex,l=e.onCloseClick,c=e.onDomReady,u=e.onContentChanged,d=e.onPositionChanged,h=e.onZindexChanged,f=e.onLoad,p=e.onUnmount,m=(0,n.useContext)(Jb),g=(0,n.useState)(null),v=g[0],y=g[1],b=(0,n.useState)(null),w=b[0],_=b[1],E=(0,n.useState)(null),S=E[0],x=E[1],k=(0,n.useState)(null),C=k[0],T=k[1],D=(0,n.useState)(null),L=D[0],I=D[1],O=(0,n.useState)(null),N=O[0],M=O[1],A=(0,n.useRef)(null);return(0,n.useEffect)((function(){null!==v&&(v.close(),r?v.open(m,r):v.getPosition()&&v.open(m))}),[m,v,r]),(0,n.useEffect)((function(){i&&null!==v&&v.setOptions(i)}),[v,i]),(0,n.useEffect)((function(){s&&null!==v&&v.setPosition(s)}),[s]),(0,n.useEffect)((function(){"number"===typeof a&&null!==v&&v.setZIndex(a)}),[a]),(0,n.useEffect)((function(){v&&l&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(v,"closeclick",l)))}),[l]),(0,n.useEffect)((function(){v&&c&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(v,"domready",c)))}),[c]),(0,n.useEffect)((function(){v&&u&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(v,"content_changed",u)))}),[u]),(0,n.useEffect)((function(){v&&d&&(null!==L&&google.maps.event.removeListener(L),I(google.maps.event.addListener(v,"position_changed",d)))}),[d]),(0,n.useEffect)((function(){v&&h&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(v,"zindex_changed",h)))}),[h]),(0,n.useEffect)((function(){var e=new google.maps.InfoWindow(Yb({},i||{}));return y(e),A.current=document.createElement("div"),l&&_(google.maps.event.addListener(e,"closeclick",l)),c&&x(google.maps.event.addListener(e,"domready",c)),u&&T(google.maps.event.addListener(e,"content_changed",u)),d&&I(google.maps.event.addListener(e,"position_changed",d)),h&&M(google.maps.event.addListener(e,"zindex_changed",h)),e.setContent(A.current),s&&e.setPosition(s),a&&e.setZIndex(a),r?e.open(m,r):e.getPosition()?e.open(m):Xb(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(e),function(){w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),S&&google.maps.event.removeListener(S),L&&google.maps.event.removeListener(L),N&&google.maps.event.removeListener(N),p&&p(e),e.close()}}),[]),A.current?(0,o.createPortal)(n.Children.only(t),A.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoWindow:null},t.open=function(e,n){n?e.open(t.context,n):e.getPosition()?e.open(t.context):Xb(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},t.setInfoWindowCallback=function(){null!==t.state.infoWindow&&null!==t.containerElement&&(t.state.infoWindow.setContent(t.containerElement),t.open(t.state.infoWindow,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoWindow))},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(Yb({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=iw({updaterMap:S_,eventMap:E_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:S_,eventMap:E_,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},t.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(rw(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},t.prototype.render=function(){return this.containerElement?(0,o.createPortal)(n.Children.only(this.props.children),this.containerElement):null},t.contextType=Jb}(n.PureComponent);var x_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},k_={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},C_={};(0,n.memo)((function(e){var t=e.options,r=e.draggable,i=e.editable,o=e.visible,s=e.path,a=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,f=e.onMouseOver,p=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onLoad,b=e.onUnmount,w=(0,n.useContext)(Jb),_=(0,n.useState)(null),E=_[0],S=_[1],x=(0,n.useState)(null),k=x[0],C=x[1],T=(0,n.useState)(null),D=T[0],L=T[1],I=(0,n.useState)(null),O=I[0],N=I[1],M=(0,n.useState)(null),A=M[0],P=M[1],R=(0,n.useState)(null),j=R[0],U=R[1],F=(0,n.useState)(null),z=F[0],V=F[1],B=(0,n.useState)(null),W=B[0],q=B[1],H=(0,n.useState)(null),Y=H[0],G=H[1],K=(0,n.useState)(null),Q=K[0],$=K[1],Z=(0,n.useState)(null),X=Z[0],J=Z[1],ee=(0,n.useState)(null),te=ee[0],ne=ee[1];return(0,n.useEffect)((function(){null!==E&&E.setMap(w)}),[w]),(0,n.useEffect)((function(){"undefined"!==typeof t&&null!==E&&E.setOptions(t)}),[E,t]),(0,n.useEffect)((function(){"undefined"!==typeof r&&null!==E&&E.setDraggable(r)}),[E,r]),(0,n.useEffect)((function(){"undefined"!==typeof i&&null!==E&&E.setEditable(i)}),[E,i]),(0,n.useEffect)((function(){"undefined"!==typeof o&&null!==E&&E.setVisible(o)}),[E,o]),(0,n.useEffect)((function(){"undefined"!==typeof s&&null!==E&&E.setPath(s)}),[E,s]),(0,n.useEffect)((function(){E&&a&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(E,"dblclick",a)))}),[a]),(0,n.useEffect)((function(){E&&l&&(null!==D&&google.maps.event.removeListener(D),L(google.maps.event.addListener(E,"dragend",l)))}),[l]),(0,n.useEffect)((function(){E&&c&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(E,"dragstart",c)))}),[c]),(0,n.useEffect)((function(){E&&u&&(null!==A&&google.maps.event.removeListener(A),P(google.maps.event.addListener(E,"mousedown",u)))}),[u]),(0,n.useEffect)((function(){E&&d&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(E,"mousemove",d)))}),[d]),(0,n.useEffect)((function(){E&&h&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(E,"mouseout",h)))}),[h]),(0,n.useEffect)((function(){E&&f&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(E,"mouseover",f)))}),[f]),(0,n.useEffect)((function(){E&&p&&(null!==Y&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(E,"mouseup",p)))}),[p]),(0,n.useEffect)((function(){E&&m&&(null!==Q&&google.maps.event.removeListener(Q),$(google.maps.event.addListener(E,"rightclick",m)))}),[m]),(0,n.useEffect)((function(){E&&g&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(E,"click",g)))}),[g]),(0,n.useEffect)((function(){E&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(E,"drag",v)))}),[v]),(0,n.useEffect)((function(){var e=new google.maps.Polyline(Yb(Yb({},t||C_),{map:w}));return s&&e.setPath(s),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),a&&C(google.maps.event.addListener(e,"dblclick",a)),l&&L(google.maps.event.addListener(e,"dragend",l)),c&&N(google.maps.event.addListener(e,"dragstart",c)),u&&P(google.maps.event.addListener(e,"mousedown",u)),d&&U(google.maps.event.addListener(e,"mousemove",d)),h&&V(google.maps.event.addListener(e,"mouseout",h)),f&&q(google.maps.event.addListener(e,"mouseover",f)),p&&G(google.maps.event.addListener(e,"mouseup",p)),m&&$(google.maps.event.addListener(e,"rightclick",m)),g&&J(google.maps.event.addListener(e,"click",g)),v&&ne(google.maps.event.addListener(e,"drag",v)),S(e),y&&y(e),function(){null!==k&&google.maps.event.removeListener(k),null!==D&&google.maps.event.removeListener(D),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==j&&google.maps.event.removeListener(j),null!==z&&google.maps.event.removeListener(z),null!==W&&google.maps.event.removeListener(W),null!==Y&&google.maps.event.removeListener(Y),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),b&&b(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(Yb(Yb({},this.props.options||{}),{map:this.context}));this.registeredEvents=iw({updaterMap:k_,eventMap:x_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:k_,eventMap:x_,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),rw(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var T_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},D_={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,n.memo)((function(e){var t=e.options,r=e.draggable,i=e.editable,o=e.visible,s=e.path,a=e.paths,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,d=e.onMouseDown,h=e.onMouseMove,f=e.onMouseOut,p=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,b=e.onLoad,w=e.onUnmount,_=e.onEdit,E=(0,n.useContext)(Jb),S=(0,n.useState)(null),x=S[0],k=S[1],C=(0,n.useState)(null),T=C[0],D=C[1],L=(0,n.useState)(null),I=L[0],O=L[1],N=(0,n.useState)(null),M=N[0],A=N[1],P=(0,n.useState)(null),R=P[0],j=P[1],U=(0,n.useState)(null),F=U[0],z=U[1],V=(0,n.useState)(null),B=V[0],W=V[1],q=(0,n.useState)(null),H=q[0],Y=q[1],G=(0,n.useState)(null),K=G[0],Q=G[1],$=(0,n.useState)(null),Z=$[0],X=$[1],J=(0,n.useState)(null),ee=J[0],te=J[1],ne=(0,n.useState)(null),re=ne[0],ie=ne[1];return(0,n.useEffect)((function(){null!==x&&x.setMap(E)}),[E]),(0,n.useEffect)((function(){"undefined"!==typeof t&&null!==x&&x.setOptions(t)}),[x,t]),(0,n.useEffect)((function(){"undefined"!==typeof r&&null!==x&&x.setDraggable(r)}),[x,r]),(0,n.useEffect)((function(){"undefined"!==typeof i&&null!==x&&x.setEditable(i)}),[x,i]),(0,n.useEffect)((function(){"undefined"!==typeof o&&null!==x&&x.setVisible(o)}),[x,o]),(0,n.useEffect)((function(){"undefined"!==typeof s&&null!==x&&x.setPath(s)}),[x,s]),(0,n.useEffect)((function(){"undefined"!==typeof a&&null!==x&&x.setPaths(a)}),[x,a]),(0,n.useEffect)((function(){x&&l&&(null!==T&&google.maps.event.removeListener(T),D(google.maps.event.addListener(x,"dblclick",l)))}),[l]),(0,n.useEffect)((function(){x&&(google.maps.event.addListener(x.getPath(),"insert_at",(function(){null===_||void 0===_||_(x)})),google.maps.event.addListener(x.getPath(),"set_at",(function(){null===_||void 0===_||_(x)})))}),[x,_]),(0,n.useEffect)((function(){x&&c&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(x,"dragend",c)))}),[c]),(0,n.useEffect)((function(){x&&u&&(null!==M&&google.maps.event.removeListener(M),A(google.maps.event.addListener(x,"dragstart",u)))}),[u]),(0,n.useEffect)((function(){x&&d&&(null!==R&&google.maps.event.removeListener(R),j(google.maps.event.addListener(x,"mousedown",d)))}),[d]),(0,n.useEffect)((function(){x&&h&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(x,"mousemove",h)))}),[h]),(0,n.useEffect)((function(){x&&f&&(null!==B&&google.maps.event.removeListener(B),W(google.maps.event.addListener(x,"mouseout",f)))}),[f]),(0,n.useEffect)((function(){x&&p&&(null!==H&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(x,"mouseover",p)))}),[p]),(0,n.useEffect)((function(){x&&m&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(x,"mouseup",m)))}),[m]),(0,n.useEffect)((function(){x&&g&&(null!==Z&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(x,"rightclick",g)))}),[g]),(0,n.useEffect)((function(){x&&v&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(x,"click",v)))}),[v]),(0,n.useEffect)((function(){x&&y&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(x,"drag",y)))}),[y]),(0,n.useEffect)((function(){var e=new google.maps.Polygon(Yb(Yb({},t||{}),{map:E}));return s&&e.setPath(s),a&&e.setPaths(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),l&&D(google.maps.event.addListener(e,"dblclick",l)),c&&O(google.maps.event.addListener(e,"dragend",c)),u&&A(google.maps.event.addListener(e,"dragstart",u)),d&&j(google.maps.event.addListener(e,"mousedown",d)),h&&z(google.maps.event.addListener(e,"mousemove",h)),f&&W(google.maps.event.addListener(e,"mouseout",f)),p&&Y(google.maps.event.addListener(e,"mouseover",p)),m&&Q(google.maps.event.addListener(e,"mouseup",m)),g&&X(google.maps.event.addListener(e,"rightclick",g)),v&&te(google.maps.event.addListener(e,"click",v)),y&&ie(google.maps.event.addListener(e,"drag",y)),k(e),b&&b(e),function(){null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==M&&google.maps.event.removeListener(M),null!==R&&google.maps.event.removeListener(R),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),null!==ee&&google.maps.event.removeListener(ee),w&&w(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(Yb(Yb({},this.props.options||{}),{map:this.context}));this.registeredEvents=iw({updaterMap:D_,eventMap:T_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:D_,eventMap:T_,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),rw(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var L_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},I_={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,n.memo)((function(e){var t=e.options,r=e.bounds,i=e.draggable,o=e.editable,s=e.visible,a=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,f=e.onMouseOver,p=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onBoundsChanged,b=e.onLoad,w=e.onUnmount,_=(0,n.useContext)(Jb),E=(0,n.useState)(null),S=E[0],x=E[1],k=(0,n.useState)(null),C=k[0],T=k[1],D=(0,n.useState)(null),L=D[0],I=D[1],O=(0,n.useState)(null),N=O[0],M=O[1],A=(0,n.useState)(null),P=A[0],R=A[1],j=(0,n.useState)(null),U=j[0],F=j[1],z=(0,n.useState)(null),V=z[0],B=z[1],W=(0,n.useState)(null),q=W[0],H=W[1],Y=(0,n.useState)(null),G=Y[0],K=Y[1],Q=(0,n.useState)(null),$=Q[0],Z=Q[1],X=(0,n.useState)(null),J=X[0],ee=X[1],te=(0,n.useState)(null),ne=te[0],re=te[1],ie=(0,n.useState)(null),oe=ie[0],se=ie[1];return(0,n.useEffect)((function(){null!==S&&S.setMap(_)}),[_]),(0,n.useEffect)((function(){"undefined"!==typeof t&&null!==S&&S.setOptions(t)}),[S,t]),(0,n.useEffect)((function(){"undefined"!==typeof i&&null!==S&&S.setDraggable(i)}),[S,i]),(0,n.useEffect)((function(){"undefined"!==typeof o&&null!==S&&S.setEditable(o)}),[S,o]),(0,n.useEffect)((function(){"undefined"!==typeof s&&null!==S&&S.setVisible(s)}),[S,s]),(0,n.useEffect)((function(){"undefined"!==typeof r&&null!==S&&S.setBounds(r)}),[S,r]),(0,n.useEffect)((function(){S&&a&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(S,"dblclick",a)))}),[a]),(0,n.useEffect)((function(){S&&l&&(null!==L&&google.maps.event.removeListener(L),I(google.maps.event.addListener(S,"dragend",l)))}),[l]),(0,n.useEffect)((function(){S&&c&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(S,"dragstart",c)))}),[c]),(0,n.useEffect)((function(){S&&u&&(null!==P&&google.maps.event.removeListener(P),R(google.maps.event.addListener(S,"mousedown",u)))}),[u]),(0,n.useEffect)((function(){S&&d&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(S,"mousemove",d)))}),[d]),(0,n.useEffect)((function(){S&&h&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(S,"mouseout",h)))}),[h]),(0,n.useEffect)((function(){S&&f&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(S,"mouseover",f)))}),[f]),(0,n.useEffect)((function(){S&&p&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(S,"mouseup",p)))}),[p]),(0,n.useEffect)((function(){S&&m&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(S,"rightclick",m)))}),[m]),(0,n.useEffect)((function(){S&&g&&(null!==J&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(S,"click",g)))}),[g]),(0,n.useEffect)((function(){S&&v&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(S,"drag",v)))}),[v]),(0,n.useEffect)((function(){S&&y&&(null!==oe&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(S,"bounds_changed",y)))}),[y]),(0,n.useEffect)((function(){var e=new google.maps.Rectangle(Yb(Yb({},t||{}),{map:_}));return"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof r&&e.setBounds(r),a&&T(google.maps.event.addListener(e,"dblclick",a)),l&&I(google.maps.event.addListener(e,"dragend",l)),c&&M(google.maps.event.addListener(e,"dragstart",c)),u&&R(google.maps.event.addListener(e,"mousedown",u)),d&&F(google.maps.event.addListener(e,"mousemove",d)),h&&B(google.maps.event.addListener(e,"mouseout",h)),f&&H(google.maps.event.addListener(e,"mouseover",f)),p&&K(google.maps.event.addListener(e,"mouseup",p)),m&&Z(google.maps.event.addListener(e,"rightclick",m)),g&&ee(google.maps.event.addListener(e,"click",g)),v&&re(google.maps.event.addListener(e,"drag",v)),y&&se(google.maps.event.addListener(e,"bounds_changed",y)),x(e),b&&b(e),function(){null!==C&&google.maps.event.removeListener(C),null!==L&&google.maps.event.removeListener(L),null!==N&&google.maps.event.removeListener(N),null!==P&&google.maps.event.removeListener(P),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==q&&google.maps.event.removeListener(q),null!==G&&google.maps.event.removeListener(G),null!==$&&google.maps.event.removeListener($),null!==J&&google.maps.event.removeListener(J),null!==ne&&google.maps.event.removeListener(ne),null!==oe&&google.maps.event.removeListener(oe),w&&w(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(Yb(Yb({},this.props.options||{}),{map:this.context}));this.registeredEvents=iw({updaterMap:I_,eventMap:L_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:I_,eventMap:L_,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),rw(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var O_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},N_={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},M_={};(0,n.memo)((function(e){var t=e.options,r=e.center,i=e.radius,o=e.draggable,s=e.editable,a=e.visible,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,d=e.onMouseDown,h=e.onMouseMove,f=e.onMouseOut,p=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,b=e.onCenterChanged,w=e.onRadiusChanged,_=e.onLoad,E=e.onUnmount,S=(0,n.useContext)(Jb),x=(0,n.useState)(null),k=x[0],C=x[1],T=(0,n.useState)(null),D=T[0],L=T[1],I=(0,n.useState)(null),O=I[0],N=I[1],M=(0,n.useState)(null),A=M[0],P=M[1],R=(0,n.useState)(null),j=R[0],U=R[1],F=(0,n.useState)(null),z=F[0],V=F[1],B=(0,n.useState)(null),W=B[0],q=B[1],H=(0,n.useState)(null),Y=H[0],G=H[1],K=(0,n.useState)(null),Q=K[0],$=K[1],Z=(0,n.useState)(null),X=Z[0],J=Z[1],ee=(0,n.useState)(null),te=ee[0],ne=ee[1],re=(0,n.useState)(null),ie=re[0],oe=re[1],se=(0,n.useState)(null),ae=se[0],le=se[1],ce=(0,n.useState)(null),ue=ce[0],de=ce[1];return(0,n.useEffect)((function(){null!==k&&k.setMap(S)}),[S]),(0,n.useEffect)((function(){"undefined"!==typeof t&&null!==k&&k.setOptions(t)}),[k,t]),(0,n.useEffect)((function(){"undefined"!==typeof o&&null!==k&&k.setDraggable(o)}),[k,o]),(0,n.useEffect)((function(){"undefined"!==typeof s&&null!==k&&k.setEditable(s)}),[k,s]),(0,n.useEffect)((function(){"undefined"!==typeof a&&null!==k&&k.setVisible(a)}),[k,a]),(0,n.useEffect)((function(){"number"===typeof i&&null!==k&&k.setRadius(i)}),[k,i]),(0,n.useEffect)((function(){"undefined"!==typeof r&&null!==k&&k.setCenter(r)}),[k,r]),(0,n.useEffect)((function(){k&&l&&(null!==D&&google.maps.event.removeListener(D),L(google.maps.event.addListener(k,"dblclick",l)))}),[l]),(0,n.useEffect)((function(){k&&c&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(k,"dragend",c)))}),[c]),(0,n.useEffect)((function(){k&&u&&(null!==A&&google.maps.event.removeListener(A),P(google.maps.event.addListener(k,"dragstart",u)))}),[u]),(0,n.useEffect)((function(){k&&d&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(k,"mousedown",d)))}),[d]),(0,n.useEffect)((function(){k&&h&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(k,"mousemove",h)))}),[h]),(0,n.useEffect)((function(){k&&f&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(k,"mouseout",f)))}),[f]),(0,n.useEffect)((function(){k&&p&&(null!==Y&&google.maps.event.removeListener(Y),G(google.maps.event.addListener(k,"mouseover",p)))}),[p]),(0,n.useEffect)((function(){k&&m&&(null!==Q&&google.maps.event.removeListener(Q),$(google.maps.event.addListener(k,"mouseup",m)))}),[m]),(0,n.useEffect)((function(){k&&g&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(k,"rightclick",g)))}),[g]),(0,n.useEffect)((function(){k&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(k,"click",v)))}),[v]),(0,n.useEffect)((function(){k&&y&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(k,"drag",y)))}),[y]),(0,n.useEffect)((function(){k&&b&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(k,"center_changed",b)))}),[v]),(0,n.useEffect)((function(){k&&w&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(k,"radius_changed",w)))}),[w]),(0,n.useEffect)((function(){var e=new google.maps.Circle(Yb(Yb({},t||M_),{map:S}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof r&&e.setCenter(r),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof o&&e.setDraggable(o),l&&L(google.maps.event.addListener(e,"dblclick",l)),c&&N(google.maps.event.addListener(e,"dragend",c)),u&&P(google.maps.event.addListener(e,"dragstart",u)),d&&U(google.maps.event.addListener(e,"mousedown",d)),h&&V(google.maps.event.addListener(e,"mousemove",h)),f&&q(google.maps.event.addListener(e,"mouseout",f)),p&&G(google.maps.event.addListener(e,"mouseover",p)),m&&$(google.maps.event.addListener(e,"mouseup",m)),g&&J(google.maps.event.addListener(e,"rightclick",g)),v&&ne(google.maps.event.addListener(e,"click",v)),y&&oe(google.maps.event.addListener(e,"drag",y)),b&&le(google.maps.event.addListener(e,"center_changed",b)),w&&de(google.maps.event.addListener(e,"radius_changed",w)),C(e),_&&_(e),function(){null!==D&&google.maps.event.removeListener(D),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==j&&google.maps.event.removeListener(j),null!==z&&google.maps.event.removeListener(z),null!==W&&google.maps.event.removeListener(W),null!==Y&&google.maps.event.removeListener(Y),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ae&&google.maps.event.removeListener(ae),null!==ue&&google.maps.event.removeListener(ue),E&&E(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(Yb(Yb({},this.props.options||{}),{map:this.context}));this.registeredEvents=iw({updaterMap:N_,eventMap:O_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:N_,eventMap:O_,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),rw(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var A_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},P_={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,n.memo)((function(e){var t=e.options,r=e.onClick,i=e.onDblClick,o=e.onMouseDown,s=e.onMouseMove,a=e.onMouseOut,l=e.onMouseOver,c=e.onMouseUp,u=e.onRightClick,d=e.onAddFeature,h=e.onRemoveFeature,f=e.onRemoveProperty,p=e.onSetGeometry,m=e.onSetProperty,g=e.onLoad,v=e.onUnmount,y=(0,n.useContext)(Jb),b=(0,n.useState)(null),w=b[0],_=b[1],E=(0,n.useState)(null),S=E[0],x=E[1],k=(0,n.useState)(null),C=k[0],T=k[1],D=(0,n.useState)(null),L=D[0],I=D[1],O=(0,n.useState)(null),N=O[0],M=O[1],A=(0,n.useState)(null),P=A[0],R=A[1],j=(0,n.useState)(null),U=j[0],F=j[1],z=(0,n.useState)(null),V=z[0],B=z[1],W=(0,n.useState)(null),q=W[0],H=W[1],Y=(0,n.useState)(null),G=Y[0],K=Y[1],Q=(0,n.useState)(null),$=Q[0],Z=Q[1],X=(0,n.useState)(null),J=X[0],ee=X[1],te=(0,n.useState)(null),ne=te[0],re=te[1],ie=(0,n.useState)(null),oe=ie[0],se=ie[1];return(0,n.useEffect)((function(){null!==w&&w.setMap(y)}),[y]),(0,n.useEffect)((function(){w&&i&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(w,"dblclick",i)))}),[i]),(0,n.useEffect)((function(){w&&o&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(w,"mousedown",o)))}),[o]),(0,n.useEffect)((function(){w&&s&&(null!==L&&google.maps.event.removeListener(L),I(google.maps.event.addListener(w,"mousemove",s)))}),[s]),(0,n.useEffect)((function(){w&&a&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(w,"mouseout",a)))}),[a]),(0,n.useEffect)((function(){w&&l&&(null!==P&&google.maps.event.removeListener(P),R(google.maps.event.addListener(w,"mouseover",l)))}),[l]),(0,n.useEffect)((function(){w&&c&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(w,"mouseup",c)))}),[c]),(0,n.useEffect)((function(){w&&u&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(w,"rightclick",u)))}),[u]),(0,n.useEffect)((function(){w&&r&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(w,"click",r)))}),[r]),(0,n.useEffect)((function(){w&&d&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(w,"addfeature",d)))}),[d]),(0,n.useEffect)((function(){w&&h&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(w,"removefeature",h)))}),[h]),(0,n.useEffect)((function(){w&&f&&(null!==J&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(w,"removeproperty",f)))}),[f]),(0,n.useEffect)((function(){w&&p&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(w,"setgeometry",p)))}),[p]),(0,n.useEffect)((function(){w&&m&&(null!==oe&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(w,"setproperty",m)))}),[m]),(0,n.useEffect)((function(){if(null!==y){var e=new google.maps.Data(Yb(Yb({},t||{}),{map:y}));i&&x(google.maps.event.addListener(e,"dblclick",i)),o&&T(google.maps.event.addListener(e,"mousedown",o)),s&&I(google.maps.event.addListener(e,"mousemove",s)),a&&M(google.maps.event.addListener(e,"mouseout",a)),l&&R(google.maps.event.addListener(e,"mouseover",l)),c&&F(google.maps.event.addListener(e,"mouseup",c)),u&&B(google.maps.event.addListener(e,"rightclick",u)),r&&H(google.maps.event.addListener(e,"click",r)),d&&K(google.maps.event.addListener(e,"addfeature",d)),h&&Z(google.maps.event.addListener(e,"removefeature",h)),f&&ee(google.maps.event.addListener(e,"removeproperty",f)),p&&re(google.maps.event.addListener(e,"setgeometry",p)),m&&se(google.maps.event.addListener(e,"setproperty",m)),_(e),g&&g(e)}return function(){w&&(null!==S&&google.maps.event.removeListener(S),null!==C&&google.maps.event.removeListener(C),null!==L&&google.maps.event.removeListener(L),null!==N&&google.maps.event.removeListener(N),null!==P&&google.maps.event.removeListener(P),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==q&&google.maps.event.removeListener(q),null!==G&&google.maps.event.removeListener(G),null!==$&&google.maps.event.removeListener($),null!==J&&google.maps.event.removeListener(J),null!==ne&&google.maps.event.removeListener(ne),null!==oe&&google.maps.event.removeListener(oe),v&&v(w),w.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}Hb(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(Yb(Yb({},this.props.options||{}),{map:this.context}));this.registeredEvents=iw({updaterMap:P_,eventMap:A_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:P_,eventMap:A_,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),rw(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var R_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},j_={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(Yb(Yb({},this.props.options),{map:this.context}));this.registeredEvents=iw({updaterMap:j_,eventMap:R_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:j_,eventMap:R_,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),rw(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);function U_(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function F_(e,t){return new t(e.lat,e.lng)}function z_(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function V_(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,z_)):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var i=r.x,o=r.y;return{left:"".concat(i+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,F_))}function B_(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function W_(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,n.memo)((function(e){var t=e.position,r=e.bounds,i=e.mapPaneName,s=e.zIndex,a=e.onLoad,l=e.onUnmount,c=e.getPixelPositionOffset,u=e.children,d=(0,n.useContext)(Jb),h=(0,n.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),f=(0,n.useMemo)((function(){return function(e,t,n,r,i){var o=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.container=t,o.pane=n,o.position=r,o.bounds=i,o}return Hb(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=V_(this.getProjection(),Yb({},this.container?U_(this.container,i):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],o=r[0],s=r[1];this.container.style[o]=s}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new o(e,t,n,r)}(h,i,t,r,c)}),[h,i,t,r]);return(0,n.useEffect)((function(){return null===a||void 0===a||a(f),null===f||void 0===f||f.setMap(d),function(){null===l||void 0===l||l(f),null===f||void 0===f||f.setMap(null)}}),[d,f]),(0,n.useEffect)((function(){h.style.zIndex="".concat(s)}),[s,h]),o.createPortal(u,h)})),function(e){function t(t){var r=e.call(this,t)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var e=r.props.mapPaneName,t=r.overlayView.getPanes();Xb(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?r.setState({paneEl:t[e]}):r.setState({paneEl:null})},r.onAdd=function(){var e,t;r.updatePane(),null===(t=(e=r.props).onLoad)||void 0===t||t.call(e,r.overlayView)},r.onPositionElement=function(){var e,t,n=V_(r.overlayView.getProjection(),Yb({x:0,y:0},r.containerRef.current?U_(r.containerRef.current,r.props.getPixelPositionOffset):{}),r.props.bounds,r.props.position),i=r.state.containerStyle,o=i.left,s=i.top,a=i.width,l=i.height;t={left:o,top:s,width:a,height:l},((e=n).left!==t.left||e.top!==t.top||e.width!==t.height||e.height!==t.height)&&r.setState({containerStyle:{top:n.top||0,left:n.left||0,width:n.width||0,height:n.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var e,t;r.setState((function(){return{paneEl:null}})),null===(t=(e=r.props).onUnmount)||void 0===t||t.call(e,r.overlayView)},r.containerRef=(0,n.createRef)();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}Hb(t,e),t.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},t.prototype.componentDidUpdate=function(e){var t=B_(e.position),n=B_(this.props.position),r=W_(e.bounds),i=W_(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},t.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},t.prototype.render=function(){var e=this.state.paneEl;return e?o.createPortal((0,Pb.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:n.Children.only(this.props.children)}),e):null},t.FLOAT_PANE="floatPane",t.MAP_PANE="mapPane",t.MARKER_LAYER="markerLayer",t.OVERLAY_LAYER="overlayLayer",t.OVERLAY_MOUSE_TARGET="overlayMouseTarget",t.contextType=Jb}(n.PureComponent);function q_(){}var H_={onDblClick:"dblclick",onClick:"click"},Y_={opacity:function(e,t){e.setOpacity(t)}};(0,n.memo)((function(e){var t=e.url,r=e.bounds,i=e.options,o=e.visible,s=(0,n.useContext)(Jb),a=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=(0,n.useMemo)((function(){return new google.maps.GroundOverlay(t,a,Yb({},i))}),[]);return(0,n.useEffect)((function(){null!==l&&l.setMap(s)}),[s]),(0,n.useEffect)((function(){"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(s))}),[l,t]),(0,n.useEffect)((function(){"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)}),[l,o]),(0,n.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));"undefined"!==typeof r&&null!==l&&(l.set("bounds",e),l.setMap(s))}),[l,r]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}Hb(t,e),t.prototype.componentDidMount=function(){Xb(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Yb(Yb({},this.props.options),{map:this.context}));this.registeredEvents=iw({updaterMap:Y_,eventMap:H_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:Y_,eventMap:H_,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:q_},t.contextType=Jb}(n.PureComponent);var G_={},K_={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,n.memo)((function(e){var t=e.data,r=e.onLoad,i=e.onUnmount,o=e.options,s=(0,n.useContext)(Jb),a=(0,n.useState)(null),l=a[0],c=a[1];return(0,n.useEffect)((function(){google.maps.visualization||Xb(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,n.useEffect)((function(){Xb(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),(0,n.useEffect)((function(){null!==l&&l.setMap(s)}),[s]),(0,n.useEffect)((function(){o&&null!==l&&l.setOptions(o)}),[l,o]),(0,n.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(Yb(Yb({},o||{}),{data:t,map:s}));return c(e),r&&r(e),function(){null!==l&&(i&&i(l),l.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}Hb(t,e),t.prototype.componentDidMount=function(){Xb(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Xb(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Yb(Yb({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=iw({updaterMap:K_,eventMap:G_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:K_,eventMap:G_,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),rw(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent);var Q_={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},$_={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},Z_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=iw({updaterMap:$_,eventMap:Q_,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:$_,eventMap:Q_,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),rw(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=Jb}(n.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}Hb(t,e),t.prototype.componentDidMount=function(){Xb(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(n.PureComponent),{onDirectionsChanged:"directions_changed"}),X_={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},J_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}Hb(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=iw({updaterMap:X_,eventMap:Z_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:X_,eventMap:Z_,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),rw(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,Pb.jsx)(Pb.Fragment,{})},t.contextType=Jb}(n.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}Hb(t,e),t.prototype.componentDidMount=function(){Xb(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(n.PureComponent),{onPlacesChanged:"places_changed"}),eE={bounds:function(e,t){e.setBounds(t)}},tE=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,n.createRef)(),t.state={searchBox:null},t.setSearchBoxCallback=function(){null!==t.state.searchBox&&t.props.onLoad&&t.props.onLoad(t.state.searchBox)},t}Hb(t,e),t.prototype.componentDidMount=function(){if(Xb(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=iw({updaterMap:eE,eventMap:J_,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},t.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:eE,eventMap:J_,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},t.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),rw(this.registeredEvents))},t.prototype.render=function(){return(0,Pb.jsx)("div",{ref:this.containerElement,children:n.Children.only(this.props.children)})},t.contextType=Jb}(n.PureComponent),{onPlaceChanged:"place_changed"}),nE={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,n.createRef)(),t.state={autocomplete:null},t.setAutocompleteCallback=function(){null!==t.state.autocomplete&&t.props.onLoad&&t.props.onLoad(t.state.autocomplete)},t}Hb(t,e),t.prototype.componentDidMount=function(){var e;Xb(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=iw({updaterMap:nE,eventMap:tE,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},t.prototype.componentDidUpdate=function(e){rw(this.registeredEvents),this.registeredEvents=iw({updaterMap:nE,eventMap:tE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},t.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&rw(this.registeredEvents)},t.prototype.render=function(){return(0,Pb.jsx)("div",{ref:this.containerElement,className:this.props.className,children:n.Children.only(this.props.children)})},t.defaultProps={className:""},t.contextType=Jb}(n.PureComponent);const rE={width:"100%",height:"60vh"},iE={lat:54.7024,lng:-3.2766};const oE=function(){const[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(null),[o,s]=(0,n.useState)(null);(0,n.useEffect)((()=>{(async()=>{const e=await Bp(Uf(Ib,"events")),n=[];e.forEach((e=>{e.data().latLng&&n.push({...e.data(),id:e.id})})),t(n)})()}),[]);const a=n.useCallback((function(t){const n=new window.google.maps.LatLngBounds;e.forEach((e=>{let{latLng:t}=e;return n.extend(t)})),e.length>0?t.fitBounds(n):(t.setCenter(iE),t.setZoom(5)),i(t)}),[e]),l=n.useCallback((function(e){i(null)}),[]);return(0,Pb.jsxs)(vw,{googleMapsApiKey:"AIzaSyAJP4EUYo_UsOFFPFHiIjcwU_OI77GQhIQ",children:[" ",(0,Pb.jsx)(aw,{mapContainerStyle:rE,center:iE,zoom:10,onLoad:a,onUnmount:l,children:e.map((e=>(0,Pb.jsx)(Tw,{position:e.latLng,onClick:()=>(e=>{s(e)})(e)},e.id)))}),o&&(0,Pb.jsx)(Wb,{isOpen:!!o,onClose:()=>{s(null)},event:o})]})};const sE=function(){const[e,t]=(0,n.useState)(""),{currentUser:r}=Fb(),i=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{(async()=>{if(!i.current)try{i.current=!0}catch(e){console.error("Error initializing Google API:",e),t("Failed to initialize Google API.")}})()}),[]),(0,Pb.jsxs)("div",{className:"container",children:[(0,Pb.jsxs)("div",{className:"home-content-container",children:[(0,Pb.jsx)("h2",{className:"header-text",children:"Find Your Stage!"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Gigify is a platform that connects local musicians and venues."}),(0,Pb.jsx)("p",{children:"Musicians and Venues can create a profile and list their availability, genre, and location. Allowing you to search for local musicians & venues based on these criteria for gigs."}),(0,Pb.jsx)("p",{className:"centre-text",children:"The goal of the platform is to empower local musicians and venues by providing an intuitive platform that puts the power of booking in the musicians hands and for venues, making the process of finding acts or venues much easier with all the details and acts in one place."}),(0,Pb.jsx)("p",{className:"centre-text",children:"If you're a musician or venue, sign up and try Gigify for your next live music event! \ud83c\udfa4"}),"\xa0"]}),e&&(0,Pb.jsxs)("p",{children:["Error: ",e]}),(0,Pb.jsx)(oE,{}),"\xa0",(0,Pb.jsx)("h5",{className:"centre-text",children:"Use the map and click on the markers to see upcoming events."})]})},aE={_origin:"https://api.emailjs.com"},lE=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class cE{constructor(e){this.status=e.status,this.text=e.responseText}}const uE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",(e=>{let{target:t}=e;const n=new cE(t);200===n.status||"OK"===n.text?r(n):i(n)})),o.addEventListener("error",(e=>{let{target:t}=e;i(new cE(t))})),o.open("POST",aE._origin+e,!0),Object.keys(n).forEach((e=>{o.setRequestHeader(e,n[e])})),o.send(t)}))},dE=(e,t,n,r)=>{const i=r||aE._userID;lE(i,e,t);const o={lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:n};return uE("/api/v1.0/email/send",JSON.stringify(o),{"Content-type":"application/json"})};const hE=function(){const{currentUser:e}=Fb(),[t,r]=(0,n.useState)({subject:"",description:"",email:(null===e||void 0===e?void 0:e.email)||""}),i=e=>{const{name:t,value:n}=e.target;r((e=>({...e,[t]:n})))};return(0,Pb.jsx)("div",{className:"container",children:(0,Pb.jsxs)("form",{id:"contact-form",onSubmit:e=>{if(e.preventDefault(),!t.email)return void alert("Please enter your email address.");const n={to_email:t.email,subject:t.subject,description:t.description};dE("service_hmbss4p","template_6huj8xr",n,"qPX4lZbgV_2l9XtX7").then((e=>{console.log("Message sent successfully",e.status,e.text),alert("Message sent successfully."),r({subject:"",description:"",email:""})}),(e=>{console.log("Failed to send message",e),alert("Failed to send message.")}))},children:[(0,Pb.jsx)("h1",{className:"centre-text",children:"Contact Us"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Hi! I hope you're enjoying Gigify, if you have any issues please don't hesitate to contact us."}),(0,Pb.jsxs)("div",{className:"form-group",children:[(0,Pb.jsx)("label",{htmlFor:"subject",children:"Subject:"}),(0,Pb.jsx)("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:i,className:"input-text"}),(0,Pb.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Pb.jsx)("textarea",{id:"description",name:"description",value:t.description,onChange:i,className:"textarea"}),(0,Pb.jsx)("label",{htmlFor:"email",children:"Your Email:"}),(0,Pb.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:i,className:"input-text"})]}),(0,Pb.jsx)("button",{type:"submit",className:"button",children:"Send Message"})]})})};const fE=function(){const[e,t]=(0,n.useState)([]),[r,i]=(ee(),(0,n.useState)({acts:"",location:"",genre:"",availabilityStart:"",availabilityEnd:"",maxTravelDistance:"",username:""})),o=e=>{const{name:t,value:n}=e.target;i({...r,[t]:n})};return(0,Pb.jsxs)("div",{className:"container",children:[(0,Pb.jsxs)("div",{className:"search-form",children:[(0,Pb.jsx)("h2",{className:"header-text",children:"Search Musicians or Venues"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Use the Search to find other users."}),(0,Pb.jsxs)("form",{id:"searchForm",onSubmit:async e=>{let n;e.preventDefault();try{n=await async function(e){const t=await fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(encodeURIComponent(e),"&key=").concat("AIzaSyAJP4EUYo_UsOFFPFHiIjcwU_OI77GQhIQ")),n=await t.json();if(n.results.length>0){const{lat:e,lng:t}=n.results[0].geometry.location;return{lat:e,lng:t}}throw new Error("Location not found")}(r.location)}catch(o){return console.error("Error fetching location coordinates:",o),void alert("Location not found. Please enter a valid location.")}let i=xp(Uf(Ib,"users"));r.genre&&(i=xp(i,Cp("genre","==",r.genre))),r.acts&&(i=xp(i,Cp("acts","==",parseInt(r.acts)))),r.username&&(i=xp(i,Cp("username","==",r.username.trim())));try{const e=await Bp(i),n=e.docs.map((e=>({...e.data(),id:e.id}))).filter((e=>!0));t(n)}catch(o){console.error("Error fetching users:",o)}},className:"events-filter-content",style:{borderRadius:"8px"},children:[(0,Pb.jsx)("label",{htmlFor:"username",children:"Search Username:"}),(0,Pb.jsx)("input",{type:"text",id:"username",name:"username",value:r.username,onChange:o}),(0,Pb.jsx)("label",{htmlFor:"location",children:"Search Location:"}),(0,Pb.jsx)("input",{type:"text",id:"location",name:"location",value:r.location,onChange:o}),(0,Pb.jsx)("label",{htmlFor:"maxTravelDistance",children:"Search Max Travel Distance (miles):"}),(0,Pb.jsx)("input",{type:"number",id:"maxTravelDistance",name:"maxTravelDistance",min:"1",value:r.maxTravelDistance,onChange:o}),(0,Pb.jsx)("label",{htmlFor:"genre",children:"Search Genre:"}),(0,Pb.jsx)("input",{type:"text",id:"genre",name:"genre",value:r.genre,onChange:o}),(0,Pb.jsx)("label",{htmlFor:"availabilityStart",children:"Search Availability Start:"}),(0,Pb.jsx)("input",{type:"date",id:"availabilityStart",name:"availabilityStart",value:r.availabilityStart,onChange:o}),(0,Pb.jsx)("label",{htmlFor:"availabilityEnd",children:"Search Availability End:"}),(0,Pb.jsx)("input",{type:"date",id:"availabilityEnd",name:"availabilityEnd",value:r.availabilityEnd,onChange:o}),(0,Pb.jsx)("button",{type:"submit",className:"button",children:"Search"})]})]}),(0,Pb.jsx)("div",{id:"search-results-content",children:e.map(((e,t)=>(0,Pb.jsx)("div",{className:"user-result",children:(0,Pb.jsxs)(ke,{to:"/user/".concat(e.id),children:[" ",(0,Pb.jsx)("img",{src:e.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}}),(0,Pb.jsxs)("div",{children:[(0,Pb.jsx)("h3",{children:e.fullName}),(0,Pb.jsxs)("p",{children:["Genre: ",e.genre]}),(0,Pb.jsxs)("p",{children:["Location: ",e.location]})]})]})},t)))})]})};function pE(e){return pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pE(e)}function mE(e){var t=function(e,t){if("object"!=pE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pE(t)?t:String(t)}function gE(e,t,n){return(t=mE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vE(Object(n),!0).forEach((function(t){gE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bE(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function wE(e,t){if(null==e)return{};var n,r,i=bE(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mE(r.key),r)}}function SE(e,t,n){return t&&EE(e.prototype,t),n&&EE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xE(e,t)}function kE(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function CE(e){return CE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CE(e)}function TE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TE=function(){return!!e})()}function DE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LE(e){var t=TE();return function(){var n,r=CE(e);if(t){var i=CE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===pE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return DE(e)}(this,n)}}function IE(e){if(Array.isArray(e))return e}function OE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NE(e,t){if(e){if("string"===typeof e)return OE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OE(e,t):void 0}}function ME(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function AE(e,t){return IE(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||NE(e,t)||ME()}var PE=__webpack_require__(992),RE=__webpack_require__.n(PE),jE=function(){};function UE(e,t){return void 0!==e[t]}function FE(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zE.apply(this,arguments)}function VE(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function BE(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function WE(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}VE.__suppressDeprecationWarning=!0,BE.__suppressDeprecationWarning=!0,WE.__suppressDeprecationWarning=!0;function qE(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=qE(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const HE=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=qE(e))&&(r&&(r+=" "),r+=t);return r};var YE=__webpack_require__(840),GE=__webpack_require__.n(YE),KE="milliseconds",QE="seconds",$E="minutes",ZE="hours",XE="day",JE="week",eS="month",tS="year",nS="decade",rS="century",iS={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},oS={month:1,year:12,decade:120,century:1200};function sS(e){return e%4===0&&e%100!==0||e%400===0?29:28}function aS(e,t,n){switch(e=new Date(e),n){case KE:case QE:case $E:case ZE:case XE:case JE:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*iS.minutes)}(e,n)}(e,t*iS[n]);case eS:case tS:case nS:case rS:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),o=12*n+r+t,s=Math.trunc(o/12),a=o%12,l=Math.min(i,function(e){return[31,sS(e),31,30,31,30,31,31,30,31,30,31]}(s)[a]),c=new Date(e);return c.setFullYear(s),c.setDate(1),c.setMonth(a),c.setDate(l),c}(e,t*oS[n])}throw new TypeError('Invalid units: "'+n+'"')}function lS(e,t,n){return aS(e,-t,n)}function cS(e,t,n){switch(e=new Date(e),t){case rS:case nS:case tS:e=CS(e,0);case eS:e=kS(e,1);case JE:case XE:e=SS(e,0);case ZE:e=ES(e,0);case $E:e=_S(e,0);case QE:e=wS(e,0)}return t===nS&&(e=lS(e,TS(e)%10,"year")),t===rS&&(e=lS(e,TS(e)%100,"year")),t===JE&&(e=function(e,t,n){var r=(xS(e)+7-(n||0))%7;return void 0===t?r:aS(e,t-r,XE)}(e,0,n)),e}function uS(e,t,n){switch(e=cS(e=new Date(e),t,n),t){case rS:case nS:case tS:case eS:case JE:(e=lS(e=aS(e,1,t),1,XE)).setHours(23,59,59,999);break;case XE:e.setHours(23,59,59,999);break;case ZE:case $E:case QE:e=lS(e=aS(e,1,t),1,KE)}return e}var dS=LS((function(e,t){return e===t})),hS=LS((function(e,t){return e!==t})),fS=LS((function(e,t){return e>t})),pS=LS((function(e,t){return e>=t})),mS=LS((function(e,t){return e<t})),gS=LS((function(e,t){return e<=t}));function vS(){return new Date(Math.min.apply(Math,arguments))}function yS(){return new Date(Math.max.apply(Math,arguments))}function bS(e,t,n,r){return r=r||"day",(!t||pS(e,t,r))&&(!n||gS(e,n,r))}var wS=DS("Milliseconds"),_S=DS("Seconds"),ES=DS("Minutes"),SS=DS("Hours"),xS=DS("Day"),kS=DS("Date"),CS=DS("Month"),TS=DS("FullYear");function DS(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&("Hours"===e||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function LS(e){return function(t,n,r){return e(+cS(t,r),+cS(n,r))}}function IS(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function OS(e){return function(e){if(Array.isArray(e))return OE(e)}(e)||IS(e)||NE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const NS=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const MS=function(e,t){return e===t||e!==e&&t!==t};const AS="object"==typeof global&&global&&global.Object===Object&&global;var PS="object"==typeof self&&self&&self.Object===Object&&self;const RS=AS||PS||Function("return this")();const jS=RS.Symbol;var US=Object.prototype,FS=US.hasOwnProperty,zS=US.toString,VS=jS?jS.toStringTag:void 0;const BS=function(e){var t=FS.call(e,VS),n=e[VS];try{e[VS]=void 0;var r=!0}catch(KP){}var i=zS.call(e);return r&&(t?e[VS]=n:delete e[VS]),i};var WS=Object.prototype.toString;const qS=function(e){return WS.call(e)};var HS=jS?jS.toStringTag:void 0;const YS=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":HS&&HS in Object(e)?BS(e):qS(e)};const GS=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const KS=function(e){if(!GS(e))return!1;var t=YS(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const QS=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const $S=function(e){return null!=e&&QS(e.length)&&!KS(e)};var ZS=/^(?:0|[1-9]\d*)$/;const XS=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ZS.test(e))&&e>-1&&e%1==0&&e<t};const JS=function(e,t,n){if(!GS(n))return!1;var r=typeof t;return!!("number"==r?$S(n)&&XS(t,n.length):"string"==r&&t in n)&&MS(n[t],e)};var ex=/\s/;const tx=function(e){for(var t=e.length;t--&&ex.test(e.charAt(t)););return t};var nx=/^\s+/;const rx=function(e){return e?e.slice(0,tx(e)+1).replace(nx,""):e};const ix=function(e){return null!=e&&"object"==typeof e};const ox=function(e){return"symbol"==typeof e||ix(e)&&"[object Symbol]"==YS(e)};var sx=/^[-+]0x[0-9a-f]+$/i,ax=/^0b[01]+$/i,lx=/^0o[0-7]+$/i,cx=parseInt;const ux=function(e){if("number"==typeof e)return e;if(ox(e))return NaN;if(GS(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=GS(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=rx(e);var n=ax.test(e);return n||lx.test(e)?cx(e.slice(2),n?2:8):sx.test(e)?NaN:+e};var dx=1/0;const hx=function(e){return e?(e=ux(e))===dx||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const fx=function(e){var t=hx(e),n=t%1;return t===t?n?t-n:t:0};var px=Math.ceil,mx=Math.max;const gx=function(e,t,n){t=(n?JS(e,t,n):void 0===t)?1:mx(fx(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=Array(px(r/t));i<r;)s[o++]=NS(e,i,i+=t);return s};function vx(e){return e&&e.ownerDocument||document}function yx(e,t){return function(e){var t=vx(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var bx=/([A-Z])/g;var wx=/^ms-/;function _x(e){return function(e){return e.replace(bx,"-$1").toLowerCase()}(e).replace(wx,"-ms-")}var Ex=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Sx=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(_x(t))||yx(e).getPropertyValue(_x(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!Ex.test(e))}(i)?n+=_x(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(_x(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function xx(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function kx(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Cx(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,r){var i=kx(n);if(void 0===r)return i?i[e]:n[t];i?i.scrollTo(i[e],r):n[t]=r}}const Tx=Cx("pageXOffset"),Dx=Cx("pageYOffset");function Lx(e){var t=vx(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return r&&xx(r,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+Dx(r)-(r.clientTop||0),left:n.left+Tx(r)-(r.clientLeft||0),width:n.width,height:n.height}):n}var Ix=function(e){return!!e&&"offsetParent"in e};function Ox(e,t){var n,r={top:0,left:0};if("fixed"===Sx(e,"position"))n=e.getBoundingClientRect();else{var i=t||function(e){for(var t=vx(e),n=e&&e.offsetParent;Ix(n)&&"HTML"!==n.nodeName&&"static"===Sx(n,"position");)n=n.offsetParent;return n||t.documentElement}(e);n=Lx(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(i)&&(r=Lx(i));var o=String(Sx(i,"borderTopWidth")||0);r.top+=parseInt(o,10)-Dx(i)||0;var s=String(Sx(i,"borderLeftWidth")||0);r.left+=parseInt(s,10)-Tx(i)||0}var a=String(Sx(e,"marginTop")||0),l=String(Sx(e,"marginLeft")||0);return zE({},n,{top:n.top-r.top-(parseInt(a,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const Nx=!("undefined"===typeof window||!window.document||!window.document.createElement);var Mx=(new Date).getTime();var Ax="clearTimeout",Px=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-Mx)),r=setTimeout(e,n);return Mx=t,r},Rx=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Nx&&["","webkit","moz","o","ms"].some((function(e){var t=Rx(e,"request");return t in window&&(Ax=Rx(e,"cancel"),Px=function(e){return window[t](e)}),!!Px}));var jx=function(e){"function"===typeof window[Ax]&&window[Ax](e)},Ux=Px;function Fx(){return(0,n.useState)(null)}const zx=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Vx=function(e,t){return(0,n.useMemo)((()=>function(e,t){const n=zx(e),r=zx(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};var Bx="top",Wx="bottom",qx="right",Hx="left",Yx="auto",Gx=[Bx,Wx,qx,Hx],Kx="start",Qx="end",$x="clippingParents",Zx="viewport",Xx="popper",Jx="reference",ek=Gx.reduce((function(e,t){return e.concat([t+"-"+Kx,t+"-"+Qx])}),[]),tk=[].concat(Gx,[Yx]).reduce((function(e,t){return e.concat([t,t+"-"+Kx,t+"-"+Qx])}),[]),nk=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const rk=function(e){const t=function(){const e=(0,n.useRef)(!0),t=(0,n.useRef)((()=>e.current));return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}();return[e[0],(0,n.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function ik(e){return e.split("-")[0]}function ok(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function sk(e){return e instanceof ok(e).Element||e instanceof Element}function ak(e){return e instanceof ok(e).HTMLElement||e instanceof HTMLElement}function lk(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ok(e).ShadowRoot||e instanceof ShadowRoot)}var ck=Math.max,uk=Math.min,dk=Math.round;function hk(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function fk(){return!/^((?!chrome|android).)*safari/i.test(hk())}function pk(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&ak(e)&&(i=e.offsetWidth>0&&dk(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&dk(r.height)/e.offsetHeight||1);var s=(sk(e)?ok(e):window).visualViewport,a=!fk()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function mk(e){var t=pk(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function gk(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&lk(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vk(e){return e?(e.nodeName||"").toLowerCase():null}function yk(e){return ok(e).getComputedStyle(e)}function bk(e){return["table","td","th"].indexOf(vk(e))>=0}function wk(e){return((sk(e)?e.ownerDocument:e.document)||window.document).documentElement}function _k(e){return"html"===vk(e)?e:e.assignedSlot||e.parentNode||(lk(e)?e.host:null)||wk(e)}function Ek(e){return ak(e)&&"fixed"!==yk(e).position?e.offsetParent:null}function Sk(e){for(var t=ok(e),n=Ek(e);n&&bk(n)&&"static"===yk(n).position;)n=Ek(n);return n&&("html"===vk(n)||"body"===vk(n)&&"static"===yk(n).position)?t:n||function(e){var t=/firefox/i.test(hk());if(/Trident/i.test(hk())&&ak(e)&&"fixed"===yk(e).position)return null;var n=_k(e);for(lk(n)&&(n=n.host);ak(n)&&["html","body"].indexOf(vk(n))<0;){var r=yk(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function xk(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function kk(e,t,n){return ck(e,uk(t,n))}function Ck(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Tk(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Dk={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ik(n.placement),l=xk(a),c=[Hx,qx].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return Ck("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Tk(e,Gx))}(i.padding,n),d=mk(o),h="y"===l?Bx:Hx,f="y"===l?Wx:qx,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=Sk(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],_=v/2-d[c]/2+y,E=kk(b,_,w),S=l;n.modifiersData[r]=((t={})[S]=E,t.centerOffset=E-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&gk(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lk(e){return e.split("-")[1]}var Ik={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ok(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=Hx,w=Bx,_=window;if(c){var E=Sk(n),S="clientHeight",x="clientWidth";if(E===ok(n)&&"static"!==yk(E=wk(n)).position&&"absolute"===a&&(S="scrollHeight",x="scrollWidth"),i===Bx||(i===Hx||i===qx)&&o===Qx)w=Wx,m-=(d&&E===_&&_.visualViewport?_.visualViewport.height:E[S])-r.height,m*=l?1:-1;if(i===Hx||(i===Bx||i===Wx)&&o===Qx)b=qx,f-=(d&&E===_&&_.visualViewport?_.visualViewport.width:E[x])-r.width,f*=l?1:-1}var k,C=Object.assign({position:a},c&&Ik),T=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:dk(n*i)/i||0,y:dk(r*i)/i||0}}({x:f,y:m},ok(n)):{x:f,y:m};return f=T.x,m=T.y,l?Object.assign({},C,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},C,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const Nk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:ik(t.placement),variation:Lk(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ok(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ok(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Mk={passive:!0};const Ak={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=ok(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Mk)})),a&&l.addEventListener("resize",n.update,Mk),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Mk)})),a&&l.removeEventListener("resize",n.update,Mk)}},data:{}};var Pk={left:"right",right:"left",bottom:"top",top:"bottom"};function Rk(e){return e.replace(/left|right|bottom|top/g,(function(e){return Pk[e]}))}var jk={start:"end",end:"start"};function Uk(e){return e.replace(/start|end/g,(function(e){return jk[e]}))}function Fk(e){var t=ok(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zk(e){return pk(wk(e)).left+Fk(e).scrollLeft}function Vk(e){var t=yk(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Bk(e){return["html","body","#document"].indexOf(vk(e))>=0?e.ownerDocument.body:ak(e)&&Vk(e)?e:Bk(_k(e))}function Wk(e,t){var n;void 0===t&&(t=[]);var r=Bk(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=ok(r),s=i?[o].concat(o.visualViewport||[],Vk(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Wk(_k(s)))}function qk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Hk(e,t,n){return t===Zx?qk(function(e,t){var n=ok(e),r=wk(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=fk();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+zk(e),y:l}}(e,n)):sk(t)?function(e,t){var n=pk(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):qk(function(e){var t,n=wk(e),r=Fk(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=ck(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ck(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+zk(e),l=-r.scrollTop;return"rtl"===yk(i||n).direction&&(a+=ck(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(wk(e)))}function Yk(e,t,n,r){var i="clippingParents"===t?function(e){var t=Wk(_k(e)),n=["absolute","fixed"].indexOf(yk(e).position)>=0&&ak(e)?Sk(e):e;return sk(n)?t.filter((function(e){return sk(e)&&gk(e,n)&&"body"!==vk(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=Hk(e,n,r);return t.top=ck(i.top,t.top),t.right=uk(i.right,t.right),t.bottom=uk(i.bottom,t.bottom),t.left=ck(i.left,t.left),t}),Hk(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Gk(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?ik(i):null,s=i?Lk(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Bx:t={x:a,y:n.y-r.height};break;case Wx:t={x:a,y:n.y+n.height};break;case qx:t={x:n.x+n.width,y:l};break;case Hx:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?xk(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Kx:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Qx:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Kk(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?$x:a,c=n.rootBoundary,u=void 0===c?Zx:c,d=n.elementContext,h=void 0===d?Xx:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=Ck("number"!==typeof g?g:Tk(g,Gx)),y=h===Xx?Jx:Xx,b=e.rects.popper,w=e.elements[p?y:h],_=Yk(sk(w)?w:w.contextElement||wk(e.elements.popper),l,u,s),E=pk(e.elements.reference),S=Gk({reference:E,element:b,strategy:"absolute",placement:i}),x=qk(Object.assign({},b,S)),k=h===Xx?x:E,C={top:_.top-k.top+v.top,bottom:k.bottom-_.bottom+v.bottom,left:_.left-k.left+v.left,right:k.right-_.right+v.right},T=e.modifiersData.offset;if(h===Xx&&T){var D=T[i];Object.keys(C).forEach((function(e){var t=[qx,Wx].indexOf(e)>=0?1:-1,n=[Bx,Wx].indexOf(e)>=0?"y":"x";C[e]+=D[n]*t}))}return C}const Qk={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=ik(g),y=l||(v===g||!p?[Rk(g)]:function(e){if(ik(e)===Yx)return[];var t=Rk(e);return[Uk(e),t,Uk(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(ik(n)===Yx?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?tk:l,u=Lk(r),d=u?a?ek:ek.filter((function(e){return Lk(e)===u})):Gx,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=Kk(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[ik(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,E=new Map,S=!0,x=b[0],k=0;k<b.length;k++){var C=b[k],T=ik(C),D=Lk(C)===Kx,L=[Bx,Wx].indexOf(T)>=0,I=L?"width":"height",O=Kk(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),N=L?D?qx:Hx:D?Wx:Bx;w[I]>_[I]&&(N=Rk(N));var M=Rk(N),A=[];if(o&&A.push(O[T]<=0),a&&A.push(O[N]<=0,O[M]<=0),A.every((function(e){return e}))){x=C,S=!1;break}E.set(C,A)}if(S)for(var P=function(e){var t=b.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},R=p?3:1;R>0;R--){if("break"===P(R))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $k(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Zk(e){return[Bx,qx,Wx,Hx].some((function(t){return e[t]>=0}))}const Xk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=tk.reduce((function(e,n){return e[n]=function(e,t,n){var r=ik(e),i=[Hx,Bx].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Hx,qx].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};const Jk={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=Kk(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=ik(t.placement),y=Lk(t.placement),b=!y,w=xk(v),_="x"===w?"y":"x",E=t.modifiersData.popperOffsets,S=t.rects.reference,x=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(E){if(o){var L,I="y"===w?Bx:Hx,O="y"===w?Wx:qx,N="y"===w?"height":"width",M=E[w],A=M+g[I],P=M-g[O],R=f?-x[N]/2:0,j=y===Kx?S[N]:x[N],U=y===Kx?-x[N]:-S[N],F=t.elements.arrow,z=f&&F?mk(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=V[I],W=V[O],q=kk(0,S[N],z[N]),H=b?S[N]/2-R-q-B-C.mainAxis:j-q-B-C.mainAxis,Y=b?-S[N]/2+R+q+W+C.mainAxis:U+q+W+C.mainAxis,G=t.elements.arrow&&Sk(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,Q=null!=(L=null==T?void 0:T[w])?L:0,$=M+Y-Q,Z=kk(f?uk(A,M+H-Q-K):A,M,f?ck(P,$):P);E[w]=Z,D[w]=Z-M}if(a){var X,J="x"===w?Bx:Hx,ee="x"===w?Wx:qx,te=E[_],ne="y"===_?"height":"width",re=te+g[J],ie=te-g[ee],oe=-1!==[Bx,Hx].indexOf(v),se=null!=(X=null==T?void 0:T[_])?X:0,ae=oe?re:te-S[ne]-x[ne]-se+C.altAxis,le=oe?te+S[ne]+x[ne]-se-C.altAxis:ie,ce=f&&oe?function(e,t,n){var r=kk(e,t,n);return r>n?n:r}(ae,te,le):kk(f?ae:re,te,f?le:ie);E[_]=ce,D[_]=ce-te}t.modifiersData[r]=D}},requiresIfExists:["offset"]};function eC(e,t,n){void 0===n&&(n=!1);var r=ak(t),i=ak(t)&&function(e){var t=e.getBoundingClientRect(),n=dk(t.width)/e.offsetWidth||1,r=dk(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=wk(t),s=pk(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==vk(t)||Vk(o))&&(a=function(e){return e!==ok(e)&&ak(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Fk(e);var t}(t)),ak(t)?((l=pk(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=zk(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function tC(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function nC(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var rC={placement:"bottom",modifiers:[],strategy:"absolute"};function iC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function oC(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?rC:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},rC,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:sk(e)?Wk(e):e.contextElement?Wk(e.contextElement):[],popper:Wk(t)};var u=function(e){var t=tC(e);return nk.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(iC(t,n)){i.rects={reference:eC(t,Sk(n),"fixed"===i.options.strategy),popper:mk(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:nC((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!iC(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var sC=oC({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Kk(t,{elementContext:"reference"}),a=Kk(t,{altBoundary:!0}),l=$k(s,r),c=$k(a,i,o),u=Zk(l),d=Zk(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Gk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Nk,Ak,Xk,Qk,Jk,Dk]}),aC=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},lC={name:"applyStyles",enabled:!1},cC={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,o=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){var s=i.getAttribute("aria-describedby");if(s&&-1!==s.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",s?s+","+r.id:r.id)}}},uC=[];const dC=function(e,t,r){var i=void 0===r?{}:r,o=i.enabled,s=void 0===o||o,a=i.placement,l=void 0===a?"bottom":a,c=i.strategy,u=void 0===c?"absolute":c,d=i.modifiers,h=void 0===d?uC:d,f=bE(i,["enabled","placement","strategy","modifiers"]),p=(0,n.useRef)(),m=(0,n.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),g=(0,n.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),v=rk((0,n.useState)({placement:l,update:m,forceUpdate:g,attributes:{},styles:{popper:aC(u),arrow:{}}})),y=v[0],b=v[1],w=(0,n.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),b({state:t,styles:n,attributes:r,update:m,forceUpdate:g,placement:t.placement})}}}),[m,g,b]);return(0,n.useEffect)((function(){p.current&&s&&p.current.setOptions({placement:l,strategy:u,modifiers:[].concat(h,[w,lC])})}),[u,l,w,s]),(0,n.useEffect)((function(){if(s&&null!=e&&null!=t)return p.current=sC(e,t,zE({},f,{placement:l,strategy:u,modifiers:[].concat(h,[cC,w])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,b((function(e){return zE({},e,{attributes:{},styles:{popper:aC(u)}})})))}}),[s,e,t]),y};var hC=!1,fC=!1;try{var pC={get passive(){return hC=!0},get once(){return fC=hC=!0}};Nx&&(window.addEventListener("test",pC,pC),window.removeEventListener("test",pC,!0))}catch(KP){}const mC=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!fC){var i=r.once,o=r.capture,s=n;!fC&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,hC?r:o)}e.addEventListener(t,n,r)};const gC=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const vC=function(e,t,n,r){return mC(e,t,n,r),function(){gC(e,t,n,r)}};const yC=function(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e}),[e]),t};function bC(e){const t=yC(e);return(0,n.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}var wC=__webpack_require__(568),_C=__webpack_require__.n(wC);const EC=function(e){return vx(function(e){return e&&"setState"in e?o.findDOMNode(e):null!=e?e:null}(e))};var SC=function(){};var xC=function(e){return e&&("current"in e?e.current:e)};const kC=function(e,t,r){var i=void 0===r?{}:r,o=i.disabled,s=i.clickTrigger,a=void 0===s?"click":s,l=(0,n.useRef)(!1),c=t||SC,u=(0,n.useCallback)((function(t){var n,r,i=xC(e);_C()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!i||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!xx(i,null!=(n=null==t.composedPath?void 0:t.composedPath()[0])?n:t.target)}),[e]),d=bC((function(e){l.current||c(e)})),h=bC((function(e){27===e.keyCode&&c(e)}));(0,n.useEffect)((function(){if(!o&&null!=e){var t=window.event,n=EC(xC(e)),r=vC(n,a,u,!0),i=vC(n,a,(function(e){e!==t?d(e):t=void 0})),s=vC(n,"keyup",(function(e){e!==t?h(e):t=void 0})),l=[];return"ontouchstart"in n.documentElement&&(l=[].slice.call(n.body.children).map((function(e){return vC(e,"mousemove",SC)}))),function(){r(),i(),s(),l.forEach((function(e){return e()}))}}}),[e,o,a,u,d,h])};var CC=function(e){var t;return"undefined"===typeof document?null:null==e?vx().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function TC(e,t){var r=(0,n.useState)((function(){return CC(e)})),i=r[0],o=r[1];if(!i){var s=CC(e);s&&o(s)}return(0,n.useEffect)((function(){t&&i&&t(i)}),[t,i]),(0,n.useEffect)((function(){var t=CC(e);t!==i&&o(t)}),[e,i]),i}function DC(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function LC(e){var t,n,r,i,o=e.enabled,s=e.enableEvents,a=e.placement,l=e.flip,c=e.offset,u=e.fixed,d=e.containerPadding,h=e.arrowElement,f=e.popperConfig,p=void 0===f?{}:f,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return zE({},p,{placement:a,enabled:o,strategy:u?"fixed":p.strategy,modifiers:DC(zE({},m,{eventListeners:{enabled:s},preventOverflow:zE({},m.preventOverflow,{options:d?zE({padding:d},null==(t=m.preventOverflow)?void 0:t.options):null==(n=m.preventOverflow)?void 0:n.options}),offset:{options:zE({offset:c},null==(r=m.offset)?void 0:r.options)},arrow:zE({},m.arrow,{enabled:!!h,options:zE({},null==(i=m.arrow)?void 0:i.options,{element:h})}),flip:zE({enabled:!!l},m.flip)}))})}var IC=n.forwardRef((function(e,t){var r=e.flip,i=e.offset,s=e.placement,a=e.containerPadding,l=void 0===a?5:a,c=e.popperConfig,u=void 0===c?{}:c,d=e.transition,h=Fx(),f=h[0],p=h[1],m=Fx(),g=m[0],v=m[1],y=Vx(p,t),b=TC(e.container),w=TC(e.target),_=(0,n.useState)(!e.show),E=_[0],S=_[1],x=dC(w,f,LC({placement:s,enableEvents:!!e.show,containerPadding:l||5,flip:r,offset:i,arrowElement:g,popperConfig:u})),k=x.styles,C=x.attributes,T=bE(x,["styles","attributes"]);e.show?E&&S(!1):e.transition||E||S(!0);var D=e.show||d&&!E;if(kC(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!D)return null;var L=e.children(zE({},T,{show:!!e.show,props:zE({},C.popper,{style:k.popper,ref:y}),arrowProps:zE({},C.arrow,{style:k.arrow,ref:v})}));if(d){var I=e.onExit,O=e.onExiting,N=e.onEnter,M=e.onEntering,A=e.onEntered;L=n.createElement(d,{in:e.show,appear:!0,onExit:I,onExiting:O,onExited:function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:N,onEntering:M,onEntered:A},L)}return b?o.createPortal(L,b):null}));IC.displayName="Overlay",IC.propTypes={show:GE().bool,placement:GE().oneOf(tk),target:GE().any,container:GE().any,flip:GE().bool,children:GE().func.isRequired,containerPadding:GE().number,popperConfig:GE().object,rootClose:GE().bool,rootCloseEvent:GE().oneOf(["click","mousedown"]),rootCloseDisabled:GE().bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return e.rootClose?(i=GE().func).isRequired.apply(i,[e].concat(n)):GE().func.apply(GE(),[e].concat(n))},transition:GE().elementType,onEnter:GE().func,onEntering:GE().func,onEntered:GE().func,onExit:GE().func,onExiting:GE().func,onExited:GE().func};const OC=IC;const NC=function(){this.__data__=[],this.size=0};const MC=function(e,t){for(var n=e.length;n--;)if(MS(e[n][0],t))return n;return-1};var AC=Array.prototype.splice;const PC=function(e){var t=this.__data__,n=MC(t,e);return!(n<0)&&(n==t.length-1?t.pop():AC.call(t,n,1),--this.size,!0)};const RC=function(e){var t=this.__data__,n=MC(t,e);return n<0?void 0:t[n][1]};const jC=function(e){return MC(this.__data__,e)>-1};const UC=function(e,t){var n=this.__data__,r=MC(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function FC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}FC.prototype.clear=NC,FC.prototype.delete=PC,FC.prototype.get=RC,FC.prototype.has=jC,FC.prototype.set=UC;const zC=FC;const VC=function(){this.__data__=new zC,this.size=0};const BC=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const WC=function(e){return this.__data__.get(e)};const qC=function(e){return this.__data__.has(e)};const HC=RS["__core-js_shared__"];var YC=function(){var e=/[^.]+$/.exec(HC&&HC.keys&&HC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const GC=function(e){return!!YC&&YC in e};var KC=Function.prototype.toString;const QC=function(e){if(null!=e){try{return KC.call(e)}catch(KP){}try{return e+""}catch(KP){}}return""};var $C=/^\[object .+?Constructor\]$/,ZC=Function.prototype,XC=Object.prototype,JC=ZC.toString,eT=XC.hasOwnProperty,tT=RegExp("^"+JC.call(eT).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const nT=function(e){return!(!GS(e)||GC(e))&&(KS(e)?tT:$C).test(QC(e))};const rT=function(e,t){return null==e?void 0:e[t]};const iT=function(e,t){var n=rT(e,t);return nT(n)?n:void 0};const oT=iT(RS,"Map");const sT=iT(Object,"create");const aT=function(){this.__data__=sT?sT(null):{},this.size=0};const lT=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var cT=Object.prototype.hasOwnProperty;const uT=function(e){var t=this.__data__;if(sT){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return cT.call(t,e)?t[e]:void 0};var dT=Object.prototype.hasOwnProperty;const hT=function(e){var t=this.__data__;return sT?void 0!==t[e]:dT.call(t,e)};const fT=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sT&&void 0===t?"__lodash_hash_undefined__":t,this};function pT(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pT.prototype.clear=aT,pT.prototype.delete=lT,pT.prototype.get=uT,pT.prototype.has=hT,pT.prototype.set=fT;const mT=pT;const gT=function(){this.size=0,this.__data__={hash:new mT,map:new(oT||zC),string:new mT}};const vT=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const yT=function(e,t){var n=e.__data__;return vT(t)?n["string"==typeof t?"string":"hash"]:n.map};const bT=function(e){var t=yT(this,e).delete(e);return this.size-=t?1:0,t};const wT=function(e){return yT(this,e).get(e)};const _T=function(e){return yT(this,e).has(e)};const ET=function(e,t){var n=yT(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ST(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ST.prototype.clear=gT,ST.prototype.delete=bT,ST.prototype.get=wT,ST.prototype.has=_T,ST.prototype.set=ET;const xT=ST;const kT=function(e,t){var n=this.__data__;if(n instanceof zC){var r=n.__data__;if(!oT||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xT(r)}return n.set(e,t),this.size=n.size,this};function CT(e){var t=this.__data__=new zC(e);this.size=t.size}CT.prototype.clear=VC,CT.prototype.delete=BC,CT.prototype.get=WC,CT.prototype.has=qC,CT.prototype.set=kT;const TT=CT;const DT=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const LT=function(e){return this.__data__.has(e)};function IT(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new xT;++t<n;)this.add(e[t])}IT.prototype.add=IT.prototype.push=DT,IT.prototype.has=LT;const OT=IT;const NT=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const MT=function(e,t){return e.has(t)};const AT=function(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new OT:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],m=t[d];if(r)var g=s?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!NT(t,(function(e,t){if(!MT(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};const PT=RS.Uint8Array;const RT=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const jT=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var UT=jS?jS.prototype:void 0,FT=UT?UT.valueOf:void 0;const zT=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new PT(e),new PT(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return MS(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=RT;case"[object Set]":var l=1&r;if(a||(a=jT),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=AT(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(FT)return FT.call(e)==FT.call(t)}return!1};const VT=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const BT=Array.isArray;const WT=function(e,t,n){var r=t(e);return BT(e)?r:VT(r,n(e))};const qT=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};const HT=function(){return[]};var YT=Object.prototype.propertyIsEnumerable,GT=Object.getOwnPropertySymbols;const KT=GT?function(e){return null==e?[]:(e=Object(e),qT(GT(e),(function(t){return YT.call(e,t)})))}:HT;const QT=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const $T=function(e){return ix(e)&&"[object Arguments]"==YS(e)};var ZT=Object.prototype,XT=ZT.hasOwnProperty,JT=ZT.propertyIsEnumerable;const eD=$T(function(){return arguments}())?$T:function(e){return ix(e)&&XT.call(e,"callee")&&!JT.call(e,"callee")};const tD=function(){return!1};var nD="object"==typeof exports&&exports&&!exports.nodeType&&exports,rD=nD&&"object"==typeof module&&module&&!module.nodeType&&module,iD=rD&&rD.exports===nD?RS.Buffer:void 0;const oD=(iD?iD.isBuffer:void 0)||tD;var sD={};sD["[object Float32Array]"]=sD["[object Float64Array]"]=sD["[object Int8Array]"]=sD["[object Int16Array]"]=sD["[object Int32Array]"]=sD["[object Uint8Array]"]=sD["[object Uint8ClampedArray]"]=sD["[object Uint16Array]"]=sD["[object Uint32Array]"]=!0,sD["[object Arguments]"]=sD["[object Array]"]=sD["[object ArrayBuffer]"]=sD["[object Boolean]"]=sD["[object DataView]"]=sD["[object Date]"]=sD["[object Error]"]=sD["[object Function]"]=sD["[object Map]"]=sD["[object Number]"]=sD["[object Object]"]=sD["[object RegExp]"]=sD["[object Set]"]=sD["[object String]"]=sD["[object WeakMap]"]=!1;const aD=function(e){return ix(e)&&QS(e.length)&&!!sD[YS(e)]};const lD=function(e){return function(t){return e(t)}};var cD="object"==typeof exports&&exports&&!exports.nodeType&&exports,uD=cD&&"object"==typeof module&&module&&!module.nodeType&&module,dD=uD&&uD.exports===cD&&AS.process;const hD=function(){try{var e=uD&&uD.require&&uD.require("util").types;return e||dD&&dD.binding&&dD.binding("util")}catch(KP){}}();var fD=hD&&hD.isTypedArray;const pD=fD?lD(fD):aD;var mD=Object.prototype.hasOwnProperty;const gD=function(e,t){var n=BT(e),r=!n&&eD(e),i=!n&&!r&&oD(e),o=!n&&!r&&!i&&pD(e),s=n||r||i||o,a=s?QT(e.length,String):[],l=a.length;for(var c in e)!t&&!mD.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||XS(c,l))||a.push(c);return a};var vD=Object.prototype;const yD=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vD)};const bD=function(e,t){return function(n){return e(t(n))}};const wD=bD(Object.keys,Object);var _D=Object.prototype.hasOwnProperty;const ED=function(e){if(!yD(e))return wD(e);var t=[];for(var n in Object(e))_D.call(e,n)&&"constructor"!=n&&t.push(n);return t};const SD=function(e){return $S(e)?gD(e):ED(e)};const xD=function(e){return WT(e,SD,KT)};var kD=Object.prototype.hasOwnProperty;const CD=function(e,t,n,r,i,o){var s=1&n,a=xD(e),l=a.length;if(l!=xD(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:kD.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f};const TD=iT(RS,"DataView");const DD=iT(RS,"Promise");const LD=iT(RS,"Set");const ID=iT(RS,"WeakMap");var OD="[object Map]",ND="[object Promise]",MD="[object Set]",AD="[object WeakMap]",PD="[object DataView]",RD=QC(TD),jD=QC(oT),UD=QC(DD),FD=QC(LD),zD=QC(ID),VD=YS;(TD&&VD(new TD(new ArrayBuffer(1)))!=PD||oT&&VD(new oT)!=OD||DD&&VD(DD.resolve())!=ND||LD&&VD(new LD)!=MD||ID&&VD(new ID)!=AD)&&(VD=function(e){var t=YS(e),n="[object Object]"==t?e.constructor:void 0,r=n?QC(n):"";if(r)switch(r){case RD:return PD;case jD:return OD;case UD:return ND;case FD:return MD;case zD:return AD}return t});const BD=VD;var WD="[object Arguments]",qD="[object Array]",HD="[object Object]",YD=Object.prototype.hasOwnProperty;const GD=function(e,t,n,r,i,o){var s=BT(e),a=BT(t),l=s?qD:BD(e),c=a?qD:BD(t),u=(l=l==WD?HD:l)==HD,d=(c=c==WD?HD:c)==HD,h=l==c;if(h&&oD(e)){if(!oD(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new TT),s||pD(e)?AT(e,t,n,r,i,o):zT(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&YD.call(e,"__wrapped__"),p=d&&YD.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new TT),i(m,g,n,r,o)}}return!!h&&(o||(o=new TT),CD(e,t,n,r,i,o))};const KD=function e(t,n,r,i,o){return t===n||(null==t||null==n||!ix(t)&&!ix(n)?t!==t&&n!==n:GD(t,n,r,i,e,o))};const QD=function(e,t){return KD(e,t)};function $D(e,t){var n=kx(e);return n?n.innerHeight:t?e.clientHeight:Lx(e).height}var ZD,XD=Function.prototype.bind.call(Function.prototype.call,[].slice);function JD(e,t){if(!ZD){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;ZD=function(e,t){return r.call(e,t)}}return ZD(e,t)}function eL(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(JD(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}const tL=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const nL=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var d=new TT;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?KD(u,c,3,r,d):h))return!1}}return!0};const rL=function(e){return e===e&&!GS(e)};const iL=function(e){for(var t=SD(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,rL(i)]}return t};const oL=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const sL=function(e){var t=iL(e);return 1==t.length&&t[0][2]?oL(t[0][0],t[0][1]):function(n){return n===e||nL(n,e,t)}};var aL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lL=/^\w*$/;const cL=function(e,t){if(BT(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ox(e))||(lL.test(e)||!aL.test(e)||null!=t&&e in Object(t))};function uL(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(uL.Cache||xT),n}uL.Cache=xT;const dL=uL;const hL=function(e){var t=dL(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t};var fL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pL=/\\(\\)?/g;const mL=hL((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(fL,(function(e,n,r,i){t.push(r?i.replace(pL,"$1"):n||e)})),t}));const gL=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var vL=jS?jS.prototype:void 0,yL=vL?vL.toString:void 0;const bL=function e(t){if("string"==typeof t)return t;if(BT(t))return gL(t,e)+"";if(ox(t))return yL?yL.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};const wL=function(e){return null==e?"":bL(e)};const _L=function(e,t){return BT(e)?e:cL(e,t)?[e]:mL(wL(e))};const EL=function(e){if("string"==typeof e||ox(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};const SL=function(e,t){for(var n=0,r=(t=_L(t,e)).length;null!=e&&n<r;)e=e[EL(t[n++])];return n&&n==r?e:void 0};const xL=function(e,t,n){var r=null==e?void 0:SL(e,t);return void 0===r?n:r};const kL=function(e,t){return null!=e&&t in Object(e)};const CL=function(e,t,n){for(var r=-1,i=(t=_L(t,e)).length,o=!1;++r<i;){var s=EL(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&QS(i)&&XS(s,i)&&(BT(e)||eD(e))};const TL=function(e,t){return null!=e&&CL(e,t,kL)};const DL=function(e,t){return cL(e)&&rL(t)?oL(EL(e),t):function(n){var r=xL(n,e);return void 0===r&&r===t?TL(n,e):KD(t,r,3)}};const LL=function(e){return e};const IL=function(e){return function(t){return null==t?void 0:t[e]}};const OL=function(e){return function(t){return SL(t,e)}};const NL=function(e){return cL(e)?IL(EL(e)):OL(e)};const ML=function(e){return"function"==typeof e?e:null==e?LL:"object"==typeof e?BT(e)?DL(e[0],e[1]):sL(e):NL(e)};var AL=Math.max;const PL=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fx(n);return i<0&&(i=AL(r+i,0)),tL(e,ML(t,3),i)};var RL=Math.ceil,jL=Math.max;const UL=function(e,t,n,r){for(var i=-1,o=jL(RL((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s};const FL=function(e){return function(t,n,r){return r&&"number"!=typeof r&&JS(t,n,r)&&(n=r=void 0),t=hx(t),void 0===n?(n=t,t=0):n=hx(n),r=void 0===r?t<n?1:-1:hx(r),UL(t,n,r,e)}};const zL=FL();var VL=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function BL(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||VL(r)&&VL(i)))return!1;var r,i;return!0}function WL(e,t){void 0===t&&(t=BL);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}var qL=jS?jS.isConcatSpreadable:void 0;const HL=function(e){return BT(e)||eD(e)||!!(qL&&e&&e[qL])};const YL=function e(t,n,r,i,o){var s=-1,a=t.length;for(r||(r=HL),o||(o=[]);++s<a;){var l=t[s];n>0&&r(l)?n>1?e(l,n-1,r,i,o):VT(o,l):i||(o[o.length]=l)}return o};const GL=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}();const KL=function(e,t){return e&&GL(e,t,SD)};const QL=function(e,t){return function(n,r){if(null==n)return n;if(!$S(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}};const $L=QL(KL);const ZL=function(e,t){var n=-1,r=$S(e)?Array(e.length):[];return $L(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const XL=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};const JL=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=ox(e),s=void 0!==t,a=null===t,l=t===t,c=ox(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0};const eI=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=JL(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index};const tI=function(e,t,n){t=t.length?gL(t,(function(e){return BT(e)?function(t){return SL(t,1===e.length?e[0]:e)}:e})):[LL];var r=-1;t=gL(t,lD(ML));var i=ZL(e,(function(e,n,i){return{criteria:gL(t,(function(t){return t(e)})),index:++r,value:e}}));return XL(i,(function(e,t){return eI(e,t,n)}))};const nI=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var rI=Math.max;const iI=function(e,t,n){return t=rI(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=rI(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),nI(e,this,a)}};const oI=function(e){return function(){return e}};const sI=function(){try{var e=iT(Object,"defineProperty");return e({},"",{}),e}catch(KP){}}();const aI=sI?function(e,t){return sI(e,"toString",{configurable:!0,enumerable:!1,value:oI(t),writable:!0})}:LL;var lI=Date.now;const cI=function(e){var t=0,n=0;return function(){var r=lI(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const uI=cI(aI);const dI=function(e,t){return uI(iI(e,t,LL),e+"")};var hI=dI((function(e,t){if(null==e)return[];var n=t.length;return n>1&&JS(e,t[0],t[1])?t=[]:n>2&&JS(t[0],t[1],t[2])&&(t=[t[0]]),tI(e,YL(t,1),[])}));const fI=hI;var pI;function mI(e){if((!pI&&0!==pI||e)&&Nx){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),pI=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return pI}function gI(e,t){var n=kx(e);return n?n.innerWidth:t?e.clientWidth:Lx(e).width}function vI(e){return IE(e)||IS(e)||NE(e)||ME()}function yI(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const bI=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const wI=function(e,t,n){"__proto__"==t&&sI?sI(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var _I=Object.prototype.hasOwnProperty;const EI=function(e,t,n){var r=e[t];_I.call(e,t)&&MS(r,n)&&(void 0!==n||t in e)||wI(e,t,n)};const SI=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?wI(n,a,l):EI(n,a,l)}return n};const xI=function(e,t){return e&&SI(t,SD(t),e)};const kI=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var CI=Object.prototype.hasOwnProperty;const TI=function(e){if(!GS(e))return kI(e);var t=yD(e),n=[];for(var r in e)("constructor"!=r||!t&&CI.call(e,r))&&n.push(r);return n};const DI=function(e){return $S(e)?gD(e,!0):TI(e)};const LI=function(e,t){return e&&SI(t,DI(t),e)};var II="object"==typeof exports&&exports&&!exports.nodeType&&exports,OI=II&&"object"==typeof module&&module&&!module.nodeType&&module,NI=OI&&OI.exports===II?RS.Buffer:void 0,MI=NI?NI.allocUnsafe:void 0;const AI=function(e,t){if(t)return e.slice();var n=e.length,r=MI?MI(n):new e.constructor(n);return e.copy(r),r};const PI=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const RI=function(e,t){return SI(e,KT(e),t)};const jI=bD(Object.getPrototypeOf,Object);const UI=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)VT(t,KT(e)),e=jI(e);return t}:HT;const FI=function(e,t){return SI(e,UI(e),t)};const zI=function(e){return WT(e,DI,UI)};var VI=Object.prototype.hasOwnProperty;const BI=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&VI.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const WI=function(e){var t=new e.constructor(e.byteLength);return new PT(t).set(new PT(e)),t};const qI=function(e,t){var n=t?WI(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var HI=/\w*$/;const YI=function(e){var t=new e.constructor(e.source,HI.exec(e));return t.lastIndex=e.lastIndex,t};var GI=jS?jS.prototype:void 0,KI=GI?GI.valueOf:void 0;const QI=function(e){return KI?Object(KI.call(e)):{}};const $I=function(e,t){var n=t?WI(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const ZI=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return WI(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return qI(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return $I(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return YI(e);case"[object Symbol]":return QI(e)}};var XI=Object.create;const JI=function(){function e(){}return function(t){if(!GS(t))return{};if(XI)return XI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const eO=function(e){return"function"!=typeof e.constructor||yD(e)?{}:JI(jI(e))};const tO=function(e){return ix(e)&&"[object Map]"==BD(e)};var nO=hD&&hD.isMap;const rO=nO?lD(nO):tO;const iO=function(e){return ix(e)&&"[object Set]"==BD(e)};var oO=hD&&hD.isSet;const sO=oO?lD(oO):iO;var aO="[object Arguments]",lO="[object Function]",cO="[object Object]",uO={};uO[aO]=uO["[object Array]"]=uO["[object ArrayBuffer]"]=uO["[object DataView]"]=uO["[object Boolean]"]=uO["[object Date]"]=uO["[object Float32Array]"]=uO["[object Float64Array]"]=uO["[object Int8Array]"]=uO["[object Int16Array]"]=uO["[object Int32Array]"]=uO["[object Map]"]=uO["[object Number]"]=uO[cO]=uO["[object RegExp]"]=uO["[object Set]"]=uO["[object String]"]=uO["[object Symbol]"]=uO["[object Uint8Array]"]=uO["[object Uint8ClampedArray]"]=uO["[object Uint16Array]"]=uO["[object Uint32Array]"]=!0,uO["[object Error]"]=uO[lO]=uO["[object WeakMap]"]=!1;const dO=function e(t,n,r,i,o,s){var a,l=1&n,c=2&n,u=4&n;if(r&&(a=o?r(t,i,o,s):r(t)),void 0!==a)return a;if(!GS(t))return t;var d=BT(t);if(d){if(a=BI(t),!l)return PI(t,a)}else{var h=BD(t),f=h==lO||"[object GeneratorFunction]"==h;if(oD(t))return AI(t,l);if(h==cO||h==aO||f&&!o){if(a=c||f?{}:eO(t),!l)return c?FI(t,LI(a,t)):RI(t,xI(a,t))}else{if(!uO[h])return o?t:{};a=ZI(t,h,l)}}s||(s=new TT);var p=s.get(t);if(p)return p;s.set(t,a),sO(t)?t.forEach((function(i){a.add(e(i,n,r,i,t,s))})):rO(t)&&t.forEach((function(i,o){a.set(o,e(i,n,r,o,t,s))}));var m=d?void 0:(u?c?zI:xD:c?DI:SD)(t);return bI(m||t,(function(i,o){m&&(i=t[o=i]),EI(a,o,e(i,n,r,o,t,s))})),a};const hO=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const fO=function(e,t){return t.length<2?e:SL(e,NS(t,0,-1))};const pO=function(e,t){return t=_L(t,e),null==(e=fO(e,t))||delete e[EL(hO(t))]};var mO=Function.prototype,gO=Object.prototype,vO=mO.toString,yO=gO.hasOwnProperty,bO=vO.call(Object);const wO=function(e){if(!ix(e)||"[object Object]"!=YS(e))return!1;var t=jI(e);if(null===t)return!0;var n=yO.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&vO.call(n)==bO};const _O=function(e){return wO(e)?void 0:e};const EO=function(e){return(null==e?0:e.length)?YL(e,1):[]};const SO=function(e){return uI(iI(e,void 0,EO),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=gL(t,(function(t){return t=_L(t,e),r||(r=t.length>1),t})),SI(e,zI(e),n),r&&(n=dO(n,7,_O));for(var i=t.length;i--;)pO(n,t[i]);return n}));var xO=Object.prototype,kO=xO.hasOwnProperty;const CO=dI((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&JS(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=DI(o),a=-1,l=s.length;++a<l;){var c=s[a],u=e[c];(void 0===u||MS(u,xO[c])&&!kO.call(e,c))&&(e[c]=o[c])}return e}));const TO=function(e,t,n){var r=BT(e),i=r||oD(e)||pD(e);if(t=ML(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:GS(e)&&KS(o)?JI(jI(e)):{}}return(i?bI:KL)(e,(function(e,r,i){return t(n,e,r,i)})),n};const DO=function(e,t){var n={};return t=ML(t,3),KL(e,(function(e,r,i){wI(n,r,t(e,r,i))})),n};__webpack_require__(112),__webpack_require__(232),__webpack_require__(288),__webpack_require__(912),__webpack_require__(408),__webpack_require__(296),__webpack_require__(620);function LO(e){return e.children}var IO="PREV",OO="NEXT",NO="TODAY",MO="DATE",AO={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},PO=Object.keys(AO).map((function(e){return AO[e]}));function RO(e,t){e&&e.apply(null,[].concat(t))}GE().oneOfType([GE().string,GE().func]),GE().any,GE().func,GE().oneOfType([GE().arrayOf(GE().oneOf(PO)),GE().objectOf((function(e,t){if(-1!==PO.indexOf(t)&&"boolean"===typeof e[t])return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return GE().elementType.apply(GE(),[e,t].concat(r))}))]),GE().oneOfType([GE().oneOf(["overlap","no-overlap"]),GE().func]);var jO={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function UO(e,t){var n=cS(e,"month");return cS(n,"week",t.startOfWeek())}function FO(e,t){var n=uS(e,"month");return uS(n,"week",t.startOfWeek())}function zO(e,t){for(var n=UO(e,t),r=FO(e,t),i=[];gS(n,r,"day");)i.push(n),n=aS(n,1,"day");return i}function VO(e,t){var n=cS(e,t);return dS(n,e)?n:aS(n,1,t)}function BO(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,i=[];gS(r,t,n);)i.push(r),r=aS(r,1,n);return i}function WO(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=cS(e,"day"),e=SS(e,SS(t)),e=ES(e,ES(t)),e=_S(e,_S(t)),wS(e,wS(t)))}function qO(e){return 0===SS(e)&&0===ES(e)&&0===_S(e)&&0===wS(e)}function HO(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+cS(e,n)/jO[n]-+cS(t,n)/jO[n])):Math.abs(+e-+t)}var YO=GE().oneOfType([GE().string,GE().func]);function GO(e,t,n,r,i){var o="function"===typeof r?r(n,i,e):t.call(e,n,r,i);return RE()(null==o||"string"===typeof o,"`localizer format(..)` must return a string, null, or undefined"),o}function KO(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function QO(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function $O(e,t){return HO(e,t,"minutes")+QO(e,t)}function ZO(e){var t=cS(e,"day");return HO(t,e,"minutes")+QO(t,e)}function XO(e,t){return mS(e,t,"day")}function JO(e,t,n){return dS(e,t,"minutes")?pS(t,n,"minutes"):fS(t,n,"minutes")}function eN(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,o=e.evtB,s=o.start,a=o.end,l=o.allDay,c=+cS(n,"day")-+cS(s,"day"),u=HO(n,VO(r,"day"),"day"),d=HO(s,VO(a,"day"),"day");return c||Math.max(d,1)-Math.max(u,1)||!!l-!!i||+n-+s||+r-+a}function tN(e){var t=e.event,n=t.start,r=t.end,i=e.range,o=i.start,s=i.end,a=cS(n,"day"),l=gS(a,s,"day"),c=hS(a,r,"minutes")?fS(r,o,"minutes"):pS(r,o,"minutes");return l&&c}function nN(e,t){return dS(e,t,"day")}function rN(e,t){return qO(e)&&qO(t)}var iN=SE((function e(t){var n=this;_E(this,e),RE()("function"===typeof t.format,"date localizer `format(..)` must be a function"),RE()("function"===typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||YO,this.formats=t.formats,this.format=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return GO.apply(void 0,[n,t.format].concat(r))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||WO,this.inRange=t.inRange||bS,this.lt=t.lt||mS,this.lte=t.lte||gS,this.gt=t.gt||fS,this.gte=t.gte||pS,this.eq=t.eq||dS,this.neq=t.neq||hS,this.startOf=t.startOf||cS,this.endOf=t.endOf||uS,this.add=t.add||aS,this.range=t.range||BO,this.diff=t.diff||HO,this.ceil=t.ceil||VO,this.min=t.min||vS,this.max=t.max||yS,this.minutes=t.minutes||ES,this.firstVisibleDay=t.firstVisibleDay||UO,this.lastVisibleDay=t.lastVisibleDay||FO,this.visibleDays=t.visibleDays||zO,this.getSlotDate=t.getSlotDate||KO,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||QO,this.getTotalMin=t.getTotalMin||$O,this.getMinutesFromMidnight=t.getMinutesFromMidnight||ZO,this.continuesPrior=t.continuesPrior||XO,this.continuesAfter=t.continuesAfter||JO,this.sortEvents=t.sortEvents||eN,this.inEventRange=t.inEventRange||tN,this.isSameDate=t.isSameDate||nN,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||rN,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0}));function oN(e,t,n,r){var i=yE(yE({},e.formats),n);return yE(yE({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,i[r]||r,t)}})}var sN={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var aN=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],lN=function(e){kE(r,e);var t=LE(r);function r(){return _E(this,r),t.apply(this,arguments)}return SE(r,[{key:"render",value:function(){var e=this.props,t=e.style,r=e.className,i=e.event,o=e.selected,s=e.isAllDay,a=e.onSelect,l=e.onDoubleClick,c=e.onKeyPress,u=e.localizer,d=e.continuesPrior,h=e.continuesAfter,f=e.accessors,p=e.getters,m=e.children,g=e.components,v=g.event,y=g.eventWrapper,b=e.slotStart,w=e.slotEnd,_=wE(e,aN);delete _.resizable;var E=f.title(i),S=f.tooltip(i),x=f.end(i),k=f.start(i),C=f.allDay(i),T=s||C||u.diff(k,u.ceil(x,"day"),"day")>1,D=p.eventProp(i,k,x,o),L=n.createElement("div",{className:"rbc-event-content",title:S||void 0},v?n.createElement(v,{event:i,continuesPrior:d,continuesAfter:h,title:E,isAllDay:C,localizer:u,slotStart:b,slotEnd:w}):E);return n.createElement(y,Object.assign({},this.props,{type:"date"}),n.createElement("div",Object.assign({},_,{tabIndex:0,style:yE(yE({},D.style),t),className:HE("rbc-event",r,D.className,{"rbc-selected":o,"rbc-event-allday":T,"rbc-event-continues-prior":d,"rbc-event-continues-after":h}),onClick:function(e){return a&&a(i,e)},onDoubleClick:function(e){return l&&l(i,e)},onKeyPress:function(e){return c&&c(i,e)}}),"function"===typeof m?m(L):L))}}]),r}(n.Component);function cN(e,t){return!(!e||null==t)&&QD(e,t)}function uN(e,t){return(e.right-e.left)/t}function dN(e,t,n,r){var i=uN(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function hN(e){var t=e.containerRef,r=e.accessors,i=e.getters,o=e.selected,s=e.components,a=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,h=e.slotEnd,f=e.onSelect,p=e.onDoubleClick,m=e.onKeyPress,g=e.handleDragStart,v=e.popperRef,y=e.target,b=e.offset;!function(e){var t=e.ref,r=e.callback;(0,n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&r()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,r])}({ref:v,callback:c}),(0,n.useLayoutEffect)((function(){var e=function(e){var t=e.target,n=e.offset,r=e.container,i=e.box,o=Lx(t),s=o.top,a=o.left,l=o.width,c=o.height,u=Lx(r),d=u.top,h=u.left,f=u.width,p=u.height,m=Lx(i),g=m.width,v=m.height,y=d+p,b=h+f,w=s+v,_=a+g,E=n.x,S=n.y;return{topOffset:w>y?s-v-S:s+S+c,leftOffset:_>b?a+E-g+l:a+E}}({target:y,offset:b,container:t.current,box:v.current}),n=e.topOffset,r=e.leftOffset;v.current.style.top="".concat(n,"px"),v.current.style.left="".concat(r,"px")}),[b.x,b.y,y]);var w=l.width,_={minWidth:w+w/2};return n.createElement("div",{style:_,className:"rbc-overlay",ref:v},n.createElement("div",{className:"rbc-overlay-header"},a.format(d,"dayHeaderFormat")),u.map((function(e,t){return n.createElement(lN,{key:t,type:"popup",localizer:a,event:e,getters:i,onSelect:f,accessors:r,components:s,onDoubleClick:p,onKeyPress:m,continuesPrior:a.lt(r.end(e),d,"day"),continuesAfter:a.gte(r.start(e),h,"day"),slotStart:d,slotEnd:h,selected:cN(e,o),draggable:!0,onDragStart:function(){return g(e)},onDragEnd:function(){return c()}})})))}var fN=n.forwardRef((function(e,t){return n.createElement(hN,Object.assign({},e,{popperRef:t}))}));function pN(e){var t=e.containerRef,r=e.popupOffset,i=void 0===r?5:r,o=e.overlay,s=e.accessors,a=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,h=e.handleDoubleClickEvent,f=e.handleKeyPressEvent,p=e.handleDragStart,m=e.onHide,g=e.overlayDisplay,v=(0,n.useRef)(null);if(!o.position)return null;var y=i;isNaN(i)||(y={x:i,y:i});var b=o.position,w=o.events,_=o.date,E=o.end;return n.createElement(OC,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:o.target},(function(e){var r=e.props;return n.createElement(fN,Object.assign({},r,{containerRef:t,ref:v,target:o.target,offset:y,accessors:s,getters:c,selected:u,components:l,localizer:a,position:b,show:g,events:w,slotStart:_,slotEnd:E,onSelect:d,onDoubleClick:h,onKeyPress:f,handleDragStart:p}))}))}fN.propTypes={accessors:GE().object.isRequired,getters:GE().object.isRequired,selected:GE().object,components:GE().object.isRequired,localizer:GE().object.isRequired,position:GE().object.isRequired,show:GE().func.isRequired,events:GE().array.isRequired,slotStart:GE().instanceOf(Date).isRequired,slotEnd:GE().instanceOf(Date),onSelect:GE().func,onDoubleClick:GE().func,onKeyPress:GE().func,handleDragStart:GE().func,style:GE().object,offset:GE().shape({x:GE().number,y:GE().number})};var mN=n.forwardRef((function(e,t){return n.createElement(pN,Object.assign({},e,{containerRef:t}))}));function gN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return vC(n,e,t,{passive:!1})}function vN(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return eL(document.elementFromPoint(n,r),".rbc-event",e)}(e,t)}function yN(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return eL(document.elementFromPoint(n,r),".rbc-show-more",e)}(e,t)}function bN(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}mN.propTypes={popupOffset:GE().oneOfType([GE().number,GE().shape({x:GE().number,y:GE().number})]),overlay:GE().shape({position:GE().object,events:GE().array,date:GE().instanceOf(Date),end:GE().instanceOf(Date)}),accessors:GE().object.isRequired,localizer:GE().object.isRequired,components:GE().object.isRequired,getters:GE().object.isRequired,selected:GE().object,handleSelectEvent:GE().func,handleDoubleClickEvent:GE().func,handleKeyPressEvent:GE().func,handleDragStart:GE().func,onHide:GE().func,overlayDisplay:GE().func};var wN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.global,i=void 0!==r&&r,o=n.longPressThreshold,s=void 0===o?250:o,a=n.validContainers,l=void 0===a?[]:a;_E(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=gN("touchmove",(function(){}),window),this._removeKeyDownListener=gN("keydown",this._keyListener),this._removeKeyUpListener=gN("keyup",this._keyListener),this._removeDropFromOutsideListener=gN("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=gN("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return SE(e,[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return(this._listeners[e]||[]).forEach((function(e){void 0===i&&(i=e.apply(void 0,n))})),i}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&_N(t,EN(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,i=null,o=null,s=function(t){r=setTimeout((function(){l(),e(t)}),n.longPressThreshold),i=gN("touchmove",(function(){return l()})),o=gN("touchend",(function(){return l()}))},a=gN("touchstart",s),l=function(){r&&clearTimeout(r),i&&i(),o&&o(),r=null,i=null,o=null};return t&&s(t),function(){l(),a()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=gN("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=gN("mousedown",e._handleInitialEvent)})),n=gN("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=bN(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=bN(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(!this.isDetached){var t,n=bN(e),r=n.clientX,i=n.clientY,o=n.pageX,s=n.pageY,a=this.container();if(3!==e.which&&2!==e.button&&function(e,t,n){return!e||xx(e,document.elementFromPoint(t,n))}(a,r,i)){if(!this.globalMouse&&a&&!xx(a,e.target)){var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==pE(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),c=l.top,u=l.left,d=l.bottom,h=l.right;if(!_N({top:(t=EN(a)).top-c,left:t.left-u,bottom:t.bottom+d,right:t.right+h},{top:s,left:o}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:o,y:s,clientX:r,clientY:i}))switch(e.type){case"mousedown":this._removeEndListener=gN("mouseup",this._handleTerminatingEvent),this._onEscListener=gN("keydown",this._handleTerminatingEvent),this._removeMoveListener=gN("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=gN("touchend",this._handleTerminatingEvent),this._removeMoveListener=gN("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some((function(e){return!!t.closest(e)}))}},{key:"_handleTerminatingEvent",value:function(e){var t=bN(e),n=t.pageX,r=t.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._initialEventData){var i=!this.container||xx(this.container(),e.target),o=this._isWithinValidContainer(e),s=this._selectRect,a=this.isClick(n,r);return this._initialEventData=null,"Escape"!==e.key&&o?a&&i?this._handleClickEvent(e):a?this.emit("reset"):this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=bN(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY,s=(new Date).getTime();return this._lastClickData&&s-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:i,clientY:o})):(this._lastClickData={timestamp:s},this.emit("click",{x:n,y:r,clientX:i,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,i=bN(e),o=i.pageX,s=i.pageY,a=Math.abs(n-o),l=Math.abs(r-s),c=Math.min(o,n),u=Math.min(s,r),d=this.selecting;(!this.isClick(o,s)||d||a||l)&&(this.selecting=!0,this._selectRect={top:u,left:c,x:o,y:s,right:c+a,bottom:u+l},d||this.emit("selectStart",this._initialEventData),this.isClick(o,s)||this.emit("selecting",this._selectRect),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,i=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-i)<=5}}]),e}();function _N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=EN(e),i=r.top,o=r.left,s=r.right,a=void 0===s?o:s,l=r.bottom,c=void 0===l?i:l,u=EN(t),d=u.top,h=u.left,f=u.right,p=void 0===f?h:f,m=u.bottom;return!(c-n<d||i+n>(void 0===m?d:m)||a-n<h||o+n>p)}function EN(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+SN("left"),r=t.top+SN("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function SN(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var xN=function(e){kE(r,e);var t=LE(r);function r(e,i){var o;return _E(this,r),(o=t.call(this,e,i)).state={selecting:!1},o.containerRef=(0,n.createRef)(),o}return SE(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,r=e.getNow,i=e.getters,o=e.date,s=e.components.dateCellWrapper,a=e.localizer,l=this.state,c=l.selecting,u=l.startIdx,d=l.endIdx,h=r();return n.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map((function(e,r){var l=c&&r>=u&&r<=d,f=i.dayProp(e),p=f.className,m=f.style;return n.createElement(s,{key:r,value:e,range:t},n.createElement("div",{style:m,className:HE("rbc-day-bg",p,l&&"rbc-selected-cell",a.isSameDate(e,h)&&"rbc-today",o&&a.neq(o,e,"month")&&"rbc-off-range-bg")}))})))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,n=this._selector=new wN(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!vN(t,n)&&!yN(t,n)){var i=EN(t),o=e.props,s=o.range,a=o.rtl;if(function(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}(i,n)){var l=dN(i,n.x,a,s.length);e._selectSlot({startIdx:l,endIdx:l,action:r,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("selecting",(function(r){var i=e.props,o=i.range,s=i.rtl,a=-1,l=-1;if(e.state.selecting||(RO(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var c=EN(t),u=function(e,t,n,r,i){var o=-1,s=-1,a=r-1,l=uN(t,r),c=dN(t,n.x,i,r),u=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,f=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(o=0,s=a),u&&(f?(o=0,s=c):h&&(o=c,s=a)),d&&(o=s=i?a-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<o?o=c:s=c:e.y<n.y?s=a:o=0),{startIdx:o,endIdx:s}}(e._initial,c,r,o.length,s);a=u.startIdx,l=u.endIdx}e.setState({selecting:!0,startIdx:a,endIdx:l})})),n.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!vN(e.containerRef.current,t)})),n.on("click",(function(e){return r(e,"click")})),n.on("doubleClick",(function(e){return r(e,"doubleClick")})),n.on("select",(function(t){e._selectSlot(yE(yE({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),RO(e.props.onSelectEnd,[e.state])}))}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,r=e.action,i=e.bounds,o=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:i,box:o,resourceId:this.props.resourceId})}}]),r}(n.Component),kN=(GE().object.isRequired,GE().object,GE().bool,GE().object.isRequired,GE().object.isRequired,GE().object.isRequired,GE().object.isRequired,GE().func,GE().func,GE().func,{segments:[],selected:{}}),CN=function(e,t){var r=e.selected;e.isAllDay;var i=e.accessors,o=e.getters,s=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,u=e.slotMetrics,d=e.components,h=e.resizable,f=u.continuesPrior(t),p=u.continuesAfter(t);return n.createElement(lN,{event:t,getters:o,localizer:c,accessors:i,components:d,onSelect:s,onDoubleClick:a,onKeyPress:l,continuesPrior:f,continuesAfter:p,slotStart:u.first,slotEnd:u.last,selected:cN(t,r),resizable:h})},TN=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",o=Math.abs(t)/e*100+"%";return n.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)},DN=function(e){kE(r,e);var t=LE(r);function r(){return _E(this,r),t.apply(this,arguments)}return SE(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.segments,i=t.slotMetrics.slots,o=t.className,s=1;return n.createElement("div",{className:HE(o,"rbc-row")},r.reduce((function(t,n,r){var o=n.event,a=n.left,l=n.right,c=n.span,u="_lvl_"+r,d=a-s,h=CN(e.props,o);return d&&t.push(TN(i,d,"".concat(u,"_gap"))),t.push(TN(i,c,u,h)),s=l+1,t}),[]))}}]),r}(n.Component);function LN(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function IN(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=[],s=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<o.length&&NN(r,o[n]);n++);n>=i?s.push(r):(o[n]||(o[n]=[])).push(r)}for(t=0;t<o.length;t++)o[t].sort((function(e,t){return e.left-t.left}));return{levels:o,extra:s}}function ON(e,t,n,r,i){var o={start:r.start(e),end:r.end(e)},s={start:t,end:n};return i.inEventRange({event:o,range:s})}function NN(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function MN(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},o={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:o})}DN.defaultProps=yE({},kN);var AN=function(e,t){return e.left<=t&&e.right>=t},PN=function(e,t){return e.filter((function(e){return AN(e,t)})).map((function(e){return e.event}))},RN=function(e){kE(r,e);var t=LE(r);function r(){return _E(this,r),t.apply(this,arguments)}return SE(r,[{key:"render",value:function(){for(var e=this.props,t=e.segments,r=e.slotMetrics.slots,i=IN(t).levels[0],o=1,s=1,a=[];o<=r;){var l="_lvl_"+o,c=i.filter((function(e){return AN(e,o)}))[0]||{},u=c.event,d=c.left,h=c.right,f=c.span;if(u){var p=Math.max(0,d-s);if(this.canRenderSlotEvent(d,f)){var m=CN(this.props,u);p&&a.push(TN(r,p,l+"_gap")),a.push(TN(r,f,l,m)),s=o=h+1}else p&&a.push(TN(r,p,l+"_gap")),a.push(TN(r,1,l,this.renderShowMore(t,o))),s=o+=1}else o++}return n.createElement("div",{className:"rbc-row"},a)}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return zL(e,e+t).every((function(e){return 1===PN(n,e).length}))}},{key:"renderShowMore",value:function(e,t){var r=this,i=this.props,o=i.localizer,s=i.slotMetrics.getEventsForSlot(t),a=PN(e,t),l=a.length;return!!l&&n.createElement("button",{type:"button",key:"sm_"+t,className:HE("rbc-button-link","rbc-show-more"),onClick:function(e){return r.showMore(t,e)}},o.messages.showMore(l,a,s))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}]),r}(n.Component);RN.defaultProps=yE({},kN);var jN=function(e){var t=e.children;return n.createElement("div",{className:"rbc-row-content-scroll-container"},t)},UN=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function FN(){return WL((function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,o=e.accessors,s=e.localizer,a=LN({dateRange:t,localizer:s}),l=a.first,c=a.last,u=n.map((function(e){return function(e,t,n,r){var i=LN({dateRange:t,localizer:r}),o=i.first,s=i.last,a=r.diff(o,s,"day"),l=r.max(r.startOf(n.start(e),"day"),o),c=r.min(r.ceil(n.end(e),"day"),s),u=PL(t,(function(e){return r.isSameDate(e,l)})),d=r.diff(l,c,"day");return d=Math.min(d,a),{event:e,span:d=Math.max(d-r.segmentOffset,1),left:u+1,right:Math.max(u+d,1)}}(e,t,o,s)})),d=IN(u,Math.max(r-1,1)),h=d.levels,f=d.extra,p=f.length>0?i-1:i;h.length<p;)h.push([]);return{first:l,last:c,levels:h,extra:f,range:t,slots:t.length,clone:function(t){return FN()(yE(yE({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return s.isSameDate(t,e)}))},getEventsForSlot:function(e){return u.filter((function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return s.continuesPrior(o.start(e),l)},continuesAfter:function(e){var t=o.start(e),n=o.end(e);return s.continuesAfter(t,n,c)}}}),UN)}var zN=function(e){kE(r,e);var t=LE(r);function r(){var e;_E(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).handleSelectSlot=function(t){var n=e.props,r=n.range;(0,n.onSelectSlot)(r.slice(t.start,t.end+1),t)},e.handleShowMore=function(t,n){var r,i,o,s=e.props,a=s.range,l=s.onShowMore,c=e.slotMetrics(e.props),u=(r=e.containerRef.current,i=".rbc-row-bg",XD(r.querySelectorAll(i)))[0];u&&(o=u.children[t-1]),l(c.getEventsForSlot(t),a[t-1],o,t,n)},e.getContainer=function(){var t=e.props.container;return t?t():e.containerRef.current},e.renderHeadingCell=function(t,n){var r=e.props,i=r.renderHeader,o=r.getNow,s=r.localizer;return i({date:t,key:"header_".concat(n),className:HE("rbc-date-cell",s.isSameDate(t,o())&&"rbc-now")})},e.renderDummy=function(){var t=e.props,r=t.className,i=t.range,o=t.renderHeader,s=t.showAllEvents;return n.createElement("div",{className:r,ref:e.containerRef},n.createElement("div",{className:HE("rbc-row-content",s&&"rbc-row-content-scrollable")},o&&n.createElement("div",{className:"rbc-row",ref:e.headingRowRef},i.map(e.renderHeadingCell)),n.createElement("div",{className:"rbc-row",ref:e.eventRowRef},n.createElement("div",{className:"rbc-row-segment"},n.createElement("div",{className:"rbc-event"},n.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},e.containerRef=(0,n.createRef)(),e.headingRowRef=(0,n.createRef)(),e.eventRowRef=(0,n.createRef)(),e.slotMetrics=FN(),e}return SE(r,[{key:"getRowLimit",value:function(){var e,t=$D(this.eventRowRef.current),n=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?$D(this.headingRowRef.current):0,r=$D(this.containerRef.current)-n;return Math.max(Math.floor(r/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.rtl,i=e.range,o=e.className,s=e.selected,a=e.selectable,l=e.renderForMeasure,c=e.accessors,u=e.getters,d=e.components,h=e.getNow,f=e.renderHeader,p=e.onSelect,m=e.localizer,g=e.onSelectStart,v=e.onSelectEnd,y=e.onDoubleClick,b=e.onKeyPress,w=e.resourceId,_=e.longPressThreshold,E=e.isAllDay,S=e.resizable,x=e.showAllEvents;if(l)return this.renderDummy();var k=this.slotMetrics(this.props),C=k.levels,T=k.extra,D=x?jN:LO,L=d.weekWrapper,I={selected:s,accessors:c,getters:u,localizer:m,components:d,onSelect:p,onDoubleClick:y,onKeyPress:b,resourceId:w,slotMetrics:k,resizable:S};return n.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},n.createElement(xN,{localizer:m,date:t,getNow:h,rtl:r,range:i,selectable:a,container:this.getContainer,getters:u,onSelectStart:g,onSelectEnd:v,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:_,resourceId:w}),n.createElement("div",{className:HE("rbc-row-content",x&&"rbc-row-content-scrollable"),role:"row"},f&&n.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),n.createElement(D,null,n.createElement(L,Object.assign({isAllDay:E},I,{rtl:this.props.rtl}),C.map((function(e,t){return n.createElement(DN,Object.assign({key:t,segments:e},I))})),!!T.length&&n.createElement(RN,Object.assign({segments:T,onShowMore:this.handleShowMore},I))))))}}]),r}(n.Component);zN.defaultProps={minRows:0,maxRows:1/0};var VN=function(e){var t=e.label;return n.createElement("span",{role:"columnheader","aria-sort":"none"},t)},BN=function(e){var t=e.label,r=e.drilldownView,i=e.onDrillDown;return r?n.createElement("button",{type:"button",className:"rbc-button-link",onClick:i,role:"cell"},t):n.createElement("span",null,t)},WN=["date","className"],qN=function(e){kE(r,e);var t=LE(r);function r(){var e;_E(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).getContainer=function(){return e.containerRef.current},e.renderWeek=function(t,r){var i=e.props,o=i.events,s=i.components,a=i.selectable,l=i.getNow,c=i.selected,u=i.date,d=i.localizer,h=i.longPressThreshold,f=i.accessors,p=i.getters,m=i.showAllEvents,g=e.state,v=g.needLimitMeasure,y=g.rowLimit,b=function(e,t,n,r,i){return e.filter((function(e){return ON(e,t,n,r,i)}))}(OS(o),t[0],t[t.length-1],f,d);return b.sort((function(e,t){return MN(e,t,f,d)})),n.createElement(zN,{key:r,ref:0===r?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:l,date:u,range:t,events:b,maxRows:m?1/0:y,selected:c,selectable:a,components:s,accessors:f,getters:p,localizer:d,renderHeader:e.readerDateHeading,renderForMeasure:v,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:h,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:m})},e.readerDateHeading=function(t){var r=t.date,i=t.className,o=wE(t,WN),s=e.props,a=s.date,l=s.getDrilldownView,c=s.localizer,u=c.neq(r,a,"month"),d=c.isSameDate(r,a),h=l(r),f=c.format(r,"dateFormat"),p=e.props.components.dateHeader||BN;return n.createElement("div",Object.assign({},o,{className:HE(i,u&&"rbc-off-range",d&&"rbc-current"),role:"cell"}),n.createElement(p,{label:f,date:r,drilldownView:h,isOffRange:u,onDrillDown:function(t){return e.handleHeadingClick(r,h,t)}}))},e.handleSelectSlot=function(t,n){e._pendingSelection=e._pendingSelection.concat(t),clearTimeout(e._selectTimer),e._selectTimer=setTimeout((function(){return e.selectDates(n)}))},e.handleHeadingClick=function(t,n,r){r.preventDefault(),e.clearSelection(),RO(e.props.onDrillDown,[t,n])},e.handleSelectEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onKeyPressEvent,n)},e.handleShowMore=function(t,n,r,i,o){var s=e.props,a=s.popup,l=s.onDrillDown,c=s.onShowMore,u=s.getDrilldownView,d=s.doShowMoreDrillDown;if(e.clearSelection(),a){var h=Ox(r,e.containerRef.current);e.setState({overlay:{date:n,events:t,position:h,target:o}})}else d&&RO(l,[n,u(n)||AO.DAY]);RO(c,[t,n,i])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=(0,n.createRef)(),e.slotRowRef=(0,n.createRef)(),e._bgRows=[],e._pendingSelection=[],e}return SE(r,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||Ux((function(){e=!1,t.setState({needLimitMeasure:!0})}))},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.localizer,i=e.className,o=r.visibleDays(t,r),s=gx(o,7);return this._weekCount=s.length,n.createElement("div",{className:HE("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},n.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(s[0])),s.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,r=t.localizer,i=t.components,o=e[0],s=e[e.length-1],a=i.header||VN;return r.range(o,s,"day").map((function(e,t){return n.createElement("div",{key:"header_"+t,className:"rbc-header"},n.createElement(a,{date:e,localizer:r,label:r.format(e,"weekdayFormat")}))}))}},{key:"renderOverlay",value:function(){var e,t,r=this,i=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},o=this.props,s=o.accessors,a=o.localizer,l=o.components,c=o.getters,u=o.selected,d=o.popupOffset,h=o.handleDragStart;return n.createElement(mN,{overlay:i,accessors:s,localizer:a,components:l,getters:c,selected:u,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort((function(e,t){return+e-+t}));var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),RO(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.date;return{date:n,needLimitMeasure:e.localizer.neq(n,t.date,"month")}}}]),r}(n.Component);qN.range=function(e,t){var n=t.localizer;return{start:n.firstVisibleDay(e,n),end:n.lastVisibleDay(e,n)}},qN.navigate=function(e,t,n){var r=n.localizer;switch(t){case IO:return r.add(e,-1,"month");case OO:return r.add(e,1,"month");default:return e}},qN.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var HN=function(e){var t=e.min,n=e.max,r=e.step,i=e.slots,o=e.localizer;return"".concat(+o.startOf(t,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(r,"-").concat(i)};function YN(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,o=e.localizer,s=HN({start:t,end:n,step:r,timeslots:i,localizer:o}),a=1+o.getTotalMin(t,n),l=o.getMinutesFromMidnight(t),c=Math.ceil((a-1)/(r*i)),u=c*i,d=new Array(c),h=new Array(u),f=0;f<c;f++){d[f]=new Array(i);for(var p=0;p<i;p++){var m=f*i+p,g=m*r;h[m]=d[f][p]=o.getSlotDate(t,l,g)}}var v=h.length*r;function y(e){var n=o.diff(t,e,"minutes")+o.getDstOffset(t,e);return Math.min(n,a)}return h.push(o.getSlotDate(t,l,v)),{groups:d,update:function(e){return HN(e)!==s?YN(e):this},dateIsInGroup:function(e,t){var r=d[t+1];return o.inRange(e,d[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=h[Math.min(h.indexOf(e)+1,h.length-1)];return t===e&&(t=o.add(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(h.length-1,Math.max(0,Math.floor(e*u)));return h[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o.lt(e,t,"minutes"))return h[0];if(o.gt(e,n,"minutes"))return h[h.length-1];var s=o.diff(t,e,"minutes");return h[(s-s%r)/r+i]},startsBeforeDay:function(e){return o.lt(e,t,"day")},startsAfterDay:function(e){return o.gt(e,n,"day")},startsBefore:function(e){return o.lt(o.merge(t,e),t,"minutes")},startsAfter:function(e){return o.gt(o.merge(n,e),n,"minutes")},getRange:function(e,i,s,a){s||(e=o.min(n,o.max(t,e))),a||(i=o.min(n,o.max(t,i)));var l=y(e),c=y(i),d=c>r*u&&!o.eq(n,i)?(l-r)/(r*u)*100:l/(r*u)*100;return{top:d,height:c/(r*u)*100-d,start:y(e),startDate:e,end:y(i),endDate:i}},getCurrentTimePosition:function(e){return y(e)/(r*u)*100}}}var GN=function(){function e(t,n){var r=n.accessors,i=n.slotMetrics;_E(this,e);var o=i.getRange(r.start(t),r.end(t)),s=o.start,a=o.startDate,l=o.end,c=o.endDate,u=o.top,d=o.height;this.start=s,this.end=l,this.startMs=+a,this.endMs=+c,this.top=u,this.height=d,this.data=t}return SE(e,[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce((function(e,t){return Math.max(e,t.leaves.length+1)}),0)+1;return 100/e}return this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}]),e}();function KN(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function QN(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,o=function(e){for(var t=fI(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var o=t[i];if(!(r.endMs>o.startMs)){if(i>0){var s=t.splice(i,1)[0];n.push(s)}break}}}return n}(t.map((function(e){return new GN(e,{slotMetrics:r,accessors:i})}))),s=[],a=function(){var e=o[l],t=s.find((function(t){return t.end>e.start||Math.abs(e.start-t.start)<n}));if(!t)return e.rows=[],s.push(e),1;e.container=t;for(var r=null,i=t.rows.length-1;!r&&i>=0;i--)KN(t.rows[i],e,n)&&(r=t.rows[i]);r?(r.leaves.push(e),e.row=r):(e.leaves=[],t.rows.push(e))},l=0;l<o.length;l++)a();return o.map((function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}}))}function $N(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=$N(e.friends[r],t,n);t=t>i?t:i}return t}var ZN={overlap:QN,"no-overlap":function(e){var t=QN({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort((function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.top+e.height<t.top+t.height?1:-1}));for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var i=t[r],o=i.style.top,s=i.style.top+i.style.height,a=r+1;a<t.length;++a){var l=t[a],c=l.style.top,u=l.style.top+l.style.height;(c>=o&&u<=s||u>o&&u<=s||c>=o&&c<s)&&(i.friends.push(l),l.friends.push(i))}for(var d=0;d<t.length;++d){for(var h=t[d],f=[],p=0;p<100;++p)f.push(1);for(var m=0;m<h.friends.length;++m)void 0!==h.friends[m].idx&&(f[h.friends[m].idx]=0);h.idx=f.indexOf(1)}for(var g=0;g<t.length;++g){var v;if(!t[g].size){var y=[];v=100/($N(t[g],0,y)+1),t[g].size=v;for(var b=0;b<y.length;++b)y[b].size=v}}for(var w=0;w<t.length;++w){var _=t[w];_.style.left=_.idx*_.size;for(var E=0,S=0;S<_.friends.length;++S){var x=_.friends[S].idx;E=E>x?E:x}E<=_.idx&&(_.size=100-_.idx*_.size);var k=0===_.idx?0:3;_.style.width="calc(".concat(_.size,"% - ").concat(k,"px)"),_.style.height="calc(".concat(_.style.height,"% - 2px)"),_.style.xOffset="calc(".concat(_.style.left,"% + ").concat(k,"px)")}return t}};var XN=function(e){kE(r,e);var t=LE(r);function r(){return _E(this,r),t.apply(this,arguments)}return SE(r,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,r=e.resource,i=e.group,o=e.getters,s=e.components,a=(void 0===s?{}:s).timeSlotWrapper,l=void 0===a?LO:a,c=o?o.slotGroupProp(i):{};return n.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),i.map((function(e,i){var s=o?o.slotProp(e,r):{};return n.createElement(l,{key:i,value:e,resource:r},n.createElement("div",Object.assign({},s,{className:HE("rbc-time-slot",s.className)}),t&&t(e,i)))})))}}]),r}(n.Component);function JN(e){return"string"===typeof e?e:e+"%"}function eM(e){var t=e.style,r=e.className,i=e.event,o=e.accessors,s=e.rtl,a=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,h=e.onClick,f=e.onDoubleClick,p=e.isBackgroundEvent,m=e.onKeyPress,g=e.components,v=g.event,y=g.eventWrapper,b=o.title(i),w=o.tooltip(i),_=o.end(i),E=o.start(i),S=d.eventProp(i,E,_,a),x=t.height,k=t.top,C=t.width,T=t.xOffset,D=[n.createElement("div",{key:"1",className:"rbc-event-label"},l),n.createElement("div",{key:"2",className:"rbc-event-content"},v?n.createElement(v,{event:i,title:b}):b)],L=yE(yE({},S.style),{},p?gE({top:JN(k),height:JN(x),width:"calc(".concat(C," + 10px)")},s?"right":"left",JN(Math.max(0,T))):gE({top:JN(k),width:JN(C),height:JN(x)},s?"right":"left",JN(T)));return n.createElement(y,Object.assign({type:"time"},e),n.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:f,style:L,onKeyPress:m,title:w?("string"===typeof l?l+": ":"")+w:void 0,className:HE(p?"rbc-background-event":"rbc-event",r,S.className,{"rbc-selected":a,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},D))}var tM=function(e){var t=e.children,r=e.className,i=e.style,o=e.innerRef;return n.createElement("div",{className:r,style:i,ref:o},t)},nM=n.forwardRef((function(e,t){return n.createElement(tM,Object.assign({},e,{innerRef:t}))})),rM=["dayProp"],iM=["eventContainerWrapper"],oM=function(e){kE(r,e);var t=LE(r);function r(){var e;_E(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(t){var r=t.events,i=t.isBackgroundEvent,o=e.props,s=o.rtl,a=o.selected,l=o.accessors,c=o.localizer,u=o.getters,d=o.components,h=o.step,f=o.timeslots,p=o.dayLayoutAlgorithm,m=o.resizable,g=DE(e).slotMetrics,v=c.messages,y=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in ZN&&(n=ZN[t]),function(e){return!!(e&&e.constructor&&e.call&&e.apply)}(n)?n.apply(this,arguments):[]}({events:r,accessors:l,slotMetrics:g,minimumStartDifference:Math.ceil(h*f/2),dayLayoutAlgorithm:p});return y.map((function(t,r){var o,h=t.event,f=t.style,p=l.end(h),y=l.start(h),b="eventTimeRangeFormat",w=g.startsBeforeDay(y),_=g.startsAfterDay(p);w?b="eventTimeRangeEndFormat":_&&(b="eventTimeRangeStartFormat"),o=w&&_?v.allDay:c.format({start:y,end:p},b);var E=w||g.startsBefore(y),S=_||g.startsAfter(p);return n.createElement(eM,{style:f,event:h,label:o,key:"evt_"+r,getters:u,rtl:s,components:d,continuesPrior:E,continuesAfter:S,accessors:l,resource:e.props.resource,selected:cN(h,a),onClick:function(t){return e._select(yE(yE(yE({},h),e.props.resource&&{sourceResource:e.props.resource}),i&&{isBackgroundEvent:!0}),t)},onDoubleClick:function(t){return e._doubleClick(h,t)},isBackgroundEvent:i,onKeyPress:function(t){return e._keyPress(h,t)},resizable:m})}))},e._selectable=function(){var t=e.containerRef.current,n=e.props,r=n.longPressThreshold,i=n.localizer,o=e._selector=new wN((function(){return t}),{longPressThreshold:r}),s=function(t){var n=e.props.onSelecting,r=e.state||{},o=a(t),s=o.startDate,l=o.endDate;n&&(i.eq(r.startDate,s,"minutes")&&i.eq(r.endDate,l,"minutes")||!1===n({start:s,end:l,resourceId:e.props.resource}))||e.state.start===o.start&&e.state.end===o.end&&e.state.selecting===o.selecting||e.setState(o)},a=function(n){var r=e.slotMetrics.closestSlotFromPoint(n,EN(t));e.state.selecting||(e._initialSlot=r);var o=e._initialSlot;i.lte(o,r)?r=e.slotMetrics.nextSlot(r):i.gt(o,r)&&(o=e.slotMetrics.nextSlot(o));var s=e.slotMetrics.getRange(i.min(o,r),i.max(o,r));return yE(yE({},s),{},{selecting:!0,top:"".concat(s.top,"%"),height:"".concat(s.height,"%")})},l=function(t,n){if(!vN(e.containerRef.current,t)){var r=a(t),i=r.startDate,o=r.endDate;e._selectSlot({startDate:i,endDate:o,action:n,box:t})}e.setState({selecting:!1})};o.on("selecting",s),o.on("selectStart",s),o.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!vN(e.containerRef.current,t)})),o.on("click",(function(e){return l(e,"click")})),o.on("doubleClick",(function(e){return l(e,"doubleClick")})),o.on("select",(function(t){e.state.selecting&&(e._selectSlot(yE(yE({},e.state),{},{action:"select",bounds:t})),e.setState({selecting:!1}))})),o.on("reset",(function(){e.state.selecting&&e.setState({selecting:!1})}))},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(t){for(var n=t.startDate,r=t.endDate,i=t.action,o=t.bounds,s=t.box,a=n,l=[];e.props.localizer.lte(a,r);)l.push(a),a=new Date(+a+60*e.props.step*1e3);RO(e.props.onSelectSlot,{slots:l,start:n,end:r,resourceId:e.props.resource,action:i,bounds:o,box:s})},e._select=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onSelectEvent,n)},e._doubleClick=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onDoubleClickEvent,n)},e._keyPress=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onKeyPressEvent,n)},e.slotMetrics=YN(e.props),e.containerRef=(0,n.createRef)(),e}return SE(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.getNow,i=n.isNow,o=n.localizer,s=n.date,a=n.min,l=n.max,c=o.neq(e.getNow(),r(),"minutes");if(e.isNow!==i||c){if(this.clearTimeIndicatorInterval(),i){var u=!c&&o.eq(e.date,s,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(u)}}else i&&(o.neq(e.min,a,"minutes")||o.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout((function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()}),6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var i=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:i})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,r=e.max,i=e.rtl,o=e.isNow,s=e.resource,a=e.accessors,l=e.localizer,c=e.getters,u=c.dayProp,d=wE(c,rM),h=e.components,f=h.eventContainerWrapper,p=wE(h,iM),m=this.slotMetrics,g=this.state,v=g.selecting,y=g.top,b=g.height,w={start:g.startDate,end:g.endDate},_=u(r),E=_.className,S=_.style,x=p.dayColumnWrapper||nM;return n.createElement(x,{ref:this.containerRef,date:t,style:S,className:HE(E,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",v&&"rbc-slot-selecting"),slotMetrics:m},m.groups.map((function(e,t){return n.createElement(XN,{key:t,group:e,resource:s,getters:d,components:p})})),n.createElement(f,{localizer:l,resource:s,accessors:a,getters:d,components:p,slotMetrics:m},n.createElement("div",{className:HE("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),v&&n.createElement("div",{className:"rbc-slot-selection",style:{top:y,height:b}},n.createElement("span",null,l.format(w,"selectRangeFormat"))),o&&this.intervalTriggered&&n.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),r}(n.Component);oM.defaultProps={dragThroughEvents:!0,timeslots:2};var sM=function(e){var t=e.min,r=e.max,i=e.timeslots,o=e.step,s=e.localizer,a=e.getNow,l=e.resource,c=e.components,u=e.getters,d=e.gutterRef,h=c.timeGutterWrapper,f=(0,n.useMemo)((function(){return function(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}({min:t,max:r,localizer:s})}),[null===t||void 0===t?void 0:t.toISOString(),null===r||void 0===r?void 0:r.toISOString(),s]),p=f.start,m=f.end,g=AE((0,n.useState)(YN({min:p,max:m,timeslots:i,step:o,localizer:s})),2),v=g[0],y=g[1];(0,n.useEffect)((function(){v&&y(v.update({min:p,max:m,timeslots:i,step:o,localizer:s}))}),[null===p||void 0===p?void 0:p.toISOString(),null===m||void 0===m?void 0:m.toISOString(),i,o]);var b=(0,n.useCallback)((function(e,t){if(t)return null;var r=v.dateIsInGroup(a(),t);return n.createElement("span",{className:HE("rbc-label",r&&"rbc-now")},s.format(e,"timeGutterFormat"))}),[v,s,a]);return n.createElement(h,{slotMetrics:v},n.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},v.groups.map((function(e,t){return n.createElement(XN,{key:t,group:e,resource:l,components:c,renderSlot:b,getters:u})}))))},aM=n.forwardRef((function(e,t){return n.createElement(sM,Object.assign({gutterRef:t},e))})),lM=function(e){var t=e.label;return n.createElement(n.Fragment,null,t)},cM=function(e){kE(r,e);var t=LE(r);function r(){var e;_E(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).handleHeaderClick=function(t,n,r){r.preventDefault(),RO(e.props.onDrillDown,[t,n])},e.renderRow=function(t){var r=e.props,i=r.events,o=r.rtl,s=r.selectable,a=r.getNow,l=r.range,c=r.getters,u=r.localizer,d=r.accessors,h=r.components,f=r.resizable,p=d.resourceId(t),m=t?i.filter((function(e){return d.resource(e)===p})):i;return n.createElement(zN,{isAllDay:!0,rtl:o,getNow:a,minRows:2,maxRows:e.props.allDayMaxRows+1,range:l,events:m,resourceId:p,className:"rbc-allday-cell",selectable:s,selected:e.props.selected,components:h,accessors:d,getters:c,localizer:u,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:f})},e}return SE(r,[{key:"renderHeaderCells",value:function(e){var t=this,r=this.props,i=r.localizer,o=r.getDrilldownView,s=r.getNow,a=r.getters.dayProp,l=r.components.header,c=void 0===l?VN:l,u=s();return e.map((function(e,r){var s=o(e),l=i.format(e,"dayFormat"),d=a(e),h=d.className,f=d.style,p=n.createElement(c,{date:e,label:l,localizer:i});return n.createElement("div",{key:r,style:f,className:HE("rbc-header",h,i.isSameDate(e,u)&&"rbc-today")},s?n.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(n){return t.handleHeaderClick(e,s,n)}},p):n.createElement("span",null,p))}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.width,i=t.rtl,o=t.resources,s=t.range,a=t.events,l=t.getNow,c=t.accessors,u=t.selectable,d=t.components,h=t.getters,f=t.scrollRef,p=t.localizer,m=t.isOverflowing,g=t.components,v=g.timeGutterHeader,y=g.resourceHeader,b=void 0===y?lM:y,w=t.resizable,_={};m&&(_[i?"marginLeft":"marginRight"]="".concat(mI()-1,"px"));var E=o.groupEvents(a);return n.createElement("div",{style:_,ref:f,className:HE("rbc-time-header",m&&"rbc-overflowing")},n.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:r,minWidth:r,maxWidth:r}},v&&n.createElement(v,null)),o.map((function(t,r){var o=AE(t,2),a=o[0],f=o[1];return n.createElement("div",{className:"rbc-time-header-content",key:a||r},f&&n.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(r)},n.createElement("div",{className:"rbc-header"},n.createElement(b,{index:r,label:c.resourceTitle(f),resource:f}))),n.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(s.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(s)),n.createElement(zN,{isAllDay:!0,rtl:i,getNow:l,minRows:2,maxRows:e.props.allDayMaxRows+1,range:s,events:E.get(a)||[],resourceId:f&&a,className:"rbc-allday-cell",selectable:u,selected:e.props.selected,components:d,accessors:c,getters:h,localizer:p,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:w}))})))}}]),r}(n.Component),uM={};var dM=function(e){kE(r,e);var t=LE(r);function r(e){var i;return _E(this,r),(i=t.call(this,e)).handleScroll=function(e){i.scrollRef.current&&(i.scrollRef.current.scrollLeft=e.target.scrollLeft)},i.handleResize=function(){jx(i.rafHandle),i.rafHandle=Ux(i.checkOverflow)},i.handleKeyPressEvent=function(){i.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];RO(i.props.onKeyPressEvent,t)},i.handleSelectEvent=function(){i.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];RO(i.props.onSelectEvent,t)},i.handleDoubleClickEvent=function(){i.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];RO(i.props.onDoubleClickEvent,t)},i.handleShowMore=function(e,t,n,r,o){var s=i.props,a=s.popup,l=s.onDrillDown,c=s.onShowMore,u=s.getDrilldownView,d=s.doShowMoreDrillDown;if(i.clearSelection(),a){var h=Ox(n,i.containerRef.current);i.setState({overlay:{date:t,events:e,position:yE(yE({},h),{},{width:"200px"}),target:o}})}else d&&RO(l,[t,u(t)||AO.DAY]);RO(c,[e,t,r])},i.handleSelectAllDaySlot=function(e,t){var n=i.props.onSelectSlot,r=new Date(e[0]),o=new Date(e[e.length-1]);o.setDate(e[e.length-1].getDate()+1),RO(n,{slots:e,start:r,end:o,action:t.action,resourceId:t.resourceId})},i.overlayDisplay=function(){i.setState({overlay:null})},i.checkOverflow=function(){if(!i._updatingOverflow){var e=i.contentRef.current;if(null!==e&&void 0!==e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;i.state.isOverflowing!==t&&(i._updatingOverflow=!0,i.setState({isOverflowing:t},(function(){i._updatingOverflow=!1})))}}},i.memoizedResources=WL((function(e,t){return function(e,t){return{map:function(n){return e?e.map((function(e,r){return n([t.resourceId(e),e],r)})):[n([uM,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach((function(e){var n=t.resource(e)||uM;if(Array.isArray(n))n.forEach((function(t){var n=r.get(t)||[];n.push(e),r.set(t,n)}));else{var i=r.get(n)||[];i.push(e),r.set(n,i)}})),r):(r.set(uM,n),r)}}}(e,t)})),i.state={gutterWidth:void 0,isOverflowing:null},i.scrollRef=n.createRef(),i.contentRef=n.createRef(),i.containerRef=n.createRef(),i._scrollRatio=null,i.gutterRef=(0,n.createRef)(),i}return SE(r,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),jx(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(e,t,r,i){var o=this,s=this.props,a=s.min,l=s.max,c=s.components,u=s.accessors,d=s.localizer,h=s.dayLayoutAlgorithm,f=this.memoizedResources(this.props.resources,u),p=f.groupEvents(t),m=f.groupEvents(r);return f.map((function(t,r){var s=AE(t,2),f=s[0],g=s[1];return e.map((function(e,t){var s=(p.get(f)||[]).filter((function(t){return d.inRange(e,u.start(t),u.end(t),"day")})),v=(m.get(f)||[]).filter((function(t){return d.inRange(e,u.start(t),u.end(t),"day")}));return n.createElement(oM,Object.assign({},o.props,{localizer:d,min:d.merge(e,a),max:d.merge(e,l),resource:g&&f,components:c,isNow:d.isSameDate(e,i),key:r+"-"+t,date:e,events:s,backgroundEvents:v,dayLayoutAlgorithm:h}))}))}))}},{key:"render",value:function(){var e,t=this.props,r=t.events,i=t.backgroundEvents,o=t.range,s=t.width,a=t.rtl,l=t.selected,c=t.getNow,u=t.resources,d=t.components,h=t.accessors,f=t.getters,p=t.localizer,m=t.min,g=t.max,v=t.showMultiDayTimes,y=t.longPressThreshold,b=t.resizable;s=s||this.state.gutterWidth;var w=o[0],_=o[o.length-1];this.slots=o.length;var E=[],S=[],x=[];return r.forEach((function(e){if(ON(e,w,_,h,p)){var t=h.start(e),n=h.end(e);h.allDay(e)||p.startAndEndAreDateOnly(t,n)||!v&&!p.isSameDate(t,n)?E.push(e):S.push(e)}})),i.forEach((function(e){ON(e,w,_,h,p)&&x.push(e)})),E.sort((function(e,t){return MN(e,t,h,p)})),n.createElement("div",{className:HE("rbc-time-view",u&&"rbc-time-view-resources"),ref:this.containerRef},n.createElement(cM,{range:o,events:E,width:s,rtl:a,getNow:c,localizer:p,selected:l,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(u,h),selectable:this.props.selectable,accessors:h,getters:f,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:y,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b}),this.props.popup&&this.renderOverlay(),n.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},n.createElement(aM,{date:w,ref:this.gutterRef,localizer:p,min:p.merge(w,m),max:p.merge(w,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:f}),this.renderEvents(o,S,x,c())))}},{key:"renderOverlay",value:function(){var e,t,r=this,i=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},o=this.props,s=o.accessors,a=o.localizer,l=o.components,c=o.getters,u=o.selected,d=o.popupOffset,h=o.handleDragStart;return n.createElement(mN,{overlay:i,accessors:s,localizer:a,components:l,getters:c,selected:u,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t,n=null!==(t=e.gutterRef)&&void 0!==t&&t.current?gI(e.gutterRef.current):void 0;n&&e.state.gutterWidth!==n&&e.setState({gutterWidth:n})}))}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,r=e.scrollToTime,i=e.localizer,o=i.diff(i.merge(r,t),r,"milliseconds"),s=i.diff(t,n,"milliseconds");this._scrollRatio=o/s}}]),r}(n.Component);dM.defaultProps={step:30,timeslots:2};var hM=["date","localizer","min","max","scrollToTime","enableAutoScroll"],fM=function(e){kE(r,e);var t=LE(r);function r(){return _E(this,r),t.apply(this,arguments)}return SE(r,[{key:"render",value:function(){var e=this.props,t=e.date,i=e.localizer,o=e.min,s=void 0===o?i.startOf(new Date,"day"):o,a=e.max,l=void 0===a?i.endOf(new Date,"day"):a,c=e.scrollToTime,u=void 0===c?i.startOf(new Date,"day"):c,d=e.enableAutoScroll,h=void 0===d||d,f=wE(e,hM),p=r.range(t,{localizer:i});return n.createElement(dM,Object.assign({},f,{range:p,eventOffset:10,localizer:i,min:s,max:l,scrollToTime:u,enableAutoScroll:h}))}}]),r}(n.Component);fM.range=function(e,t){return[t.localizer.startOf(e,"day")]},fM.navigate=function(e,t,n){var r=n.localizer;switch(t){case IO:return r.add(e,-1,"day");case OO:return r.add(e,1,"day");default:return e}},fM.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var pM=["date","localizer","min","max","scrollToTime","enableAutoScroll"],mM=function(e){kE(r,e);var t=LE(r);function r(){return _E(this,r),t.apply(this,arguments)}return SE(r,[{key:"render",value:function(){var e=this.props,t=e.date,i=e.localizer,o=e.min,s=void 0===o?i.startOf(new Date,"day"):o,a=e.max,l=void 0===a?i.endOf(new Date,"day"):a,c=e.scrollToTime,u=void 0===c?i.startOf(new Date,"day"):c,d=e.enableAutoScroll,h=void 0===d||d,f=wE(e,pM),p=r.range(t,this.props);return n.createElement(dM,Object.assign({},f,{range:p,eventOffset:15,localizer:i,min:s,max:l,scrollToTime:u,enableAutoScroll:h}))}}]),r}(n.Component);mM.defaultProps=dM.defaultProps,mM.navigate=function(e,t,n){var r=n.localizer;switch(t){case IO:return r.add(e,-1,"week");case OO:return r.add(e,1,"week");default:return e}},mM.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),o=n.endOf(e,"week",r);return n.range(i,o)},mM.title=function(e,t){var n=t.localizer,r=vI(mM.range(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var gM=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function vM(e,t){return mM.range(e,t).filter((function(e){return-1===[6,0].indexOf(e.getDay())}))}var yM,bM=function(e){kE(r,e);var t=LE(r);function r(){return _E(this,r),t.apply(this,arguments)}return SE(r,[{key:"render",value:function(){var e=this.props,t=e.date,r=e.localizer,i=e.min,o=void 0===i?r.startOf(new Date,"day"):i,s=e.max,a=void 0===s?r.endOf(new Date,"day"):s,l=e.scrollToTime,c=void 0===l?r.startOf(new Date,"day"):l,u=e.enableAutoScroll,d=void 0===u||u,h=wE(e,gM),f=vM(t,this.props);return n.createElement(dM,Object.assign({},h,{range:f,eventOffset:15,localizer:r,min:o,max:a,scrollToTime:c,enableAutoScroll:d}))}}]),r}(n.Component);function wM(e){var t=e.accessors,r=e.components,i=e.date,o=e.events,s=e.getters,a=e.length,l=e.localizer,c=e.onDoubleClickEvent,u=e.onSelectEvent,d=e.selected,h=(0,n.useRef)(null),f=(0,n.useRef)(null),p=(0,n.useRef)(null),m=(0,n.useRef)(null),g=(0,n.useRef)(null);(0,n.useEffect)((function(){y()}));var v=function(e,i){var o="",s=r.time,a=l.messages.allDay,c=t.end(i),u=t.start(i);return t.allDay(i)||(l.eq(u,c)?a=l.format(u,"agendaTimeFormat"):l.isSameDate(u,c)?a=l.format({start:u,end:c},"agendaTimeRangeFormat"):l.isSameDate(e,u)?a=l.format(u,"agendaTimeFormat"):l.isSameDate(e,c)&&(a=l.format(c,"agendaTimeFormat"))),l.gt(e,u,"day")&&(o="rbc-continues-prior"),l.lt(e,c,"day")&&(o+=" rbc-continues-after"),n.createElement("span",{className:o.trim()},s?n.createElement(s,{event:i,day:e,label:a}):a)},y=function(){if(g.current){var e=h.current,t=g.current.firstChild;if(t){var n,r,i=m.current.scrollHeight>m.current.clientHeight,o=[],s=o;o=[gI(t.children[0]),gI(t.children[1])],s[0]===o[0]&&s[1]===o[1]||(f.current.style.width=o[0]+"px",p.current.style.width=o[1]+"px"),i?(r="rbc-header-overflowing",(n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),e.style.marginRight=mI()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=yI(e.className,t):e.setAttribute("class",yI(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},b=l.messages,w=l.add(i,a,"day"),_=l.range(i,w,"day");return(o=o.filter((function(e){return ON(e,l.startOf(i,"day"),l.endOf(w,"day"),t,l)}))).sort((function(e,n){return+t.start(e)-+t.start(n)})),n.createElement("div",{className:"rbc-agenda-view"},0!==o.length?n.createElement(n.Fragment,null,n.createElement("table",{ref:h,className:"rbc-agenda-table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{className:"rbc-header",ref:f},b.date),n.createElement("th",{className:"rbc-header",ref:p},b.time),n.createElement("th",{className:"rbc-header"},b.event)))),n.createElement("div",{className:"rbc-agenda-content",ref:m},n.createElement("table",{className:"rbc-agenda-table"},n.createElement("tbody",{ref:g},_.map((function(e,i){return function(e,i,o){var a=r.event,h=r.date;return(i=i.filter((function(n){return ON(n,l.startOf(e,"day"),l.endOf(e,"day"),t,l)}))).map((function(r,f){var p=t.title(r),m=t.end(r),g=t.start(r),y=s.eventProp(r,g,m,cN(r,d)),b=0===f&&l.format(e,"agendaDateFormat"),w=0===f&&n.createElement("td",{rowSpan:i.length,className:"rbc-agenda-date-cell"},h?n.createElement(h,{day:e,label:b}):b);return n.createElement("tr",{key:o+"_"+f,className:y.className,style:y.style},w,n.createElement("td",{className:"rbc-agenda-time-cell"},v(e,r)),n.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return u&&u(r,e)},onDoubleClick:function(e){return c&&c(r,e)}},a?n.createElement(a,{event:r,title:p}):p))}),[])}(e,o,i)})))))):n.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}bM.defaultProps=dM.defaultProps,bM.range=vM,bM.navigate=mM.navigate,bM.title=function(e,t){var n=t.localizer,r=vI(vM(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")},wM.defaultProps={length:30},wM.range=function(e,t){var n=t.length,r=void 0===n?wM.defaultProps.length:n;return{start:e,end:t.localizer.add(e,r,"day")}},wM.navigate=function(e,t,n){var r=n.length,i=void 0===r?wM.defaultProps.length:r,o=n.localizer;switch(t){case IO:return o.add(e,-i,"day");case OO:return o.add(e,i,"day");default:return e}},wM.title=function(e,t){var n=t.length,r=void 0===n?wM.defaultProps.length:n,i=t.localizer,o=i.add(e,r,"day");return i.format({start:e,end:o},"agendaHeaderFormat")};var _M=(gE(yM={},AO.MONTH,qN),gE(yM,AO.WEEK,mM),gE(yM,AO.WORK_WEEK,bM),gE(yM,AO.DAY,fM),gE(yM,AO.AGENDA,wM),yM),EM=["action","date","today"];var SM=function(e){kE(r,e);var t=LE(r);function r(){var e;_E(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).navigate=function(t){e.props.onNavigate(t)},e.view=function(t){e.props.onView(t)},e}return SE(r,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,r=e.label;return n.createElement("div",{className:"rbc-toolbar"},n.createElement("span",{className:"rbc-btn-group"},n.createElement("button",{type:"button",onClick:this.navigate.bind(null,NO)},t.today),n.createElement("button",{type:"button",onClick:this.navigate.bind(null,IO)},t.previous),n.createElement("button",{type:"button",onClick:this.navigate.bind(null,OO)},t.next)),n.createElement("span",{className:"rbc-toolbar-label"},r),n.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,r=this.props.views,i=this.props.view;if(r.length>1)return r.map((function(r){return n.createElement("button",{type:"button",key:r,className:HE({"rbc-active":i===r}),onClick:t.view.bind(null,r)},e[r])}))}}]),r}(n.Component);var xM=function(e){return function(t){return function(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===pE(e)&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},kM=["view","date","getNow","onNavigate"],CM=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function TM(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=AE(r[n],2),o=i[0];i[1]&&t.push(o)}return t}var DM=function(e){kE(r,e);var t=LE(r);function r(){var e;_E(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getViews=function(){var t=e.props.views;return Array.isArray(t)?TO(t,(function(e,t){return e[t]=_M[t]}),{}):"object"===pE(t)?DO(t,(function(e,t){return!0===e?_M[t]:e})):_M},e.getView=function(){return e.getViews()[e.props.view]},e.getDrilldownView=function(t){var n=e.props,r=n.view,i=n.drilldownView,o=n.getDrilldownView;return o?o(t,r,Object.keys(e.getViews())):i},e.handleRangeChange=function(t,n,r){var i=e.props,o=i.onRangeChange,s=i.localizer;o&&n.range&&o(n.range(t,{localizer:s}),r)},e.handleNavigate=function(t,n){var r=e.props,i=r.view,o=r.date,s=r.getNow,a=r.onNavigate,l=wE(r,kM),c=e.getView(),u=s();o=function(e,t){var n=t.action,r=t.date,i=t.today,o=wE(t,EM);switch(e="string"===typeof e?_M[e]:e,n){case NO:r=i||new Date;break;case MO:break;default:RE()(e&&"function"===typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,o)}return r}(c,yE(yE({},l),{},{action:t,date:n||o||u,today:u})),a(o,i,t),e.handleRangeChange(o,c)},e.handleViewChange=function(t){t!==e.props.view&&function(e,t){return-1!==TM(t.views).indexOf(e)}(t,e.props)&&e.props.onView(t);var n=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),n[t],t)},e.handleSelectEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];RO(e.props.onKeyPressEvent,n)},e.handleSelectSlot=function(t){RO(e.props.onSelectSlot,t)},e.handleDrillDown=function(t,n){var r=e.props.onDrillDown;r?r(t,n,e.drilldownView):(n&&e.handleViewChange(n),e.handleNavigate(MO,t))},e.state={context:r.getContext(e.props)},e}return SE(r,[{key:"render",value:function(){var e=this.props,t=e.view,r=e.toolbar,i=e.events,o=e.backgroundEvents,s=e.style,a=e.className,l=e.elementProps,c=e.date,u=e.getNow,d=e.length,h=e.showMultiDayTimes,f=e.onShowMore,p=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var m=wE(e,CM);c=c||u();var g=this.getView(),v=this.state.context,y=v.accessors,b=v.components,w=v.getters,_=v.localizer,E=v.viewNames,S=b.toolbar||SM,x=g.title(c,{localizer:_,length:d});return n.createElement("div",Object.assign({},l,{className:HE(a,"rbc-calendar",m.rtl&&"rbc-rtl"),style:s}),r&&n.createElement(S,{date:c,view:t,views:E,label:x,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),n.createElement(g,Object.assign({},m,{events:i,backgroundEvents:o,date:c,getNow:u,length:d,localizer:_,getters:w,components:b,accessors:y,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:f,doShowMoreDrillDown:p})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{context:r.getContext(e)}}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,i=e.tooltipAccessor,o=e.titleAccessor,s=e.resourceAccessor,a=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventPropGetter,u=e.backgroundEventPropGetter,d=e.slotPropGetter,h=e.slotGroupPropGetter,f=e.dayPropGetter,p=e.view,m=e.views,g=e.localizer,v=e.culture,y=e.messages,b=void 0===y?{}:y,w=e.components,_=void 0===w?{}:w,E=e.formats,S=void 0===E?{}:E,x=TM(m);return{viewNames:x,localizer:oN(g,v,S,function(e){return yE(yE({},sN),e)}(b)),getters:{eventProp:function(){return c&&c.apply(void 0,arguments)||{}},backgroundEventProp:function(){return u&&u.apply(void 0,arguments)||{}},slotProp:function(){return d&&d.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return f&&f.apply(void 0,arguments)||{}}},components:CO(_[p]||{},SO(_,x),{eventWrapper:LO,backgroundEventWrapper:LO,eventContainerWrapper:LO,dateCellWrapper:LO,weekWrapper:LO,timeSlotWrapper:LO,timeGutterWrapper:LO}),accessors:{start:xM(t),end:xM(n),allDay:xM(r),tooltip:xM(i),title:xM(o),resource:xM(s),resourceId:xM(a),resourceTitle:xM(l)}}}}]),r}(n.Component);DM.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:AO.MONTH,views:[AO.MONTH,AO.WEEK,AO.DAY,AO.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:AO.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var LM=function e(t,r,i){void 0===i&&(i=[]);var o,s=t.displayName||t.name||"Component",a=!!(o=t)&&("function"!==typeof o||o.prototype&&o.prototype.isReactComponent),l=Object.keys(r),c=l.map(FE);!a&&i.length&&RE()(!1);var u=function(e){var o,s;function a(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];(t=e.call.apply(e,[this].concat(o))||this).handlers=Object.create(null),l.forEach((function(e){var n=r[e];t.handlers[n]=function(r){if(t.props[n]){var i;t._notifying=!0;for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];(i=t.props)[n].apply(i,[r].concat(s)),t._notifying=!1}t.unmounted||t.setState((function(t){var n,i=t.values;return{values:zE(Object.create(null),i,(n={},n[e]=r,n))}}))}})),i.length&&(t.attachRef=function(e){t.inner=e});var a=Object.create(null);return l.forEach((function(e){a[e]=t.props[FE(e)]})),t.state={values:a,prevProps:{}},t}s=e,(o=a).prototype=Object.create(s.prototype),o.prototype.constructor=o,xE(o,s);var u=a.prototype;return u.shouldComponentUpdate=function(){return!this._notifying},a.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,i={values:zE(Object.create(null),n),prevProps:{}};return l.forEach((function(t){i.prevProps[t]=e[t],!UE(e,t)&&UE(r,t)&&(i.values[t]=e[FE(t)])})),i},u.componentWillUnmount=function(){this.unmounted=!0},u.render=function(){var e=this,r=this.props,i=r.innerRef,o=bE(r,["innerRef"]);c.forEach((function(e){delete o[e]}));var s={};return l.forEach((function(t){var n=e.props[t];s[t]=void 0!==n?n:e.state.values[t]})),n.createElement(t,zE({},o,s,this.handlers,{ref:i||this.attachRef}))},a}(n.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=VE,t.componentWillReceiveProps=BE),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=WE;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}}(u),u.displayName="Uncontrolled("+s+")",u.propTypes=zE({innerRef:function(){}},function(e,t){var n={};return Object.keys(e).forEach((function(e){n[FE(e)]=jE})),n}(r)),i.forEach((function(e){u.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var d=u;return n.forwardRef&&(d=n.forwardRef((function(e,t){return n.createElement(u,zE({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})),d.propTypes=u.propTypes),d.ControlledComponent=t,d.deferControlTo=function(t,n,i){return void 0===n&&(n={}),e(t,zE({},r,n),i)},d}(DM,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),IM=function(e,t,n){var r=e.start,i=e.end;return n.format(r,"LT",t)+" \u2013 "+n.format(i,"LT",t)},OM={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:IM,eventTimeRangeFormat:IM,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return n.format(r,"LT",t)+" \u2013 "},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return" \u2013 "+n.format(r,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return n.format(r,"MMMM DD",t)+" \u2013 "+n.format(i,n.eq(r,i,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return n.format(r,"L",t)+" \u2013 "+n.format(i,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:IM};function NM(e){var t=e?e.toLowerCase():e;return"FullYear"===t?t="year":t||(t=void 0),t}function MM(e){function t(t,n){var r,i,o=e(t).local(),s=e(n).local();if(!e.tz)return o.toDate().getTimezoneOffset()-s.toDate().getTimezoneOffset();var a=null!==(r=null===o||void 0===o||null===(i=o._z)||void 0===i?void 0:i.name)&&void 0!==r?r:e.tz.guess();return e.tz.zone(a).utcOffset(+o)-e.tz.zone(a).utcOffset(+s)}function n(t,n,r){var i=NM(r);return[i?e(t).startOf(i):e(t),i?e(n).startOf(i):e(n),i]}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=NM(arguments.length>1?arguments[1]:void 0);return n?e(t).startOf(n).toDate():e(t).toDate()}function i(e,t,r){var i=AE(n(e,t,r),3),o=i[0],s=i[1],a=i[2];return o.isSame(s,a)}function o(e,t,r){var i=AE(n(e,t,r),3),o=i[0],s=i[1],a=i[2];return o.isSameOrBefore(s,a)}function s(t,n,r){var i=NM(r);return e(t).add(n,i).toDate()}function a(e,t){var n=NM(t),o=r(e,n);return i(o,e)?o:s(o,1,n)}function l(t,n){var r=NM(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),i=e(t);return e(n).diff(i,r)}function c(t){return e(t).startOf("month").startOf("week").toDate()}function u(t){return e(t).endOf("month").endOf("week").toDate()}return new iN({formats:OM,firstOfWeek:function(t){var n=t?e.localeData(t):e.localeData();return n?n.firstDayOfWeek():0},firstVisibleDay:c,lastVisibleDay:u,visibleDays:function(e){for(var t=c(e),n=u(e),r=[];o(t,n);)r.push(t),t=s(t,1,"d");return r},format:function(t,n,r){return(i=e(t),o=r,o?i.locale(o):i).format(n);var i,o},lt:function(e,t,r){var i=AE(n(e,t,r),3),o=i[0],s=i[1],a=i[2];return o.isBefore(s,a)},lte:o,gt:function(e,t,r){var i=AE(n(e,t,r),3),o=i[0],s=i[1],a=i[2];return o.isAfter(s,a)},gte:function(e,t,r){var i=AE(n(e,t,r),3),o=i[0],s=i[1],a=i[2];return o.isSameOrBefore(s,a)},eq:i,neq:function(e,t,n){return!i(e,t,n)},merge:function(t,n){if(!t&&!n)return null;var r=e(n).format("HH:mm:ss"),i=e(t).startOf("day").format("MM/DD/YYYY");return e("".concat(i," ").concat(r),"MM/DD/YYYY HH:mm:ss").toDate()},inRange:function(t,n,r){var i=NM(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day"),o=e(t),s=e(n),a=e(r);return o.isBetween(s,a,i,"[]")},startOf:r,endOf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=NM(arguments.length>1?arguments[1]:void 0);return n?e(t).endOf(n).toDate():e(t).toDate()},range:function(t,n){for(var r=NM(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),i=e(t).toDate(),a=[];o(i,n);)a.push(i),i=s(i,1,r);return a},add:s,diff:l,ceil:a,min:function(t,n){var r=e(t),i=e(n);return e.min(r,i).toDate()},max:function(t,n){var r=e(t),i=e(n);return e.max(r,i).toDate()},minutes:function(t){return e(t).minutes()},getSlotDate:function(t,n,r){return e(t).startOf("day").minute(n+r).toDate()},getTimezoneOffset:function(t){return e(t).toDate().getTimezoneOffset()},getDstOffset:t,getTotalMin:function(e,t){return l(e,t,"minutes")},getMinutesFromMidnight:function(n){var r=e(n).startOf("day");return e(n).diff(r,"minutes")+function(n){return t(e(n).startOf("day"),n)}(n)},continuesPrior:function(t,n){var r=e(t),i=e(n);return r.isBefore(i,"day")},continuesAfter:function(t,n,r){var i=e(n),o=e(r);return i.isSameOrAfter(o,"minutes")},sortEvents:function(e){var t=e.evtA,n=t.start,i=t.end,o=t.allDay,s=e.evtB,c=s.start,u=s.end,d=s.allDay,h=+r(n,"day")-+r(c,"day"),f=l(n,a(i,"day"),"day"),p=l(c,a(u,"day"),"day");return h||Math.max(p,1)-Math.max(f,1)||!!d-!!o||+n-+c||+i-+u},inEventRange:function(t){var n=t.event,r=n.start,i=n.end,o=t.range,s=o.start,a=o.end,l=e(r).startOf("day"),c=e(i),u=e(s),d=e(a),h=l.isSameOrBefore(d,"day"),f=!l.isSame(c,"minutes")?c.isAfter(u,"minutes"):c.isSameOrAfter(u,"minutes");return h&&f},isSameDate:function(t,n){var r=e(t),i=e(n);return r.isSame(i,"day")},browserTZOffset:function(){var t=new Date,n=/-/.test(t.toString())?"-":"",r=t.getTimezoneOffset(),i=Number("".concat(n).concat(Math.abs(r)));return e().utcOffset()>i?1:0}})}var AM=__webpack_require__(380),PM=__webpack_require__.n(AM);const RM=e=>{let{isOpen:t,onClose:n,event:r}=e;const i=J();return t&&r?(0,Pb.jsx)("div",{className:"modal-overlay",children:(0,Pb.jsxs)("div",{className:"email-modal-events-container",children:[(0,Pb.jsx)("div",{className:"email-modal-header",children:(0,Pb.jsx)("div",{className:"close-button",onClick:n,children:"X"})}),(0,Pb.jsx)("div",{className:"email-modal-content",children:(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("h2",{children:r.title}),(0,Pb.jsxs)("p",{children:["Start: ",new Date(r.start).toLocaleString()]}),(0,Pb.jsxs)("p",{children:["End: ",new Date(r.end).toLocaleString()]}),(0,Pb.jsxs)("p",{children:["Description: ",r.description]}),(0,Pb.jsxs)("p",{children:["Location: ",r.location]}),(0,Pb.jsxs)("p",{children:["Created by:"," ",(0,Pb.jsxs)(ke,{to:"/user/".concat(r.uid),children:["Go to ",r.username,"'s profile"]})]}),(0,Pb.jsx)("a",{href:(()=>{if(!r||!r.location)return"#";const{lat:e,lng:t}=r.location;return"https://www.google.com/maps/dir/?api=1&destination=".concat(e,",").concat(t)})(),target:"_blank",rel:"noopener noreferrer",children:"Get Directions \ud83d\udccd"}),(0,Pb.jsx)("div",{style:{marginTop:"20px"},children:(0,Pb.jsx)("button",{onClick:()=>{i("/events#".concat(r.id))},className:"button",children:"See Event"})})]})})]})}):null};const jM=function(e){let{currentUser:t}=e;const[r,i]=(0,n.useState)([]),[o,s]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=Yp(xp(Uf(Ib,"Notifications"),Cp("receiverId","==",t.uid),Cp("read","==",!1)),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));i(t),t.some((e=>"follow"===e.type))&&s(!0)}));return()=>e()}),[t]),r.length?(0,Pb.jsxs)("div",{className:"notifications",children:[r.map((e=>(0,Pb.jsx)("p",{children:e.message},e.id))),o&&(0,Pb.jsx)("p",{children:"You have received a new follow notification!"})]}):null},UM=MM(PM());const FM=function(){var e,t;const{currentUser:r}=Fb(),i=J(),{uid:o}=ee(),[s,a]=(0,n.useState)([]),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(!0),[h,f]=(0,n.useState)(null),[p,m]=(0,n.useState)(null),[g,v]=(0,n.useState)(!1),[y,b]=(0,n.useState)([]),[w,_]=(0,n.useState)([]),[E,S]=(0,n.useState)(!1),[x,k]=(0,n.useState)(null),[C,T]=(0,n.useState)(""),[D,L]=(0,n.useState)(!1),[I,O]=(0,n.useState)(!1),N=(0,n.useRef)(null),[M,A]=(0,n.useState)(!1),[P,R]=(0,n.useState)(null),j=()=>{A(!1)};(0,n.useEffect)((()=>{function e(){Ab.r.load("client:auth2",(()=>{Ab.r.auth2.getAuthInstance()?U():Ab.r.auth2.init({apiKey:"AIzaSyDfNCiZBEE0pxF-7O8Tb7U7HWSPefje50Q",clientId:"556828166349-jjodibfl9b6g3djt6r0hq93go56qjprr.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar.events"}).then((()=>{U()})).catch((e=>{console.error("Error initializing Google API client: ",e)}))}))}!function(){const t=document.createElement("script");t.src="https://apis.google.com/js/api.js",t.onload=()=>{Ab.r.load("client:auth2",e)},document.body.appendChild(t)}()}),[]);const U=()=>{Ab.r.client&&Ab.r.client.calendar?Ab.r.client.calendar.events.list({calendarId:"primary",timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:10,orderBy:"startTime"}).then((e=>{const t=e.result.items.map((e=>({id:e.id,title:e.summary,start:new Date(e.start.dateTime||e.start.date),end:new Date(e.end.dateTime||e.end.date),description:e.description||"",location:e.location||"Location not provided",isCancelled:"cancelled"===e.status})));a(t)})).catch((e=>{console.error("Error fetching Google Calendar events: ",e),f("Failed to fetch Google Calendar events.")})):console.log("Google API client is not initialized or current user is undefined")};(0,n.useEffect)((()=>{(async()=>{if(!o)return d(!1),void f("User ID not provided.");d(!0);try{const e=Ff(Ib,"users",o),t=await zp(e);if(!t.exists())return f("User not found."),void d(!1);const n=t.data(),r=xp(Uf(Ib,"galleryItems"),Cp("uid","==",o)),i=(await Bp(r)).docs.map((e=>e.data())),s=Ff(Ib,"userAvailability",o),a=await zp(s),l=a.exists()?a.data():{};T(t.data().category),c({...n,gallery:i,availability:l})}catch(h){f("Error fetching data: "+h.message)}finally{d(!1)}})()}),[o]),(0,n.useEffect)((()=>{o&&r&&(F(),z(),V())}),[o,r]);const F=()=>{const e=Yp(xp(Uf(Ib,"Follows"),Cp("followerId","==",r.uid),Cp("followingId","==",o)),(e=>{S(!e.empty)}));return()=>e()},z=async()=>{const e=xp(Uf(Ib,"Follows"),Cp("followingId","==",o)),t=(await Bp(e)).docs.map((e=>e.data().followerId)).map((async e=>{const t=await zp(Ff(Ib,"users",e));return{id:t.id,...t.data()}})),n=await Promise.all(t);_(n)},V=async()=>{const e=xp(Uf(Ib,"Follows"),Cp("followerId","==",o)),t=(await Bp(e)).docs.map((e=>e.data().followingId)).map((async e=>{const t=await zp(Ff(Ib,"users",e));return{id:t.id,...t.data()}})),n=await Promise.all(t);b(n)};if(u)return(0,Pb.jsx)("div",{children:"Loading..."});if(h)return(0,Pb.jsxs)("div",{children:["Error: ",h]});const B=e=>{let{isOpen:t,onClose:n,title:r,list:o}=e;if(!t)return null;const s=o.length?"".concat(o.length," ").concat(1===o.length?"person":"people"):"No ".concat(r.toLowerCase());return(0,Pb.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,Pb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Pb.jsx)("h2",{className:"modal-header",children:r}),(0,Pb.jsx)("p",{className:"modal-summary",children:s}),o.length>0?(0,Pb.jsx)("ul",{className:"modal-list",children:o.map((e=>(0,Pb.jsx)("li",{className:"click-follow",onClick:()=>{i("/user/".concat(e.id)),n()},children:e.name||e.username||"Unnamed User"},e.id)))}):(0,Pb.jsx)("p",{className:"modal-empty-message",children:"Followers"===r?"User has no followers.":"User is not following anyone."}),(0,Pb.jsx)("button",{className:"button",onClick:n,children:"Close"})]})})};return(0,Pb.jsxs)("div",{className:"container",children:[(0,Pb.jsx)("div",{className:"notifications",children:(0,Pb.jsx)(jM,{currentUser:r})}),(0,Pb.jsxs)("div",{className:"profile-details",children:[(0,Pb.jsx)("h2",{children:null===l||void 0===l?void 0:l.username}),(0,Pb.jsx)("h4",{children:null===l||void 0===l?void 0:l.category}),(0,Pb.jsx)("p",{children:null===l||void 0===l?void 0:l.Role})]}),(0,Pb.jsxs)("div",{className:"follow-info",children:[(0,Pb.jsxs)("div",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>L(!0),children:["Followers: ",w.length]}),(0,Pb.jsxs)("div",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>O(!0),children:["Following: ",y.length]})]}),(0,Pb.jsxs)("div",{children:[(0,Pb.jsx)(B,{isOpen:D,onClose:()=>L(!1),title:"Followers",list:w}),(0,Pb.jsx)(B,{isOpen:I,onClose:()=>O(!1),title:"Following",list:y})]}),(0,Pb.jsx)("div",{className:"profile-picture-container",children:(null===l||void 0===l?void 0:l.profilePictureUrl)&&(0,Pb.jsx)("img",{src:l.profilePictureUrl,alt:"Profile",className:"profile-picture"})}),(0,Pb.jsxs)("div",{className:"account-details",children:[(0,Pb.jsxs)("h3",{className:"top-content",children:[null===l||void 0===l?void 0:l.username," Top Video"]}),(0,Pb.jsx)("div",{className:"embed-container",children:l.youtubeEmbedUrl&&(0,Pb.jsx)("iframe",{width:"560",height:"315",src:l.youtubeEmbedUrl,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-embed"})})]}),(0,Pb.jsxs)("div",{className:"account-details",children:[(0,Pb.jsxs)("h3",{className:"top-content",children:[null===l||void 0===l?void 0:l.username," Top Tracks"]}),(0,Pb.jsx)("div",{className:"embed-container",children:l.spotifyEmbedUrl&&(0,Pb.jsx)("iframe",{src:l.spotifyEmbedUrl,width:"300",height:"380",frameBorder:"0",allowTransparency:"true",allow:"encrypted-media",className:"spotify-embed"})})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Contact Email:",null!==l&&void 0!==l&&l.email?(0,Pb.jsx)("a",{href:"mailto:".concat(l.email),style:{marginLeft:"5px"},children:l.email}):(0,Pb.jsx)("span",{style:{marginLeft:"5px"},children:"Not Available"})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Full Name: ",null===l||void 0===l?void 0:l.fullName]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Birthday: ",null===l||void 0===l?void 0:l.birthday]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Genre: ",null===l||void 0===l?void 0:l.genre]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Location: ",null===l||void 0===l?void 0:l.location]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Bio: ",null===l||void 0===l?void 0:l.bio]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Instagram:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.instagram,target:"_blank",rel:"noopener noreferrer",children:"Instagram"})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Spotify:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.spotify,target:"_blank",rel:"noopener noreferrer",children:"Spotify"})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["TikTok:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.tiktok,target:"_blank",rel:"noopener noreferrer",children:"TikTok"})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["YouTube:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.youtube,target:"_blank",rel:"noopener noreferrer",children:"YouTube"})]}),(0,Pb.jsx)("div",{className:"account-details",children:l&&(0,Pb.jsxs)(Pb.Fragment,{children:["Venue"===C&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("h3",{children:"Venue Details"}),(0,Pb.jsxs)("p",{children:["Preferred Styles: ",l.preferredStyles||"N/A"]}),(0,Pb.jsxs)("p",{children:["Ambience: ",l.ambience||"N/A"]}),(0,Pb.jsxs)("p",{children:["Capacity: ",l.capacity||"N/A"]})]}),"Musician"===C&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("h3",{children:"Musician Details:"}),(0,Pb.jsxs)("p",{children:["Performance Style: ",l.performanceStyle||"N/A"]}),(0,Pb.jsxs)("p",{children:["Preferred Venues: ",l.preferredVenues||"N/A"]}),(0,Pb.jsxs)("p",{children:["Disabilities: ",l.disabilities||"N/A"]}),(0,Pb.jsxs)("p",{children:[" ","Max Travel Distance:"," ",null===l||void 0===l||null===(e=l.availability)||void 0===e?void 0:e.maxTravelDistance," miles"]})]})]})}),(0,Pb.jsxs)("div",{className:"account-performance-dates",children:[(0,Pb.jsx)("h2",{children:"Performance Dates"}),(0,Pb.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px 0",width:"100%"},children:(0,Pb.jsx)(LM,{localizer:UM,events:s,startAccessor:"start",endAccessor:"end",selectable:!0,style:{height:400,width:"100%",backgroundColor:"rgb(131, 131, 131)"},onSelectEvent:e=>{m(e),v(!0)}})}),(0,Pb.jsx)(RM,{event:p,isOpen:g,onClose:()=>{v(!1),m(null)},recipientEmail:null===l||void 0===l?void 0:l.email,location:null===p||void 0===p?void 0:p.location,profileData:l})]}),(0,Pb.jsx)("button",{onClick:()=>{window.open("https://calendar.google.com/")},className:"button",children:"Open Google Calendar"}),(0,Pb.jsxs)("div",{className:"gallery-container",children:[(0,Pb.jsx)("h2",{children:"Gallery"}),(0,Pb.jsx)("div",{className:"account-gallery",ref:N,children:null===l||void 0===l||null===(t=l.gallery)||void 0===t?void 0:t.map(((e,t)=>(0,Pb.jsx)("div",{className:"account-gallery-item",onClick:()=>(R(e),void A(!0)),children:"photo"===e.type?(0,Pb.jsx)("img",{src:e.url,alt:"Gallery Item"}):(0,Pb.jsxs)("video",{controls:!0,children:[(0,Pb.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]})},t)))}),M&&(0,Pb.jsx)("div",{className:"gallery-modal-overlay",onClick:j,children:(0,Pb.jsxs)("div",{className:"gallery-modal-content",onClick:e=>e.stopPropagation(),children:["photo"===P.type?(0,Pb.jsx)("img",{src:P.url,alt:"Full Size",style:{maxWidth:"100%",maxHeight:"80vh"}}):(0,Pb.jsxs)("video",{controls:!0,autoPlay:!0,style:{maxWidth:"100%",maxHeight:"80vh"},children:[(0,Pb.jsx)("source",{src:P.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,Pb.jsx)("button",{className:"close-button",onClick:j,children:"X"})]})})]})]})};const zM=function(){const e=J(),{uid:t}=ee(),{currentUser:r}=Fb(),[i,o]=(0,n.useState)(""),[s,a]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[u,d]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[p,m]=(0,n.useState)({email:"",fullName:"",username:"",location:"",role:"",category:"",maxTravelDistance:"",performanceStyle:"",preferredVenues:"",preferredStyles:"",ambience:"",disabilities:"",youtubeLink:"",spotifyLink:""}),[g,v]=(0,n.useState)([]),[y,b]=(0,n.useState)([]),[w,_]=(0,n.useState)([]),[E,S]=(0,n.useState)(!1),[x,k]=(0,n.useState)("");(0,n.useEffect)((()=>{r&&((async()=>{if(!r)return;const e=r.uid,t=xp(Uf(Ib,"galleryItems"),Cp("uid","==",e)),n=(await Bp(t)).docs.map((e=>({id:e.id,...e.data()})));b(n)})(),(async()=>{S(!0);try{const e=null===r||void 0===r?void 0:r.uid,t=Ff(Ib,"users",e),n=await zp(t);if(n.exists()){if(m(n.data()),c(n.data().category),p.youtubeEmbedUrl){const e=p.youtubeEmbedUrl.split("/").pop(),t="https://www.youtube.com/watch?v=".concat(e);d(t)}if(p.spotifyEmbedUrl){const e=p.spotifyEmbedUrl.match(/spotify\.com\/embed\/(track|playlist|album)\/([^?]+)/);if(e){const t=e[1],n=e[2],r="https://open.spotify.com/".concat(t,"/").concat(n);f(r)}}}else k("User not found.")}catch(x){k("Error fetching user data: "+x.message)}finally{S(!1)}})())}),[r]);const C=e=>{const{name:t,value:n}=e.target;if("email"===t){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?a(""):a("Please enter a valid email address.")}if("birthday"===e.target.name){const t=new Date(e.target.value),n=new Date,r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();if((i<0||0===i&&n.getDate()<t.getDate())&&r--,r<16)return void o("You must be at least 16 years old to register.");o("")}if("file"===e.target.type)m((t=>({...t,[e.target.name]:e.target.files[0]})));else if("birthday"===e.target.name){const{value:t}=e.target,n=new Date(t);if((new Date).getFullYear()-n.getFullYear()<16)return void console.error("User must be 16 years old or older.");m((n=>({...n,[e.target.name]:t})))}else{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))}},T=async t=>{if(t.preventDefault(),S(!0),k(""),s)return void alert("Please correct the errors before submitting.");if(i)return void alert("Please correct the errors before submitting.");const n=(e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11===t[2].length?"https://www.youtube.com/embed/".concat(t[2]):null})(u),o=(e=>{const t=e.match(/^(?:https?:\/\/)?open\.spotify\.com\/(track|playlist|album)\/([^?]*)(?:\?.*)?$/);return t&&t[1]&&t[2]?"https://open.spotify.com/embed/".concat(t[1],"/").concat(t[2]):null})(h);try{const t=null===r||void 0===r?void 0:r.uid;if(!t)throw new Error("User ID not available");const i={...p,youtubeEmbedUrl:n,spotifyEmbedUrl:o};delete i.profilePicture;let s=p.profilePictureUrl;if(p.profilePicture instanceof File){const e=Cb(Nb,"profilePictures/".concat(t,"/").concat(p.profilePicture.name)),n=await xb(e,p.profilePicture);s=await kb(n.ref),i.profilePictureUrl=s}const a=Ff(Ib,"users",t);await Wp(a,i),S(!1);for(const e of g){const n=Cb(Nb,"galleryItems/".concat(t,"/").concat(e.name)),r=await xb(n,e),i=await kb(r.ref);await Hp(Uf(Ib,"galleryItems"),{uid:t,url:i,type:e.type.startsWith("image")?"photo":"video"})}alert("Profile updated successfully!"),e("/user-profile/".concat(t))}catch(x){console.error("Error updating profile: ".concat(x)),k("Error updating profile: ".concat(x.message))}finally{S(!1)}};return E?(0,Pb.jsx)("div",{children:"Loading..."}):x?(0,Pb.jsxs)("div",{children:["Error: ",x]}):(0,Pb.jsx)("div",{className:"container",children:(0,Pb.jsxs)("div",{className:"edit-profile-container",children:[(0,Pb.jsx)("h2",{style:{color:"white"},children:"Edit Profile"}),(0,Pb.jsxs)("form",{onSubmit:T,children:[(0,Pb.jsx)("p",{children:"Username:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"username",value:p.username,onChange:C,type:"text",placeholder:"@Username",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your unique username.",children:"@"})]}),(0,Pb.jsx)("p",{children:"Category:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsxs)("select",{name:"category",value:p.category,onChange:C,children:[(0,Pb.jsx)("option",{value:"",children:"Select a Category"}),(0,Pb.jsx)("option",{value:"Musician",children:"Musician"}),(0,Pb.jsx)("option",{value:"Venue",children:"Venue"})]}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Choose a category that best describes you.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Contact Email:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"email",value:p.email,onChange:C,type:"email",placeholder:"Email",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your email address used for communication.",children:"i"})]}),s&&(0,Pb.jsx)("p",{className:"error",children:s}),(0,Pb.jsx)("p",{children:"Full Name:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"fullName",value:p.fullName,onChange:C,type:"text",placeholder:"Full Name",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your legal full name.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Birthday:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"birthday",value:p.birthday,onChange:C,type:"date",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your birth date. Must be 16 or older.",children:"i"})]}),i&&(0,Pb.jsx)("p",{className:"error",children:i}),(0,Pb.jsx)("p",{children:"Genre:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"genre",value:p.genre,onChange:C,type:"text",placeholder:"Genre",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Specify your music genre or the event's ambience.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Location:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"location",value:p.location,onChange:C,type:"text",placeholder:"Location",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your primary operating or living location.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Bio:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"bio",value:p.bio,onChange:C,type:"text",placeholder:"Bio",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Write a short biography to appear on your profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Max Travel Distance (miles):"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"maxTravelDistance",type:"number",onChange:C,value:p.maxTravelDistance||"",placeholder:"Max Travel Distance",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter the maximum distance you are willing to travel.",children:"i"})]}),"Musician"===l&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("p",{children:"Role:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"role",value:p.role,onChange:C,type:"text",placeholder:"Singer, Guitarist, etc.",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Describe your role in performances.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Performance Style:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"performanceStyle",value:p.performanceStyle||"",onChange:C,placeholder:"Solo, Band, DJ, etc.",required:"Musician"===l}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Describe the style or nature of your performances.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Preferred Venues:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"preferredVenues",value:p.preferredVenues||"",onChange:C,placeholder:"Cafes, Theaters, etc.",required:"Musician"===l}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"List types of venues you prefer for your performances.",children:"i"})]})]}),"Venue"===l&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("p",{children:"Preferred Styles:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"preferredStyles",value:p.preferredStyles||"",onChange:C,placeholder:"Jazz, Rock, Electronic, etc.",required:"Venue"===l}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Specify the musical styles preferred for events at your venue.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Ambience:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"ambience",value:p.ambience||"",onChange:C,placeholder:"Casual, Intimate, etc.",required:"Venue"===l}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Describe the general atmosphere of your venue.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Capacity:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"capacity",value:p.capacity,onChange:C,type:"number",placeholder:"Maximum number of attendees."}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter the maximum capacity of your venue.",children:"i"})]})]}),(0,Pb.jsx)("p",{children:"Disabilities:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"disabilities",onChange:C,value:p.disabilities,placeholder:"Disabilities"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Please outline any disabilities.",children:"i"})]}),(0,Pb.jsx)("p",{children:"YouTube Embed:"}),(0,Pb.jsxs)("p",{className:"small-text",children:[" ","If the field is empty please re-enter your URL link for display."]}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"text",name:"youtubeLink",value:p.youtubeLink,onChange:e=>d(e.target.value),placeholder:"Enter YouTube URL link"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a link to a YouTube video to embed on your profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Spotify Embed:"}),(0,Pb.jsxs)("p",{className:"small-text",children:[" ","If the field is empty please re-enter your URL link for display."]}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"text",name:"spotifyLink",value:p.spotifyLink,onChange:e=>f(e.target.value),placeholder:"Enter Spotify URL link"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a link to a Spotify track or playlist to embed on your profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Instagram:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"instagram",value:p.instagram,onChange:C,type:"text",placeholder:"Link your Instagram",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Link your Instagram profile for others to follow.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Spotify:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"spotify",value:p.spotify,onChange:C,type:"text",placeholder:"Link your Spotify"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a direct link to your Spotify profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"TikTok:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"tiktok",value:p.tiktok,onChange:C,type:"text",placeholder:"Link your TikTok"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a link to your TikTok profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"YouTube:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"youtube",value:p.youtube,onChange:C,type:"text",placeholder:"Link your YouTube"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Link your YouTube channel.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Profile Picture:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"file",name:"profilePicture",onChange:C}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Upload a profile picture to enhance your profile's visibility.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Add Photos/Videos to Gallery:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"file",multiple:!0,onChange:e=>v([...e.target.files])}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Add photos or videos to your gallery.",children:"i"})]}),(0,Pb.jsx)("div",{className:"input-with-info",children:y.map((e=>(0,Pb.jsxs)("div",{className:"gallery-items-container",children:["photo"===e.type?(0,Pb.jsx)("img",{src:e.url,alt:"Gallery Item",style:{maxWidth:"100px",maxHeight:"100px"}}):(0,Pb.jsxs)("video",{width:"320",height:"240",controls:!0,children:[(0,Pb.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,Pb.jsx)("input",{type:"checkbox",onChange:t=>((e,t)=>{e.target.checked?_([...w,t]):_(w.filter((e=>e!==t)))})(t,e.id),checked:w.includes(e.id)}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Select items to delete from your gallery.",children:"i"})]},e.id)))}),(0,Pb.jsx)("button",{type:"button",onClick:async()=>{const e=Wf(),t=Xp(e);for(const n of w){const r=Ff(e,"galleryItems",n);t.delete(r)}try{await t.commit(),b(y.filter((e=>!w.includes(e.id)))),_([]),alert("Selected items deleted successfully!")}catch(x){console.error("Error deleting items:",x),alert("Failed to delete items. Please try again later.")}},className:"button",children:"Delete Selected Photos"}),(0,Pb.jsx)("button",{onClick:T,className:"button",children:"Update Profile"})]})]})})},VM=MM(PM());const BM=function(){var e,t;const{currentUser:r}=Fb(),i=J(),{uid:o}=ee(),[s,a]=(0,n.useState)([]),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(!0),[h,f]=(0,n.useState)(null),[p,m]=(0,n.useState)(null),[g,v]=(0,n.useState)(!1),[y,b]=(0,n.useState)([]),[w,_]=(0,n.useState)([]),[E,S]=(0,n.useState)(!1),[x,k]=(0,n.useState)(null),[C,T]=(0,n.useState)(""),[D,L]=(0,n.useState)(!1),[I,O]=(0,n.useState)(!1),N=(0,n.useRef)(null),[M,A]=(0,n.useState)(!1),[P,R]=(0,n.useState)(null),j=()=>{A(!1)};(0,n.useEffect)((()=>{function e(){Ab.r.load("client:auth2",(()=>{Ab.r.auth2.getAuthInstance()?U():Ab.r.auth2.init({apiKey:"AIzaSyDfNCiZBEE0pxF-7O8Tb7U7HWSPefje50Q",clientId:"556828166349-jjodibfl9b6g3djt6r0hq93go56qjprr.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar.events"}).then((()=>{U()})).catch((e=>{console.error("Error initializing Google API client: ",e)}))}))}!async function(){const t=document.createElement("script");t.src="https://apis.google.com/js/api.js",t.onload=()=>{Ab.r.load("client:auth2",e)},document.body.appendChild(t)}()}),[]);const U=()=>{o==r.uid?Ab.r.client&&Ab.r.client.calendar?Ab.r.client.calendar.events.list({calendarId:"primary",timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:10,orderBy:"startTime"}).then((e=>{const t=e.result.items.map((e=>({id:e.id,title:e.summary,start:new Date(e.start.dateTime||e.start.date),end:new Date(e.end.dateTime||e.end.date),description:e.description||"",location:e.location||"Location not provided",isCancelled:"cancelled"===e.status})));a(t)})).catch((e=>{console.error("Error fetching Google Calendar events: ",e),f("Failed to fetch Google Calendar events.")})):console.log("Google API client is not initialized or no user is currently logged in"):a([])};(0,n.useEffect)((()=>{(async()=>{if(!o)return d(!1),void f("User ID not provided.");d(!0);try{const e=Ff(Ib,"users",o),t=await zp(e);if(!t.exists())return f("User not found."),void d(!1);const n=t.data(),r=xp(Uf(Ib,"galleryItems"),Cp("uid","==",o)),i=(await Bp(r)).docs.map((e=>e.data())),s=Ff(Ib,"userAvailability",o),a=await zp(s),l=a.exists()?a.data():{};T(t.data().category),c({...n,gallery:i,availability:l})}catch(h){f("Error fetching data: "+h.message)}finally{d(!1)}})()}),[o]),(0,n.useEffect)((()=>{o&&r&&(F(),z(),V())}),[o,r]);const F=()=>{const e=Yp(xp(Uf(Ib,"Follows"),Cp("followerId","==",r.uid),Cp("followingId","==",o)),(e=>{S(!e.empty)}));return()=>e()},z=async()=>{const e=xp(Uf(Ib,"Follows"),Cp("followingId","==",o)),t=(await Bp(e)).docs.map((e=>e.data().followerId)).map((async e=>{const t=await zp(Ff(Ib,"users",e));return{id:t.id,...t.data()}})),n=await Promise.all(t);_(n)},V=async()=>{const e=xp(Uf(Ib,"Follows"),Cp("followerId","==",o)),t=(await Bp(e)).docs.map((e=>e.data().followingId)).map((async e=>{const t=await zp(Ff(Ib,"users",e));return{id:t.id,...t.data()}})),n=await Promise.all(t);b(n)};if(u)return(0,Pb.jsx)("div",{children:"Loading..."});if(h)return(0,Pb.jsxs)("div",{children:["Error: ",h]});const B=e=>{let{isOpen:t,onClose:n,title:r,list:o}=e;return t?(0,Pb.jsx)("div",{className:"modal-backdrop",onClick:n,children:(0,Pb.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Pb.jsx)("h2",{className:"modal-header",children:r}),o.length>0?(0,Pb.jsx)("ul",{className:"modal-list",children:o.map((e=>(0,Pb.jsx)("li",{className:"click-follow",onClick:()=>{i("/user/".concat(e.id)),n()},children:e.name||e.username||"Unnamed User"},e.id)))}):(0,Pb.jsx)("p",{className:"modal-empty-message",children:"Followers"===r?"User has no followers.":"User is not following anyone."}),(0,Pb.jsx)("button",{className:"button",onClick:n,children:"Close"})]})}):null};return(0,Pb.jsxs)("div",{className:"container",children:[(0,Pb.jsx)("div",{className:"notifications",children:(0,Pb.jsx)(jM,{currentUser:r})}),(0,Pb.jsxs)("div",{className:"profile-details",children:[(0,Pb.jsx)("h2",{children:null===l||void 0===l?void 0:l.username}),(0,Pb.jsx)("h4",{children:null===l||void 0===l?void 0:l.category}),(0,Pb.jsx)("p",{children:null===l||void 0===l?void 0:l.Role})]}),(0,Pb.jsxs)("div",{className:"follow-info",children:[(0,Pb.jsxs)("div",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>L(!0),children:["Followers: ",w.length]}),(0,Pb.jsxs)("div",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>O(!0),children:["Following: ",y.length]})]}),(0,Pb.jsxs)("div",{children:[(0,Pb.jsx)(B,{isOpen:D,onClose:()=>L(!1),title:"Followers",list:w}),(0,Pb.jsx)(B,{isOpen:I,onClose:()=>O(!1),title:"Following",list:y})]}),(0,Pb.jsx)("div",{className:"profile-picture-container",children:(null===l||void 0===l?void 0:l.profilePicture)&&(0,Pb.jsx)("img",{src:l.profilePictureUrl,alt:"Profile",className:"profile-picture"})}),(0,Pb.jsx)("button",{onClick:async()=>{try{if(E){const e=xp(Uf(Ib,"Follows"),Cp("followerId","==",r.uid),Cp("followingId","==",o));(await Bp(e)).forEach((e=>{qp(e.ref)})),console.log("Unfollow successful"),S(!1)}else{const e=await Hp(Uf(Ib,"Follows"),{followerId:r.uid,followingId:o});console.log("Follow successful with document ID:",e.id),S(!0)}}catch(h){console.error("Error updating follow status:",h)}},className:"button",children:E?"Following":"+ Follow"}),(0,Pb.jsxs)("div",{className:"account-details",children:[(0,Pb.jsxs)("h3",{children:[null===l||void 0===l?void 0:l.username," Top Video"]}),(0,Pb.jsx)("div",{className:"embed-container",children:l.youtubeEmbedUrl&&(0,Pb.jsx)("iframe",{width:"560",height:"315",src:l.youtubeEmbedUrl,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"youtube-embed"})})]}),(0,Pb.jsxs)("div",{className:"account-details",children:[(0,Pb.jsxs)("h3",{children:[null===l||void 0===l?void 0:l.username," Top Tracks"]}),(0,Pb.jsx)("div",{className:"embed-container",children:l.spotifyEmbedUrl&&(0,Pb.jsx)("iframe",{src:l.spotifyEmbedUrl,width:"300",height:"380",frameBorder:"0",allowTransparency:"true",allow:"encrypted-media",className:"spotify-embed"})})]}),(0,Pb.jsx)("div",{className:"account-details",children:(0,Pb.jsxs)("div",{className:"input-with-info",children:["Contact Email:",null!==l&&void 0!==l&&l.email?(0,Pb.jsx)("a",{href:"mailto:".concat(l.email),style:{marginLeft:"5px"},children:l.email}):(0,Pb.jsx)("span",{style:{marginLeft:"5px"},children:"Not Available"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Click the user's email to send a direct email.",children:"i"})]})}),(0,Pb.jsxs)("div",{className:"account-details",children:["Full Name: ",null===l||void 0===l?void 0:l.fullName]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Birthday: ",null===l||void 0===l?void 0:l.birthday]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Genre: ",null===l||void 0===l?void 0:l.genre]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Location: ",null===l||void 0===l?void 0:l.location]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Bio: ",null===l||void 0===l?void 0:l.bio]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Instagram:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.instagram,target:"_blank",rel:"noopener noreferrer",children:"Instagram"})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["Spotify:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.spotify,target:"_blank",rel:"noopener noreferrer",children:"Spotify"})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["TikTok:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.tiktok,target:"_blank",rel:"noopener noreferrer",children:"TikTok"})]}),(0,Pb.jsxs)("div",{className:"account-details",children:["YouTube:"," ",(0,Pb.jsx)("a",{href:null===l||void 0===l?void 0:l.youtube,target:"_blank",rel:"noopener noreferrer",children:"YouTube"})]}),(0,Pb.jsx)("div",{className:"account-details",children:l&&(0,Pb.jsxs)(Pb.Fragment,{children:["Venue"===C&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("h3",{children:"Venue Details"}),(0,Pb.jsxs)("p",{children:["Preferred Styles: ",l.preferredStyles||"N/A"]}),(0,Pb.jsxs)("p",{children:["Ambience: ",l.ambience||"N/A"]}),(0,Pb.jsxs)("p",{children:["Capacity: ",l.capacity||"N/A"]})]}),"Musician"===C&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("h3",{children:"Musician Details:"}),(0,Pb.jsxs)("p",{children:["Performance Style: ",l.performanceStyle||"N/A"]}),(0,Pb.jsxs)("p",{children:["Preferred Venues: ",l.preferredVenues||"N/A"]}),(0,Pb.jsxs)("p",{children:["Disabilities: ",l.disabilities||"N/A"]}),(0,Pb.jsxs)("p",{children:[" ","Max Travel Distance:"," ",null===l||void 0===l||null===(e=l.availability)||void 0===e?void 0:e.maxTravelDistance," miles"]})]})]})}),(0,Pb.jsxs)("div",{className:"account-performance-dates",children:[(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("h2",{children:"Performance Dates"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"View when this user is performing.",children:"i"})]}),(0,Pb.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px 0",width:"100%"},children:(0,Pb.jsx)(LM,{localizer:VM,events:s,startAccessor:"start",endAccessor:"end",selectable:!0,style:{height:400,width:"100%",backgroundColor:"rgb(131, 131, 131)"},onSelectEvent:e=>{m(e),v(!0)}})}),(0,Pb.jsx)(Wb,{event:p,isOpen:g,onClose:()=>{v(!1),m(null)},recipientEmail:null===l||void 0===l?void 0:l.email,location:null===p||void 0===p?void 0:p.location,profileData:l})]}),(0,Pb.jsx)("button",{onClick:()=>{window.open("https://calendar.google.com/")},className:"button",children:"Open My Google Calendar"}),(0,Pb.jsxs)("div",{className:"gallery-container",children:[(0,Pb.jsx)("h2",{children:"Gallery"}),(0,Pb.jsx)("div",{className:"account-gallery",ref:N,children:null===l||void 0===l||null===(t=l.gallery)||void 0===t?void 0:t.map(((e,t)=>(0,Pb.jsx)("div",{className:"account-gallery-item",onClick:()=>(R(e),void A(!0)),children:"photo"===e.type?(0,Pb.jsx)("img",{src:e.url,alt:"Gallery Item"}):(0,Pb.jsxs)("video",{controls:!0,children:[(0,Pb.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]})},t)))}),M&&(0,Pb.jsx)("div",{className:"gallery-modal-overlay",onClick:j,children:(0,Pb.jsxs)("div",{className:"gallery-modal-content",onClick:e=>e.stopPropagation(),children:["photo"===P.type?(0,Pb.jsx)("img",{src:P.url,alt:"Full Size",style:{maxWidth:"100%",maxHeight:"80vh"}}):(0,Pb.jsxs)("video",{controls:!0,autoPlay:!0,style:{maxWidth:"100%",maxHeight:"80vh"},children:[(0,Pb.jsx)("source",{src:P.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,Pb.jsx)("button",{className:"close-button",onClick:j,children:"X"})]})})]})]})},WM=e=>{let{post:t}=e;const r=J(),{text:i,image:o,video:s,userData:a,createdAt:l}=t,[c,u]=(0,n.useState)([]),[d,h]=(0,n.useState)(""),{currentUser:f}=Fb(),[p,m]=(0,n.useState)(!1),g=null===a||void 0===a?void 0:a.uid,v=e=>null!==e&&void 0!==e&&e.toDate?new Date(e.toDate()).toLocaleString():new Date(e).toLocaleString();(0,n.useEffect)((()=>{p&&(async()=>{const e=Uf(Ib,"posts/".concat(t.id,"/comments")),n=await Bp(e),r=await Promise.all(n.docs.map((async e=>{const t=e.data(),n=Ff(Ib,"users",t.userId),r=await zp(n),i=r.exists()?r.data():{fullName:"Unknown user",username:"Unknown"};return{...t,id:e.id,userFullName:i.fullName,username:i.username,formattedDate:v(t.createdAt)}})));u(r)})()}),[t.id,p]);return(0,Pb.jsxs)("div",{className:"post",children:[(0,Pb.jsx)("h3",{children:i}),(0,Pb.jsxs)("p",{children:["Posted by:",a?(0,Pb.jsx)("span",{className:"clickable-profile",onClick:()=>g&&(e=>{r("/user/".concat(e))})(g),style:{cursor:"pointer",textDecoration:"underline"},children:a.fullName}):"No name provided","(",(null===a||void 0===a?void 0:a.username)||"Unknown",")"]}),(0,Pb.jsxs)("p",{children:["Posted on: ",v(l)]}),o&&(0,Pb.jsx)("img",{src:o,alt:"Post",style:{maxWidth:"100%",maxHeight:"300px"}}),s&&(0,Pb.jsx)("video",{width:"100%",height:"auto",controls:!0,style:{maxWidth:"100%"},children:(0,Pb.jsx)("source",{src:s,type:"video/mp4"})}),(0,Pb.jsx)("button",{onClick:()=>m(!p),className:"button",children:p?"Hide Comments":"Show Comments"}),p&&(0,Pb.jsxs)("div",{className:"comments",children:[(0,Pb.jsx)("p",{children:"Replies:"}),c.map((e=>(0,Pb.jsx)("p",{children:"".concat(e.userFullName," (").concat(e.username,"): ").concat(e.text," - ").concat(e.formattedDate)},e.id)))]}),(0,Pb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!d.trim()||!f)return;const n=Uf(Ib,"posts/".concat(t.id,"/comments"));await Hp(n,{text:d,userId:f.uid,createdAt:Zp()}),u([...c,{text:d,createdAt:new Date,userId:f.uid}]),h("")},children:[(0,Pb.jsx)("p",{className:"centre-text",children:" Reply to this post below."}),(0,Pb.jsx)("div",{className:"comment-container",children:(0,Pb.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"Add a comment...",className:"comment-text"})}),(0,Pb.jsx)("button",{type:"submit",className:"button",children:"Post"})]}),(0,Pb.jsx)("button",{onClick:e=>((e,t)=>{e.stopPropagation();const n="".concat(window.location.origin,"/posts/").concat(t);navigator.share?navigator.share({title:"Check out this post!",url:n}).catch((e=>console.log("Error sharing",e))):navigator.clipboard.writeText(n).then((()=>{alert("Post URL copied to clipboard!")})).catch((e=>console.error("Error copying link: ",e)))})(e,t.id),className:"button",children:"Share"})]})},qM=()=>{const[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{(async()=>{i(!0);try{const e=xp(Uf(Ib,"posts"),Lp("createdAt","desc")),n=await Bp(e),r=await Promise.all(n.docs.map((async e=>{const t=e.data(),n=await(async e=>{if(!e)return{fullName:"Unknown",username:"Unknown"};try{const t=Ff(Ib,"users",e),n=await zp(t);return n.exists()?n.data():(console.log("No such user document for UID:",e),{fullName:"Unknown",username:"Unknown"})}catch(t){return console.error("Error fetching user data:",t),{fullName:"Unknown",username:"Unknown"}}})(t.user);return{...t,id:e.id,userData:n}})));t(r)}catch(e){console.error("Error fetching posts:",e)}finally{i(!1)}})()}),[]),(0,Pb.jsx)("div",{className:"feed-container",children:r?(0,Pb.jsx)("p",{children:"Loading posts..."}):(0,Pb.jsx)(Pb.Fragment,{children:(0,Pb.jsx)("ul",{children:e.map((e=>(0,Pb.jsx)("li",{children:(0,Pb.jsx)(WM,{post:e})},e.id)))})})})},HM=()=>{const[e,t]=(0,n.useState)(""),[r,i]=(0,n.useState)(null),[o,s]=(0,n.useState)(null),[a,l]=(0,n.useState)(!1),c=async e=>{if(!e)return null;const t=Cb(Nb,"posts/".concat(e.name,"_").concat(Date.now()));return await xb(t,e),kb(t)};return(0,Pb.jsxs)("div",{className:"container",children:[(0,Pb.jsx)("h2",{className:"header-text",children:"Feed"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Use the Feed to post & discuss events."}),(0,Pb.jsxs)("div",{className:"post-form",children:[(0,Pb.jsx)("div",{className:"textarea-container",children:(0,Pb.jsx)("textarea",{placeholder:"Write your post...",value:e,onChange:e=>t(e.target.value),className:"post-textarea"})}),(0,Pb.jsx)("p",{children:"Upload a photo or video."}),(0,Pb.jsx)("div",{className:"file-upload-container",children:(0,Pb.jsx)("input",{type:"file",accept:"image/*, video/*",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=t.type.split("/")[0];"image"===n?(i(t),s(null)):"video"===n&&(s(t),i(null))},className:"post-file-input"})}),(0,Pb.jsx)("div",{className:"button-group",children:(0,Pb.jsx)("button",{onClick:async()=>{l(!0);const n=ly().currentUser,a=n?n.uid:null;try{const n=await c(r),l=await c(o),u={text:e,image:n,video:l,createdAt:Zp(),user:a};await Hp(Uf(Ib,"posts"),u),t(""),i(null),s(null)}catch(u){console.error("Error creating post: ",u)}finally{l(!1)}},className:"button",children:"Post"})})]})]})},YM=()=>(0,Pb.jsxs)("div",{className:"post-form",children:[(0,Pb.jsx)(HM,{}),(0,Pb.jsx)(qM,{})]});function GM(e,t){return function(){return e.apply(t,arguments)}}const{toString:KM}=Object.prototype,{getPrototypeOf:QM}=Object,$M=(ZM=Object.create(null),e=>{const t=KM.call(e);return ZM[t]||(ZM[t]=t.slice(8,-1).toLowerCase())});var ZM;const XM=e=>(e=e.toLowerCase(),t=>$M(t)===e),JM=e=>t=>typeof t===e,{isArray:eA}=Array,tA=JM("undefined");const nA=XM("ArrayBuffer");const rA=JM("string"),iA=JM("function"),oA=JM("number"),sA=e=>null!==e&&"object"===typeof e,aA=e=>{if("object"!==$M(e))return!1;const t=QM(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lA=XM("Date"),cA=XM("File"),uA=XM("Blob"),dA=XM("FileList"),hA=XM("URLSearchParams");function fA(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),eA(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function pA(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const mA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,gA=e=>!tA(e)&&e!==mA;const vA=(yA="undefined"!==typeof Uint8Array&&QM(Uint8Array),e=>yA&&e instanceof yA);var yA;const bA=XM("HTMLFormElement"),wA=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_A=XM("RegExp"),EA=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};fA(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},SA="abcdefghijklmnopqrstuvwxyz",xA="0123456789",kA={DIGIT:xA,ALPHA:SA,ALPHA_DIGIT:SA+SA.toUpperCase()+xA};const CA=XM("AsyncFunction"),TA={isArray:eA,isArrayBuffer:nA,isBuffer:function(e){return null!==e&&!tA(e)&&null!==e.constructor&&!tA(e.constructor)&&iA(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||iA(e.append)&&("formdata"===(t=$M(e))||"object"===t&&iA(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&nA(e.buffer),t},isString:rA,isNumber:oA,isBoolean:e=>!0===e||!1===e,isObject:sA,isPlainObject:aA,isUndefined:tA,isDate:lA,isFile:cA,isBlob:uA,isRegExp:_A,isFunction:iA,isStream:e=>sA(e)&&iA(e.pipe),isURLSearchParams:hA,isTypedArray:vA,isFileList:dA,forEach:fA,merge:function e(){const{caseless:t}=gA(this)&&this||{},n={},r=(r,i)=>{const o=t&&pA(n,i)||i;aA(n[o])&&aA(r)?n[o]=e(n[o],r):aA(r)?n[o]=e({},r):eA(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&fA(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fA(t,((t,r)=>{n&&iA(t)?e[r]=GM(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&QM(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:$M,kindOfTest:XM,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(eA(e))return e;let t=e.length;if(!oA(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:bA,hasOwnProperty:wA,hasOwnProp:wA,reduceDescriptors:EA,freezeMethods:e=>{EA(e,((t,n)=>{if(iA(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];iA(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return eA(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:pA,global:mA,isContextDefined:gA,ALPHABET:kA,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kA.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&iA(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(sA(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=eA(e)?[]:{};return fA(e,((e,t)=>{const o=n(e,r+1);!tA(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:CA,isThenable:e=>e&&(sA(e)||iA(e))&&iA(e.then)&&iA(e.catch)};function DA(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}TA.inherits(DA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:TA.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const LA=DA.prototype,IA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{IA[e]={value:e}})),Object.defineProperties(DA,IA),Object.defineProperty(LA,"isAxiosError",{value:!0}),DA.from=(e,t,n,r,i,o)=>{const s=Object.create(LA);return TA.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),DA.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const OA=DA;function NA(e){return TA.isPlainObject(e)||TA.isArray(e)}function MA(e){return TA.endsWith(e,"[]")?e.slice(0,-2):e}function AA(e,t,n){return e?e.concat(t).map((function(e,t){return e=MA(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const PA=TA.toFlatObject(TA,{},null,(function(e){return/^is[A-Z]/.test(e)}));const RA=function(e,t,n){if(!TA.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=TA.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!TA.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&TA.isSpecCompliantForm(t);if(!TA.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(TA.isDate(e))return e.toISOString();if(!a&&TA.isBlob(e))throw new OA("Blob is not supported. Use a Buffer instead.");return TA.isArrayBuffer(e)||TA.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(TA.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(TA.isArray(e)&&function(e){return TA.isArray(e)&&!e.some(NA)}(e)||(TA.isFileList(e)||TA.endsWith(n,"[]"))&&(a=TA.toArray(e)))return n=MA(n),a.forEach((function(e,r){!TA.isUndefined(e)&&null!==e&&t.append(!0===s?AA([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!NA(e)||(t.append(AA(i,n,o),l(e)),!1)}const u=[],d=Object.assign(PA,{defaultVisitor:c,convertValue:l,isVisitable:NA});if(!TA.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!TA.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),TA.forEach(n,(function(n,o){!0===(!(TA.isUndefined(n)||null===n)&&i.call(t,n,TA.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function jA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function UA(e,t){this._pairs=[],e&&RA(e,this,t)}const FA=UA.prototype;FA.append=function(e,t){this._pairs.push([e,t])},FA.toString=function(e){const t=e?function(t){return e.call(this,t,jA)}:jA;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const zA=UA;function VA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BA(e,t,n){if(!t)return e;const r=n&&n.encode||VA,i=n&&n.serialize;let o;if(o=i?i(t,n):TA.isURLSearchParams(t)?t.toString():new zA(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const WA=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){TA.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},qA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HA={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:zA,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},YA="undefined"!==typeof window&&"undefined"!==typeof document,GA=(KA="undefined"!==typeof navigator&&navigator.product,YA&&["ReactNative","NativeScript","NS"].indexOf(KA)<0);var KA;const QA="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$A={...e,...HA};const ZA=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&TA.isArray(r)?r.length:o,a)return TA.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&TA.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&TA.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(TA.isFormData(e)&&TA.isFunction(e.entries)){const n={};return TA.forEachEntry(e,((e,r)=>{t(function(e){return TA.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const XA={transitional:qA,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=TA.isObject(e);i&&TA.isHTMLForm(e)&&(e=new FormData(e));if(TA.isFormData(e))return r?JSON.stringify(ZA(e)):e;if(TA.isArrayBuffer(e)||TA.isBuffer(e)||TA.isStream(e)||TA.isFile(e)||TA.isBlob(e))return e;if(TA.isArrayBufferView(e))return e.buffer;if(TA.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return RA(e,new $A.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return $A.isNode&&TA.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=TA.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return RA(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(TA.isString(e))try{return(t||JSON.parse)(e),TA.trim(e)}catch(KP){if("SyntaxError"!==KP.name)throw KP}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||XA.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&TA.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(KP){if(n){if("SyntaxError"===KP.name)throw OA.from(KP,OA.ERR_BAD_RESPONSE,this,null,this.response);throw KP}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$A.classes.FormData,Blob:$A.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};TA.forEach(["delete","get","head","post","put","patch"],(e=>{XA.headers[e]={}}));const JA=XA,eP=TA.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tP=Symbol("internals");function nP(e){return e&&String(e).trim().toLowerCase()}function rP(e){return!1===e||null==e?e:TA.isArray(e)?e.map(rP):String(e)}function iP(e,t,n,r,i){return TA.isFunction(r)?r.call(this,t,n):(i&&(t=n),TA.isString(t)?TA.isString(r)?-1!==t.indexOf(r):TA.isRegExp(r)?r.test(t):void 0:void 0)}class oP{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=nP(t);if(!i)throw new Error("header name must be a non-empty string");const o=TA.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=rP(e))}const o=(e,t)=>TA.forEach(e,((e,n)=>i(e,n,t)));return TA.isPlainObject(e)||e instanceof this.constructor?o(e,t):TA.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&eP[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=nP(e)){const n=TA.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(TA.isFunction(t))return t.call(this,e,n);if(TA.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nP(e)){const n=TA.findKey(this,e);return!(!n||void 0===this[n]||t&&!iP(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=nP(e)){const i=TA.findKey(n,e);!i||t&&!iP(0,n[i],i,t)||(delete n[i],r=!0)}}return TA.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!iP(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return TA.forEach(this,((r,i)=>{const o=TA.findKey(n,i);if(o)return t[o]=rP(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=rP(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return TA.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&TA.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[tP]=this[tP]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=nP(e);t[r]||(!function(e,t){const n=TA.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return TA.isArray(e)?e.forEach(r):r(e),this}}oP.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),TA.reduceDescriptors(oP.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),TA.freezeMethods(oP);const sP=oP;function aP(e,t){const n=this||JA,r=t||n,i=sP.from(r.headers);let o=r.data;return TA.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function lP(e){return!(!e||!e.__CANCEL__)}function cP(e,t,n){OA.call(this,null==e?"canceled":e,OA.ERR_CANCELED,t,n),this.name="CanceledError"}TA.inherits(cP,OA,{__CANCEL__:!0});const uP=cP;const dP=$A.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];TA.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),TA.isString(r)&&s.push("path="+r),TA.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function hP(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const fP=$A.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=TA.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const pP=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function mP(e,t){let n=0;const r=pP(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const gP="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=sP.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(TA.isFormData(r))if($A.hasStandardBrowserEnv||$A.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=hP(e.baseURL,e.url);function h(){if(!u)return;const r=sP.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new OA("Request failed with status code "+n.status,[OA.ERR_BAD_REQUEST,OA.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),BA(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new OA("Request aborted",OA.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new OA("Network Error",OA.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||qA;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new OA(t,r.clarifyTimeoutError?OA.ETIMEDOUT:OA.ECONNABORTED,e,u)),u=null},$A.hasStandardBrowserEnv&&(l&&TA.isFunction(l)&&(l=l(e)),l||!1!==l&&fP(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&dP.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&TA.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),TA.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",mP(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",mP(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new uP(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===$A.protocols.indexOf(f)?n(new OA("Unsupported protocol "+f+":",OA.ERR_BAD_REQUEST,e)):u.send(r||null)}))},vP={http:null,xhr:gP};TA.forEach(vP,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(KP){}Object.defineProperty(e,"adapterName",{value:t})}}));const yP=e=>"- ".concat(e),bP=e=>TA.isFunction(e)||null===e||!1===e,wP=e=>{e=TA.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!bP(n)&&(r=vP[(t=String(n)).toLowerCase()],void 0===r))throw new OA("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(yP).join("\n"):" "+yP(e[0]):"as no adapter specified";throw new OA("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function _P(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new uP(null,e)}function EP(e){_P(e),e.headers=sP.from(e.headers),e.data=aP.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return wP(e.adapter||JA.adapter)(e).then((function(t){return _P(e),t.data=aP.call(e,e.transformResponse,t),t.headers=sP.from(t.headers),t}),(function(t){return lP(t)||(_P(e),t&&t.response&&(t.response.data=aP.call(e,e.transformResponse,t.response),t.response.headers=sP.from(t.response.headers))),Promise.reject(t)}))}const SP=e=>e instanceof sP?e.toJSON():e;function xP(e,t){t=t||{};const n={};function r(e,t,n){return TA.isPlainObject(e)&&TA.isPlainObject(t)?TA.merge.call({caseless:n},e,t):TA.isPlainObject(t)?TA.merge({},t):TA.isArray(t)?t.slice():t}function i(e,t,n){return TA.isUndefined(t)?TA.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!TA.isUndefined(t))return r(void 0,t)}function s(e,t){return TA.isUndefined(t)?TA.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(SP(e),SP(t),!0)};return TA.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);TA.isUndefined(s)&&o!==a||(n[r]=s)})),n}const kP="1.6.7",CP={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{CP[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const TP={};CP.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new OA(r(i," has been removed"+(t?" in "+t:"")),OA.ERR_DEPRECATED);return t&&!TP[i]&&(TP[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const DP={assertOptions:function(e,t,n){if("object"!==typeof e)throw new OA("options must be an object",OA.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new OA("option "+o+" must be "+n,OA.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new OA("Unknown option "+o,OA.ERR_BAD_OPTION)}},validators:CP},LP=DP.validators;class IP{constructor(e){this.defaults=e,this.interceptors={request:new WA,response:new WA}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=xP(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&DP.assertOptions(n,{silentJSONParsing:LP.transitional(LP.boolean),forcedJSONParsing:LP.transitional(LP.boolean),clarifyTimeoutError:LP.transitional(LP.boolean)},!1),null!=r&&(TA.isFunction(r)?t.paramsSerializer={serialize:r}:DP.assertOptions(r,{encode:LP.function,serialize:LP.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&TA.merge(i.common,i[t.method]);i&&TA.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=sP.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[EP.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=EP.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return BA(hP((e=xP(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}TA.forEach(["delete","get","head","options"],(function(e){IP.prototype[e]=function(t,n){return this.request(xP(n||{},{method:e,url:t,data:(n||{}).data}))}})),TA.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(xP(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}IP.prototype[e]=t(),IP.prototype[e+"Form"]=t(!0)}));const OP=IP;class NP{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new uP(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new NP((function(t){e=t})),cancel:e}}}const MP=NP;const AP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(AP).forEach((e=>{let[t,n]=e;AP[n]=t}));const PP=AP;const RP=function e(t){const n=new OP(t),r=GM(OP.prototype.request,n);return TA.extend(r,OP.prototype,n,{allOwnKeys:!0}),TA.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(xP(t,n))},r}(JA);RP.Axios=OP,RP.CanceledError=uP,RP.CancelToken=MP,RP.isCancel=lP,RP.VERSION=kP,RP.toFormData=RA,RP.AxiosError=OA,RP.Cancel=RP.CanceledError,RP.all=function(e){return Promise.all(e)},RP.spread=function(e){return function(t){return e.apply(null,t)}},RP.isAxiosError=function(e){return TA.isObject(e)&&!0===e.isAxiosError},RP.mergeConfig=xP,RP.AxiosHeaders=sP,RP.formToJSON=e=>ZA(TA.isHTMLForm(e)?new FormData(e):e),RP.getAdapter=wP,RP.HttpStatusCode=PP,RP.default=RP;const jP=RP;const UP=function(e){let{isOpen:t,onClose:r,onSave:i}=e;const[o,s]=(0,n.useState)({title:"",start:"",end:"",location:"",genre:"",description:"",capacity:"",actsneeded:"",email:"",username:"",latLng:{lat:null,lng:null}}),[a,l]=(0,n.useState)(null),{currentUser:c}=Fb(),[u,d]=(0,n.useState)(!1),[h,f]=(0,n.useState)(""),p=e=>{const{name:t,value:n}=e.target;"photo"===t?l(e.target.files[0]):s((e=>({...e,[t]:n})))};return t?(0,Pb.jsxs)("div",{className:"event-modal-container",children:[(0,Pb.jsx)("div",{className:"close-button",onClick:r,children:"X"}),(0,Pb.jsxs)("div",{className:"event-modal-content",children:[(0,Pb.jsx)("h2",{children:"Create Your Event"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Events can be anytime, not just at night."}),h&&(0,Pb.jsx)("p",{style:{color:"red"},children:h}),(0,Pb.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{const e=await(async e=>{try{const t=await jP.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:e,key:"AIzaSyAJP4EUYo_UsOFFPFHiIjcwU_OI77GQhIQ"}});if("OK"===t.data.status)return t.data.results[0].geometry.location;throw new Error("Geocoding failed, please add a valid location e.g. London: "+t.data.status)}catch(h){throw f("Geocoding error. Please try again."),h}})(o.location);s((t=>({...t,latLng:e})));const t=new Date(o.start),n=new Date(o.end);if(t<new Date)throw new Error("Event date cannot be in the past.");if(t>n)throw new Error("End date must be after start date.");if(isNaN(t.getTime())||isNaN(n.getTime()))throw new Error("Invalid start or end date.");let l="";if(a){const e=Cb(Nb,"events/".concat(Date.now(),"_").concat(a.name)),t=await xb(e,a);l=await kb(t.ref)}const u={...o,type:"AppEvent",photoURL:l,capacity:parseInt(o.capacity,10),uid:c.uid,genre:o.genre,email:c.email,username:c.displayName||"Anonymous",start:Xs.fromDate(t),end:Xs.fromDate(n),latLng:e},d=await Hp(Uf(Ib,"events"),u);alert("Event created successfully"),i({id:d.id,...u}),r()}catch(h){console.error("Error creating new event: ",h),f(h.message)}finally{d(!1)}},className:"form",children:[(0,Pb.jsxs)("label",{children:["Title:",(0,Pb.jsx)("input",{type:"text",name:"title",value:o.title,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["Genre:",(0,Pb.jsx)("input",{type:"text",name:"genre",value:o.genre,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["From:",(0,Pb.jsx)("input",{type:"datetime-local",name:"start",value:o.start,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["Till:",(0,Pb.jsx)("input",{type:"datetime-local",name:"end",value:o.end,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["Location:",(0,Pb.jsx)("input",{type:"text",name:"location",value:o.location,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["No. of Acts Needed:",(0,Pb.jsx)("input",{type:"text",name:"actsneeded",value:o.actsneeded,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["Description:",(0,Pb.jsx)("textarea",{name:"description",value:o.description,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["Capacity:",(0,Pb.jsx)("input",{type:"number",name:"capacity",value:o.capacity,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["Contact Email:",(0,Pb.jsx)("textarea",{name:"email",value:o.email,onChange:p,required:!0})]}),(0,Pb.jsxs)("label",{children:["Event Flyer:",(0,Pb.jsx)("input",{type:"file",name:"photo",onChange:p})]}),(0,Pb.jsx)("button",{type:"submit",disabled:u,className:"button",children:"Save Event"})]})]})]}):null},FP=e=>{let{isOpen:t,onClose:r,event:i,profileData:o,creatorEmail:s,setNotification:a}=e;const[l,c]=(0,n.useState)({name:"",userMessage:""}),[u,d]=(0,n.useState)([]),[h,f]=(0,n.useState)(""),{eventId:p}=(J(),ee()),{uid:m}=ee(),[g,v]=(0,n.useState)(null),[y,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>{p&&(async()=>{try{const e=Ff(Ib,"events",p),t=await zp(e);if(t.exists()){const e=t.data();v({...e,start:e.start instanceof Xs?e.start.toDate():new Date(e.start),end:e.end instanceof Xs?e.end.toDate():new Date(e.end)}),c((t=>({...t,creatorEmail:e.email})))}else console.error("No such event document!"),f("Failed to fetch event details.")}catch(h){console.error("Error fetching event or user details:",h),f("Failed to fetch details.")}})()}),[p]);const w=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))};return t?(0,Pb.jsx)("div",{className:"modal-overlay",children:(0,Pb.jsxs)("div",{className:"email-modal-events-container",children:[(0,Pb.jsx)("div",{className:"email-modal-header",children:(0,Pb.jsx)("button",{onClick:()=>{r(),b(!1)},className:"close-button",children:"X"})}),(0,Pb.jsxs)("div",{className:"email-modal-content",children:[i?(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("h2",{children:i.title}),(0,Pb.jsxs)("p",{children:["Genre: ",i.genre]}),(0,Pb.jsxs)("p",{children:["Start: ",new Date(i.start).toLocaleString()]}),(0,Pb.jsxs)("p",{children:["End: ",new Date(i.end).toLocaleString()]}),(0,Pb.jsxs)("p",{children:["Description: ",i.description]}),(0,Pb.jsxs)("p",{children:["Location: ",i.location]}),(0,Pb.jsx)("p",{children:(0,Pb.jsx)("a",{href:(e=>{const{lat:t,lng:n}=e;return"https://www.google.com/maps/dir/?api=1&destination=".concat(t,",").concat(n)})(i),target:"_blank",rel:"noopener noreferrer",children:"Get Directions \ud83d\udccd"})})]}):(0,Pb.jsx)("p",{children:"Loading event details..."}),(0,Pb.jsxs)("p",{children:["Created by:"," ",(0,Pb.jsx)(ke,{to:"/user/".concat(i.uid),style:{textDecoration:"underline"},children:i.username})," "]}),"string"===typeof y&&(0,Pb.jsx)("p",{children:y}),(0,Pb.jsx)("h4",{className:"form-group",children:"Fill out contact form:"}),(0,Pb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(!1);const t="http://localhost:3000/event/".concat(p),n="".concat((null===i||void 0===i?void 0:i.description)||"","\n\nView Event at: ").concat(t),o={event_title:(null===i||void 0===i?void 0:i.title)||"",event_date:null!==i&&void 0!==i&&i.start?"".concat(i.start.toLocaleDateString()):"N/A",event_genre:(null===i||void 0===i?void 0:i.genre)||"",event_time:null!==i&&void 0!==i&&i.start&&null!==i&&void 0!==i&&i.end?"".concat(i.start.toLocaleTimeString()," - ").concat(i.end.toLocaleTimeString()):"N/A",event_description:n,event_location:(null===i||void 0===i?void 0:i.location)||"N/A",user_email:l.email,user_username:l.username,user_message:l.userMessage,to_email:null===i||void 0===i?void 0:i.email};dE("service_hmbss4p","template_6huj8xr",o,"qPX4lZbgV_2l9XtX7").then((e=>{console.log("Email successfully sent!"),c({name:"",userMessage:""}),r(),b("Email successfully sent! Please check your emails to see if you've been contacted by the organiser."),a({show:!0,message:"Email successfully sent!",type:"success"}),setTimeout((()=>a({show:!1,message:"",type:""})),5e3)})).catch((e=>{console.error("Failed to send email:",e),a({show:!0,message:"Failed to send your message. Please try again.",type:"error"});Hp(Uf(Ib,"contactedEvents"),{eventId:i.id,timestamp:Xs.now()}).then((()=>{console.log("Event contact has been noted in Firestore!")})).catch((e=>{console.error("Error noting event contact in Firestore: ",e)}))}),(e=>{console.log("Failed to send email:",e)}))},className:"form-group",children:[(0,Pb.jsxs)("label",{children:["Your Contact Email:",(0,Pb.jsx)("input",{type:"email",name:"email",value:l.email,onChange:w,placeholder:"Your Contact Email",className:"input-text",required:!0})]}),(0,Pb.jsxs)("label",{children:["Your Username:",(0,Pb.jsx)("input",{type:"text",name:"username",value:l.username,onChange:w,placeholder:"Your Username",className:"input-text",required:!0})]}),(0,Pb.jsxs)("label",{children:["Your Message:",(0,Pb.jsx)("textarea",{name:"userMessage",value:l.userMessage,onChange:w,placeholder:"Hi, I would like to perform!",className:"textarea",required:!0})]}),(0,Pb.jsx)("button",{type:"submit",className:"button",children:"Send Message"})]})]})]})}):null},zP=()=>{const{currentUser:e}=Fb(),[t,r]=(0,n.useState)({}),[i,o]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)({show:!1,message:"",type:""}),[h,f]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),[y,b]=(0,n.useState)({eventname:"",location:"",genre:"",date:"",time:"",capacity:""}),[w,_]=(0,n.useState)([]),[E,S]=(0,n.useState)(),x=(J(),e=>{const{name:t,value:n}=e.target;b({...y,[t]:n})}),k=e=>{let{type:t,message:n}=e;if(!n)return null;const r={position:"fixed",top:"10px",right:"10px",border:"1px solid",borderColor:"success"===t?"green":"red",backgroundColor:"success"===t?"#d4edda":"#f8d7da",color:"success"===t?"#155724":"#721c24",padding:"10px",borderRadius:"5px",zIndex:1e3};return(0,Pb.jsx)("div",{style:r,children:n})},C=async t=>{if(!e)return void alert("Please log in to add favorites.");const n=Uf(Ib,"favorites"),r={eventId:t.id,uid:e.uid};try{const i=xp(n,Cp("eventId","==",t.id),Cp("uid","==",e.uid));(await Bp(i)).empty?(await Hp(n,r),alert("Event added to favorites!"),t.uid!==e.uid&&await(async(e,t)=>{const n=Uf(Ib,"notifications"),r={receiverId:t,message:"Your event (".concat(e,") has been favorited by another user."),read:!1,createdAt:new Date};try{await Hp(n,r)}catch(l){console.error("Error creating notification: ",l)}})(t.id,t.uid)):alert("This event is already in your favorites.")}catch(l){console.error("Error adding event to favorites: ",l),alert("Failed to add event to favorites.")}};(0,n.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.uid){const t=Ff(Ib,"users",e.uid),n=await zp(t);n.exists()?r(n.data()):console.log("No such document!")}})()}),[e]);(0,n.useEffect)((()=>{const e=window.location.hash;if(e&&i.length>0){const t=e.substring(1),n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}}),[i]),(0,n.useEffect)((()=>{if(!e)return c("Please log in to view events."),void a(!1);T()}),[e]);const T=()=>{const e=document.createElement("script");e.src="https://apis.google.com/js/api.js",e.onload=()=>{Ab.r.load("client:auth2",D)},document.body.appendChild(e)},D=()=>{Ab.r.client.init({clientId:"556828166349-jjodibfl9b6g3djt6r0hq93go56qjprr.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar"}).then((()=>{L()})).catch((e=>{console.error("Error loading GAPI client for API",e),c("Failed to load Google API client")}))},L=async()=>{a(!0);try{let t=[];try{t=await I()}catch(e){console.error("Error fetching Firestore events:",e)}o([...t])}catch(l){console.error("Error fetching events:",l),c(l.message)}finally{a(!1)}},I=async()=>{try{const e=new Date,t=xp(Uf(Ib,"events"),Cp("end",">",Xs.fromDate(e)),Lp("end","asc")),n=(await Bp(t)).docs.map((e=>{const t=e.data();return{id:e.id,title:t.title,genre:t.genre,description:t.description,location:t.location,start:t.start instanceof Xs?t.start.toDate():new Date(t.start),end:t.end instanceof Xs?t.end.toDate():new Date(t.end),username:t.username,uid:t.uid,email:t.email,photoURL:t.photoURL,capacity:t.capacity}}));return n.sort(((e,t)=>e.start.getTime()-t.start.getTime())),n}catch(l){throw console.error("Error fetching Firestore events:",l),new Error("Failed to fetch Firestore events.")}},O=async(e,t)=>{const n="http://localhost:3000/event/".concat(t),r={summary:"[AppEvent]".concat(e.title),location:e.location,description:"".concat(e.description,"\n\nView Event at: ").concat(n),start:{dateTime:e.start.toISOString(),timeZone:"Europe/London"},end:{dateTime:e.end.toISOString(),timeZone:"Europe/London"},extendedProperties:{private:{appIdentifier:"YourAppIdentifier",genre:e.genre}}};try{await Ab.r.client.calendar.events.insert({calendarId:"primary",resource:r}),alert("Event added to Google Calendar with a link to the details page.")}catch(l){console.error("Error adding event to Google Calendar:",l),alert("Failed to add event to Google Calendar.")}};return s?(0,Pb.jsx)("div",{children:"Loading..."}):l?(0,Pb.jsxs)("div",{children:["Error: ",l]}):(0,Pb.jsxs)("div",{className:"container",children:[u.show&&(0,Pb.jsx)(k,{type:u.type,message:u.message}),(0,Pb.jsx)("h2",{className:"header-text",children:"Filter Events"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Use the filters to find upcoming events."}),(0,Pb.jsxs)("div",{className:"events-filter-content",children:[(0,Pb.jsxs)("div",{className:"input-group",children:[(0,Pb.jsx)("input",{type:"text",name:"eventname",placeholder:"Event Name",value:y.name,onChange:x}),(0,Pb.jsx)("input",{type:"text",name:"location",placeholder:"Location",value:y.location,onChange:x}),(0,Pb.jsx)("input",{type:"text",name:"genre",placeholder:"Genre",value:y.genre,onChange:x}),(0,Pb.jsx)("input",{type:"date",name:"date",placeholder:"Date",value:y.date,onChange:x}),(0,Pb.jsx)("input",{type:"number",name:"capacity",placeholder:"Minimum Capacity",value:y.capacity,onChange:x})]}),(0,Pb.jsxs)("div",{className:"button-group",children:[(0,Pb.jsx)("button",{onClick:()=>{_(i.filter((e=>(!y.name||e.title===y.name)&&(!y.location||e.location.includes(y.location))&&(!y.genre||e.genre===y.genre)&&(!y.date||new Date(e.start).toDateString()===new Date(y.date).toDateString())&&(!y.capacity||e.capacity>=y.capacity))))},className:"button",children:"Apply Filters"}),(0,Pb.jsx)("button",{onClick:()=>{b({name:"",location:"",genre:"",date:"",capacity:""}),_(i)},className:"button",children:"Reset Filters"})]})]}),(0,Pb.jsx)("p",{className:"centre-text",children:"Use the 'Create A Night' to create an event."}),(0,Pb.jsx)("button",{onClick:()=>f(!0),className:"button",children:"Create A Night"}),(0,Pb.jsx)("h2",{className:"header-text",children:"Upcoming Events"}),(0,Pb.jsxs)("div",{className:"event-filter-results",children:[(0,Pb.jsx)("ul",{children:w.length>0?w.map((e=>(0,Pb.jsxs)("li",{id:e.id,style:{backgroundColor:"rgb(131, 131, 131)",padding:"10px",marginBottom:"10px",borderRadius:"5px"},children:[(0,Pb.jsx)("h3",{children:e.title}),(0,Pb.jsxs)("p",{children:["Genre: ",e.genre]}),(0,Pb.jsxs)("p",{children:["Start: ",e.start.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["End: ",e.end.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["Description: ",e.description]}),(0,Pb.jsxs)("p",{children:["Location: ",e.location]}),(0,Pb.jsxs)("p",{children:["Capacity: ",e.capacity]}),(0,Pb.jsx)("p",{children:"Event Flyer:"}),e.photoURL&&(0,Pb.jsx)("img",{src:e.photoURL,alt:"Event",style:{maxWidth:"10%",height:"auto"}}),(0,Pb.jsxs)("p",{children:["Created by:"," ",(0,Pb.jsxs)(ke,{to:"/user/".concat(e.uid),children:["Go to ",e.username,"'s profile"]})]}),(0,Pb.jsx)("button",{onClick:()=>{m(!0),v(e)},className:"button",children:"Send a Message"}),(0,Pb.jsx)("button",{onClick:()=>O(e),className:"button",children:"Add to Google Calendar"})]},e.id))):(0,Pb.jsx)("p",{})}),i.length>0&&(0,Pb.jsx)("ul",{children:i.map((n=>(0,Pb.jsxs)("li",{id:n.id,style:{backgroundColor:"rgb(131, 131, 131)",padding:"20px",marginBottom:"10px",borderRadius:"5px"},children:[(0,Pb.jsx)("h3",{children:n.title}),(0,Pb.jsxs)("p",{children:["Genre: ",n.genre]}),(0,Pb.jsxs)("p",{children:["Start: ",n.start.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["End: ",n.end.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["Description: ",n.description]}),(0,Pb.jsxs)("p",{children:["Location: ",n.location]}),(0,Pb.jsxs)("p",{children:["Capacity: ",n.capacity]}),(0,Pb.jsx)("p",{children:"Event Flyer:"}),n.photoURL&&(0,Pb.jsx)("img",{src:n.photoURL,alt:"Event",style:{maxWidth:"10%",height:"auto"}}),(0,Pb.jsxs)("p",{children:["Created by:",(0,Pb.jsxs)(ke,{to:"/user/".concat(n.uid),className:"link-button",children:["Go to ",n.username,"'s profile"]})]}),(0,Pb.jsx)("button",{onClick:()=>{m(!0),v(n)},className:"button",children:"Send a Booking"}),(0,Pb.jsx)("button",{onClick:()=>O(n),className:"button",children:"Add to Google Calendar"}),(0,Pb.jsx)("button",{onClick:()=>C(n),className:"button",children:"Favorite"}),(0,Pb.jsx)("button",{onClick:()=>(async n=>{if(!e)return void alert("Please log in to accept events.");const r=Uf(Ib,"eventAcceptances"),i={eventId:n.id,userId:e.uid,acceptedAt:Xs.now()};try{await Hp(r,i),console.log("Event acceptance recorded")}catch(l){return console.error("Error recording event acceptance: ",l),void alert("Failed to accept event.")}const o="http://localhost:3000/event/".concat(n.id),s={to_email:null===n||void 0===n?void 0:n.email,message:"Your event, ".concat(n.title,", has been accepted by ").concat(e.username||"a user",". You can contact them at ").concat(e.email,"."),event_title:(null===n||void 0===n?void 0:n.title)||"",event_date:null!==n&&void 0!==n&&n.start?"".concat(n.start.toLocaleDateString()):"N/A",event_genre:(null===n||void 0===n?void 0:n.genre)||"",event_time:null!==n&&void 0!==n&&n.start&&null!==n&&void 0!==n&&n.end?"".concat(n.start.toLocaleTimeString()," - ").concat(n.end.toLocaleTimeString()):"N/A",event_description:"".concat((null===n||void 0===n?void 0:n.description)||"","\n\nView Event at: ").concat(o),event_location:(null===n||void 0===n?void 0:n.location)||"N/A",event_username:null===n||void 0===n?void 0:n.username,user_username:t.username,user_email:t.email};dE("service_hmbss4p","template_9ygxgck",s,"qPX4lZbgV_2l9XtX7").then((e=>{d({show:!0,message:"Event successfully accepted!",type:"success"}),setTimeout((()=>d({show:!1,message:"",type:""})),5e3)})).catch((e=>{d({show:!0,message:"Failed to send acceptance email.",type:"error"})}))})(n),className:"button",children:"Accept Event"})]},n.id)))})]}),(0,Pb.jsx)(FP,{isOpen:p,onClose:()=>m(!1),event:g,onSave:async t=>{if(!e)return void alert("Please log in to contact about an event.");const n=Uf(Ib,"contactedEvents"),r={eventId:g.id,uid:e.uid,creatorEmail:t.email};try{await Hp(n,r),alert("Event contact has been noted!")}catch(l){console.error("Error noting event contact: ",l),alert("Failed to note event contact.")}},setNotification:d}),(0,Pb.jsx)(UP,{isOpen:h,onClose:()=>f(!1),onSave:async()=>{try{const e=await L();e&&Array.isArray(e)&&(o(e),_(e))}catch(l){console.error("Failed to refresh events:",l)}},onEventCreated:e=>{o((t=>[...t,e]))}})]})},VP=()=>{const[e,t]=(0,n.useState)([{name:"Free Music Archive",url:"https://freemusicarchive.org/",description:"A library of high-quality, legal audio downloads directed by WFMU.",imageUrl:"https://i1.sndcdn.com/avatars-000032470481-jowql3-t500x500.jpg"},{name:"Bandcamp",url:"https://bandcamp.com/",description:"An online record store and music community where passionate fans discover, connect with, and directly support the artists they love.",imageUrl:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/092013/bandcamp_0.png?itok=YWz3MeYO"}]);return(0,Pb.jsxs)("div",{className:"container",children:[(0,Pb.jsx)("h1",{className:"centre-text",children:"Resources for Independent Musicians"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Here at Gigify, we care about grassroots musicians. Click the links below to view the resources."}),(0,Pb.jsx)("div",{className:"resource-list",children:e.map(((e,t)=>(0,Pb.jsxs)("div",{className:"resource-item",children:[e.imageUrl&&(0,Pb.jsx)("img",{src:e.imageUrl,alt:e.name,style:{maxWidth:"100px",maxHeight:"100px"}}),(0,Pb.jsx)("p",{}),(0,Pb.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.name}),(0,Pb.jsx)("p",{children:e.description})]},t)))})]})},BP=e=>{let{isOpen:t,onClose:r,onSave:i,onDelete:o,event:s=null}=e;const[a,l]=(0,n.useState)({title:"",description:"",start:"",end:"",location:"",capacity:"",photo:null,photoURL:"",genre:""});(0,n.useEffect)((()=>{if(s){const e=s.start instanceof Xs?s.start.toDate().toISOString().substring(0,16):new Date(s.start).toISOString().substring(0,16),t=s.end instanceof Xs?s.end.toDate().toISOString().substring(0,16):new Date(s.end).toISOString().substring(0,16);l({...s,start:e,end:t,photo:null})}}),[s]);const c=e=>{const{name:t,value:n,files:r}=e.target;l((e=>({...e,[t]:r?r[0]:n})))};return t?(0,Pb.jsx)("div",{className:"modal-overlay",children:(0,Pb.jsx)("div",{className:"email-modal-events-container",children:(0,Pb.jsx)("div",{className:"email-modal-header",children:(0,Pb.jsxs)("div",{className:"email-modal-content",children:[(0,Pb.jsx)("h2",{children:"Edit Event"}),(0,Pb.jsx)("button",{onClick:r,className:"close-button",children:"X"}),(0,Pb.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t={...a};if(delete t.photo,a.photo instanceof File){const e=Cb(Nb,"eventPhotos/".concat(a.photo.name)),n=await xb(e,a.photo),r=await kb(n.ref);t.photoURL=r}const n=Ff(Ib,"events",s.id);await Wp(n,t),i(t),r()},className:"form-group",children:[(0,Pb.jsxs)("label",{children:["Title:",(0,Pb.jsx)("input",{type:"text",name:"title",value:a.title,onChange:c,className:"input-text",required:!0})]}),(0,Pb.jsxs)("label",{children:["Genre:",(0,Pb.jsx)("input",{type:"text",name:"genre",value:a.genre,onChange:c,className:"input-text",required:!0})]}),(0,Pb.jsxs)("label",{children:["From:",(0,Pb.jsx)("input",{type:"datetime-local",name:"start",value:a.start,onChange:c,className:"input-text",required:!0})]}),(0,Pb.jsxs)("label",{children:["Till:",(0,Pb.jsx)("input",{type:"datetime-local",name:"end",value:a.end,onChange:c,className:"input-text",required:!0})]}),(0,Pb.jsxs)("label",{children:["Location:",(0,Pb.jsx)("input",{type:"text",name:"location",value:a.location,onChange:c,className:"input-text",required:!0})]}),(0,Pb.jsxs)("label",{children:["Description:",(0,Pb.jsx)("textarea",{name:"description",value:a.description,onChange:c,className:"textarea",required:!0})]}),(0,Pb.jsxs)("label",{children:["Capacity:",(0,Pb.jsx)("input",{type:"number",name:"capacity",value:a.capacity,onChange:c,className:"input-text",required:!0})]}),(0,Pb.jsx)("button",{type:"submit",className:"button",children:s?"Update Event":"Create Event"}),s&&(0,Pb.jsx)("button",{type:"button",onClick:async()=>{if(window.confirm("Are you sure you want to delete this event?")){const e=Ff(Ib,"events",s.id);if(await qp(e),s.photoURL){const e=Cb(Nb,s.photoURL);await function(e){return mb(e=et(e))}(e)}o(s.id),r()}},className:"button",children:"Delete Event"})]})]})})})}):null},WP=()=>{const{currentUser:e}=Fb(),[t,r]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[s,a]=(0,n.useState)([]),[l,c]=(0,n.useState)(!0),[u,d]=(0,n.useState)(null),[h,f]=(0,n.useState)(null),[p,m]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),y=J();(0,n.useEffect)((()=>{if(!e)return;const t=Yp(xp(Uf(Ib,"events"),Cp("uid","==",e.uid)),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));r(t),c(!1)}),(e=>{console.error("Error fetching created events:",e),c(!1)}));return()=>t()}),[e]),(0,n.useEffect)((()=>{if(!e)return;const t=Yp(xp(Uf(Ib,"favorites"),Cp("uid","==",e.uid)),(e=>{const t=[];e.forEach((async e=>{const n=await zp(Ff(Ib,"events",e.data().eventId));n.exists()&&t.push({id:n.id,...n.data()})})),o(t)}));return()=>t()}),[e]),(0,n.useEffect)((()=>{if(!e)return;const t=Yp(xp(Uf(Ib,"contactedEvents"),Cp("uid","==",e.uid)),(e=>{const t=[];e.forEach((async e=>{const n=await zp(Ff(Ib,"events",e.data().eventId));n.exists()&&t.push({id:n.id,...n.data()})})),a(t)}));return()=>t()}),[e]);return l?(0,Pb.jsx)("div",{children:"Loading..."}):(0,Pb.jsxs)("div",{className:"container",children:[(0,Pb.jsx)("h2",{className:"centre-text",children:"My Created Events"}),(0,Pb.jsx)("p",{className:"centre-text",children:"Find all the events you've made here."}),t.map((e=>(0,Pb.jsxs)("div",{className:"myevents-sub-content",children:[(0,Pb.jsx)("h3",{className:"centre-text",children:e.title}),(0,Pb.jsx)("button",{onClick:()=>{return t=e.id,d(t),void v(!0);var t},className:"button",children:"Edit"})]},e.id))),(0,Pb.jsx)("h2",{className:"centre-text",children:"My Favorite Events"}),i.length>0?i.map((e=>(0,Pb.jsxs)("div",{children:[(0,Pb.jsx)("h3",{children:e.title}),(0,Pb.jsx)("p",{children:e.genre}),(0,Pb.jsxs)("p",{children:["Start: ",e.start.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["End: ",e.end.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["Description: ",e.description]}),(0,Pb.jsxs)("p",{children:["Location: ",e.location]}),(0,Pb.jsxs)("p",{children:["Capacity: ",e.capacity]}),(0,Pb.jsx)("p",{children:"Event Flyer:"}),e.photoURL&&(0,Pb.jsx)("img",{src:e.photoURL,alt:"Event",style:{maxWidth:"10%",height:"auto"}}),(0,Pb.jsxs)("p",{children:["Created by:"," ",(0,Pb.jsx)(ke,{to:"/user/".concat(e.uid),style:{textDecoration:"underline"},children:e.username})]}),(0,Pb.jsx)("button",{onClick:()=>(e.id,void y("/events")),className:"button",children:"See Event"})]},e.id))):(0,Pb.jsxs)("p",{className:"centre-text",children:["You haven't favorited any shows yet."," ",(0,Pb.jsx)(ke,{to:"/events",children:"Go to Events!"})]}),(0,Pb.jsx)("h2",{className:"centre-text",children:"Contacted Shows"}),s.length>0?s.map((e=>(0,Pb.jsxs)("div",{children:[(0,Pb.jsx)("h3",{children:e.title}),(0,Pb.jsx)("p",{children:e.genre}),(0,Pb.jsxs)("p",{children:["Start: ",e.start.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["End: ",e.end.toLocaleString()]}),(0,Pb.jsxs)("p",{children:["Description: ",e.description]}),(0,Pb.jsxs)("p",{children:["Location: ",e.location]}),(0,Pb.jsxs)("p",{children:["Capacity: ",e.capacity]}),(0,Pb.jsx)("p",{children:"Event Flyer:"}),e.photoURL&&(0,Pb.jsx)("img",{src:e.photoURL,alt:"Event",style:{maxWidth:"10%",height:"auto"}}),(0,Pb.jsxs)("p",{children:["Created by:"," ",(0,Pb.jsx)(ke,{to:"/user/".concat(e.uid),style:{textDecoration:"underline"},children:e.username})]}),(0,Pb.jsx)("button",{onClick:()=>(e=>{f(e),m(!0)})(e),className:"button",children:"Send Message"}),(0,Pb.jsx)("button",{onClick:()=>{f(e),m(!0)},className:"button",children:"Send Message"})]},e.id))):(0,Pb.jsxs)("p",{className:"centre-text",children:["You haven't contacted any shows yet."," ",(0,Pb.jsx)(ke,{to:"/events",children:"Go to Events!"})]}),u&&g&&(0,Pb.jsx)(BP,{isOpen:g,onClose:()=>{v(!1),d(null)},event:t.find((e=>e.id===u))}),h&&p&&(0,Pb.jsx)(FP,{isOpen:p,event:h})]})};const qP=function(){const e=J(),[t,r]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),{currentUser:s}=Fb(),[a,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[f,p]=(0,n.useState)({email:"",fullName:"",username:"",location:"",role:"",category:"",maxTravelDistance:"",performanceStyle:"",preferredVenues:"",preferredStyles:"",ambience:"",disabilities:"",youtubeLink:"",spotifyLink:""}),[m,g]=(0,n.useState)([]),[v,y]=(0,n.useState)([]),[b,w]=(0,n.useState)([]),[_,E]=(0,n.useState)(!1),[S,x]=(0,n.useState)("");(0,n.useEffect)((()=>{s&&((async()=>{if(!s)return;const e=s.uid,t=xp(Uf(Ib,"galleryItems"),Cp("uid","==",e)),n=(await Bp(t)).docs.map((e=>({id:e.id,...e.data()})));y(n)})(),(async()=>{E(!0);try{const e=null===s||void 0===s?void 0:s.uid,t=Ff(Ib,"users",e),n=await zp(t);if(n.exists()){if(p(n.data()),l(n.data().category),f.youtubeEmbedUrl){const e=f.youtubeEmbedUrl.split("/").pop(),t="https://www.youtube.com/watch?v=".concat(e);u(t)}if(f.spotifyEmbedUrl){const e=f.spotifyEmbedUrl.match(/spotify\.com\/embed\/(track|playlist|album)\/([^?]+)/);if(e){const t=e[1],n=e[2],r="https://open.spotify.com/".concat(t,"/").concat(n);h(r)}}}else x("User not found.")}catch(S){x("Error fetching user data: "+S.message)}finally{E(!1)}})())}),[s]);const k=e=>{const{name:t,value:n}=e.target;if("email"===t){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?o(""):o("Please enter a valid email address.")}if("birthday"===e.target.name){const t=new Date(e.target.value),n=new Date,i=n.getFullYear()-t.getFullYear(),o=n.getMonth()-t.getMonth();if((o<0||0===o&&n.getDate()<t.getDate())&&i--,i<16)return void r("You must be at least 16 years old to register.");r("")}if("file"===e.target.type)p((t=>({...t,[e.target.name]:e.target.files[0]})));else if("birthday"===e.target.name){const{value:t}=e.target,n=new Date(t);if((new Date).getFullYear()-n.getFullYear()<16)return void console.error("User must be 16 years old or older.");p((n=>({...n,[e.target.name]:t})))}else{const{name:t,value:n}=e.target;p((e=>({...e,[t]:n})))}},C=async n=>{if(n.preventDefault(),E(!0),x(""),i)return void alert("Please correct the errors before submitting.");if(t)return void alert("Please correct the errors before submitting.");const r=(e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11===t[2].length?"https://www.youtube.com/embed/".concat(t[2]):null})(c),o=(e=>{const t=e.match(/^(?:https?:\/\/)?open\.spotify\.com\/(track|playlist|album)\/([^?]*)(?:\?.*)?$/);return t&&t[1]&&t[2]?"https://open.spotify.com/embed/".concat(t[1],"/").concat(t[2]):null})(d);try{const t=null===s||void 0===s?void 0:s.uid;if(!t)throw new Error("User ID not available");const n={...f,youtubeEmbedUrl:r,spotifyEmbedUrl:o};delete n.profilePicture;let i=f.profilePictureUrl;if(f.profilePicture instanceof File){const e=Cb(Nb,"profilePictures/".concat(t,"/").concat(f.profilePicture.name)),r=await xb(e,f.profilePicture);i=await kb(r.ref),n.profilePictureUrl=i}const a=Ff(Ib,"users",t);await Wp(a,n),E(!1);for(const e of m){const n=Cb(Nb,"galleryItems/".concat(t,"/").concat(e.name)),r=await xb(n,e),i=await kb(r.ref);await Hp(Uf(Ib,"galleryItems"),{uid:t,url:i,type:e.type.startsWith("image")?"photo":"video"})}alert("Profile updated successfully!"),e("/user-profile/".concat(t))}catch(S){console.error("Error updating profile: ".concat(S)),x("Error updating profile: ".concat(S.message))}finally{E(!1)}};return _?(0,Pb.jsx)("div",{children:"Loading..."}):S?(0,Pb.jsxs)("div",{children:["Error: ",S]}):(0,Pb.jsx)("div",{className:"container",children:(0,Pb.jsxs)("div",{className:"edit-profile-container",children:[(0,Pb.jsx)("h2",{children:"Create Your Profile"}),(0,Pb.jsxs)("form",{onSubmit:C,children:[(0,Pb.jsx)("p",{children:"Username:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"username",value:f.username,onChange:k,type:"text",placeholder:"@Username",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your unique username.",children:"@"})]}),(0,Pb.jsx)("p",{children:"Category:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsxs)("select",{name:"category",value:f.category,onChange:k,children:[(0,Pb.jsx)("option",{value:"",children:"Select a Category"}),(0,Pb.jsx)("option",{value:"Musician",children:"Musician"}),(0,Pb.jsx)("option",{value:"Venue",children:"Venue"})]}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Choose a category that best describes you.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Contact Email:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"email",value:f.email,onChange:k,type:"email",placeholder:"Email",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your email address used for communication.",children:"i"})]}),i&&(0,Pb.jsx)("p",{className:"error",children:i}),(0,Pb.jsx)("p",{children:"Full Name:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"fullName",value:f.fullName,onChange:k,type:"text",placeholder:"Full Name",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your legal full name.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Birthday:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"birthday",value:f.birthday,onChange:k,type:"date",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your birth date. Must be 18 or older.",children:"i"})]}),t&&(0,Pb.jsx)("p",{className:"error",children:t}),(0,Pb.jsx)("p",{children:"Genre:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"genre",value:f.genre,onChange:k,type:"text",placeholder:"Genre",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Specify your music genre or the event's ambience.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Location:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"location",value:f.location,onChange:k,type:"text",placeholder:"Location",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter your primary operating or living location.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Bio:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"bio",value:f.bio,onChange:k,type:"text",placeholder:"Bio",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Write a short biography to appear on your profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Max Travel Distance (miles):"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"maxTravelDistance",type:"number",onChange:k,value:f.maxTravelDistance||"",placeholder:"Max Travel Distance",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter the maximum distance you are willing to travel.",children:"i"})]}),"Musician"===a&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("p",{children:"Role:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"role",value:f.role,onChange:k,type:"text",placeholder:"Singer, Guitarist, etc.",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Describe your role in performances.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Performance Style:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"performanceStyle",value:f.performanceStyle||"",onChange:k,placeholder:"Solo, Band, DJ, etc.",required:"Musician"===a}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Describe the style or nature of your performances.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Preferred Venues:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"preferredVenues",value:f.preferredVenues||"",onChange:k,placeholder:"Cafes, Theaters, etc.",required:"Musician"===a}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"List types of venues you prefer for your performances.",children:"i"})]})]}),"Venue"===a&&(0,Pb.jsxs)(Pb.Fragment,{children:[(0,Pb.jsx)("p",{children:"Preferred Styles:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"preferredStyles",value:f.preferredStyles||"",onChange:k,placeholder:"Jazz, Rock, Electronic, etc.",required:"Venue"===a}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Specify the musical styles preferred for events at your venue.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Ambience:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"ambience",value:f.ambience||"",onChange:k,placeholder:"Casual, Intimate, etc.",required:"Venue"===a}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Describe the general atmosphere of your venue.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Capacity:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"capacity",value:f.capacity,onChange:k,type:"number",placeholder:"Maximum number of attendees."}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Enter the maximum capacity of your venue.",children:"i"})]})]}),(0,Pb.jsx)("p",{children:"Disabilities:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"disabilities",onChange:k,value:f.disabilities||"",placeholder:"Disabilities"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Please outline any disabilities.",children:"i"})]}),(0,Pb.jsx)("p",{children:"YouTube Embed:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"text",name:"youtubeLink",value:f.youtubeLink,onChange:e=>u(e.target.value),placeholder:"Enter YouTube URL link"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a link to a YouTube video to embed on your profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Spotify Embed:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"text",name:"spotifyLink",value:f.spotifyLink,onChange:e=>h(e.target.value),placeholder:"Enter Spotify URL link"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a link to a Spotify track or playlist to embed on your profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Instagram:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"instagram",value:f.instagram,onChange:k,type:"text",placeholder:"Link your Instagram",required:!0}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Link your Instagram profile for others to follow.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Spotify:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"spotify",value:f.spotify,onChange:k,type:"text",placeholder:"Link your Spotify"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a direct link to your Spotify profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"TikTok:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"tiktok",value:f.tiktok,onChange:k,type:"text",placeholder:"Link your TikTok"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Provide a link to your TikTok profile.",children:"i"})]}),(0,Pb.jsx)("p",{children:"YouTube:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{name:"youtube",value:f.youtube,onChange:k,type:"text",placeholder:"Link your YouTube"}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Link your YouTube channel.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Profile Picture:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"file",name:"profilePicture",onChange:k}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Upload a profile picture to enhance your profile's visibility.",children:"i"})]}),(0,Pb.jsx)("p",{children:"Add Photos/Videos to Gallery:"}),(0,Pb.jsxs)("div",{className:"input-with-info",children:[(0,Pb.jsx)("input",{type:"file",multiple:!0,onChange:e=>g([...e.target.files])}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Add photos or videos to your gallery.",children:"i"})]}),(0,Pb.jsx)("div",{className:"input-with-info",children:v.map((e=>(0,Pb.jsxs)("div",{className:"gallery-items-container",children:["photo"===e.type?(0,Pb.jsx)("img",{src:e.url,alt:"Gallery Item",style:{maxWidth:"100px",maxHeight:"100px"}}):(0,Pb.jsxs)("video",{width:"320",height:"240",controls:!0,children:[(0,Pb.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,Pb.jsx)("input",{type:"checkbox",onChange:t=>((e,t)=>{e.target.checked?w([...b,t]):w(b.filter((e=>e!==t)))})(t,e.id),checked:b.includes(e.id)}),(0,Pb.jsx)("span",{className:"info-icon","data-tooltip":"Select items to delete from your gallery.",children:"i"})]},e.id)))}),(0,Pb.jsx)("button",{type:"button",onClick:async()=>{const e=Wf(),t=Xp(e);for(const n of b){const r=Ff(e,"galleryItems",n);t.delete(r)}try{await t.commit(),y(v.filter((e=>!b.includes(e.id)))),w([]),alert("Selected items deleted successfully!")}catch(S){console.error("Error deleting items:",S),alert("Failed to delete items. Please try again later.")}},className:"button",children:"Delete Selected Photos"}),(0,Pb.jsx)("button",{onClick:C,className:"button",children:"Update Profile"})]})]})})},HP=()=>(0,Pb.jsx)("footer",{className:"footer",children:(0,Pb.jsx)("p",{children:"Gigify 2024 \xa9"})});const YP=function(){return(0,Pb.jsxs)(Ub,{children:[" ",(0,Pb.jsxs)(Ee,{children:[(0,Pb.jsxs)("div",{children:[(0,Pb.jsx)(Vb,{}),(0,Pb.jsxs)(ge,{children:[(0,Pb.jsx)(pe,{path:"/",element:(0,Pb.jsx)(FM,{})}),(0,Pb.jsx)(pe,{path:"/home",element:(0,Pb.jsx)(sE,{})}),(0,Pb.jsx)(pe,{path:"/login",element:(0,Pb.jsx)(Bb,{})}),(0,Pb.jsx)(pe,{path:"/register",element:(0,Pb.jsx)(qP,{})}),(0,Pb.jsx)(pe,{path:"/search",element:(0,Pb.jsx)(fE,{})}),(0,Pb.jsx)(pe,{path:"/feed",element:(0,Pb.jsx)(YM,{})}),(0,Pb.jsx)(pe,{path:"/events",element:(0,Pb.jsx)(zP,{})}),(0,Pb.jsx)(pe,{path:"/myevents",element:(0,Pb.jsx)(WP,{})}),(0,Pb.jsx)(pe,{path:"/user-profile/:uid",element:(0,Pb.jsx)(FM,{})}),(0,Pb.jsx)(pe,{path:"/edit-profile/:uid",element:(0,Pb.jsx)(zM,{})}),(0,Pb.jsx)(pe,{path:"/user/:uid",element:(0,Pb.jsx)(BM,{})}),(0,Pb.jsx)(pe,{path:"/resources",element:(0,Pb.jsx)(VP,{})}),(0,Pb.jsx)(pe,{path:"/contact",element:(0,Pb.jsx)(hE,{})})]})]}),(0,Pb.jsx)(HP,{})]})]})},GP=e=>{e&&e instanceof Function&&__webpack_require__.e(592).then(__webpack_require__.bind(__webpack_require__,592)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,Pb.jsx)(n.StrictMode,{children:(0,Pb.jsx)(YP,{})})),GP()})()})();
//# sourceMappingURL=main.82bdb7a2.js.map